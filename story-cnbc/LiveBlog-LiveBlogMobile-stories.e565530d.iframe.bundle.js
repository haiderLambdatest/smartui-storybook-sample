"use strict";(globalThis.webpackChunkfirecracker=globalThis.webpackChunkfirecracker||[]).push([[4567],{"./components/LiveBlog/LiveBlogMobile.stories.js":(X,L,t)=>{t.r(L),t.d(L,{Mobile:()=>w,MobileEventEnded:()=>$,__namedExportsOrder:()=>K,default:()=>U});var E=t("./node_modules/@babel/runtime/helpers/esm/extends.js"),M=t("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),S=t("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),T=t("./node_modules/styled-jsx/style.js"),x=t.n(T),c=t("./node_modules/next/dist/compiled/react/index.js"),R=t("./node_modules/classnames/index.js"),h=t.n(R),k=t("./node_modules/prop-types/index.js"),B=t.n(k),I=t("./components/props/bento.propsShape.js"),z=t("./components/LiveBlog/LiveBlogHeader.js"),A=t("./components/LiveBlog/LiveBlogButton.js"),D=t("./components/LiveBlog/LiveBlogCard.js"),V=t("./node_modules/lodash.debounce/index.js"),O=t.n(V);const P=327;function F(l){const{0:e,1:s}=(0,c.useState)(0);return(0,c.useEffect)(()=>{if(!l.current)return;const o=m=>{const i=m?.[0]?.contentRect?.width;if(!i)return;const p=Math.floor(i/P);s(p)},g=O()(o,100),n=new ResizeObserver(g);return n.observe(l.current),()=>{n.disconnect()}},[]),e}function G({container:l,cardsPerPage:e,pages:s}){const{0:o,1:g}=(0,c.useState)(1);return(0,c.useEffect)(()=>{const n=l.current;if(!n)return;const m=p=>{const y=P*e,j=Math.ceil((p.target.scrollLeft-7)/y);if(p.target.scrollLeft+p.target.offsetWidth===p.target.scrollWidth){g(s);return}g(j||1)};m({target:n});const i=O()(m,50);return n.addEventListener("scroll",i),()=>{n.removeEventListener("scroll",i)}},[e,s]),o}var W=t("./lib/getIcidString.js"),a=c.createElement;function b({className:l,liveBlog:e,maxCards:s,liveBlogTitle:o}){const g=e?.flag==="LIVE COVERAGE",n=s?e?.cards?.slice(0,s):e?.cards,m=(0,c.useRef)(null),i=F(m),p=n.length&&i?Math.ceil(n.length/i):0,y=G({container:m,cardsPerPage:i,pages:p});if(!e?.cards?.length)return null;const{url:{primary:j}}=e,J=n.length-i-1,Q=u=>()=>{const r=u*i,v=m.current?.querySelector(`[data-index="${r}"]`);v&&m.current.scrollTo({left:v.offsetLeft,behavior:"smooth"})};return a(c.Fragment,null,a(x(),{id:"3961302158"},[".lbm-page{background:none;padding:3px;}",".lbm-container{margin-inline:-20px;}",".lbm-cards{-webkit-scroll-snap-type:x proximity;-moz-scroll-snap-type:x proximity;-ms-scroll-snap-type:x proximity;scroll-snap-type:x proximity;-webkit-overflow-scrolling:touch;padding-top:40px;position:relative;}",".lbm-cards::-webkit-scrollbar{display:none;}",".lbm-card{-webkit-flex:0 0 311px;-ms-flex:0 0 311px;flex:0 0 311px;-webkit-scroll-snap-align:start;-moz-scroll-snap-align:start;-ms-scroll-snap-align:start;scroll-snap-align:start;-webkit-scroll-margin:8px;-moz-scroll-margin:8px;-ms-scroll-margin:8px;scroll-margin:8px;position:relative;height:172px;}",".lbm-card:first-child{-webkit-scroll-margin:16px;-moz-scroll-margin:16px;-ms-scroll-margin:16px;scroll-margin:16px;}",".lbm-card.cutoff{-webkit-scroll-snap-align:none;-moz-scroll-snap-align:none;-ms-scroll-snap-align:none;scroll-snap-align:none;}",".lbm-card .lb-card-meta{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;}",".lbm-card::before{content:'';display:block;width:calc(100% + 24px);height:1px;background:#ccc;position:absolute;top:-24px;left:0;}",".lbm-card:first-child::before{left:16px;}",".lbm-card:last-child::before{background:linear-gradient( 90deg, rgba(204,204,204,1) 0%, rgba(204,204,204,1) 85%, rgba(204,204,204,0) 100% );width:100%;}",".lbm-card .lb-card-content{display:grid;grid-template-rows:auto 1fr auto;height:100%;}",".lbm-pip{width:9px;height:9px;}",".lbm-pagination{min-height:15px;}",".lbm-pip-inactive{border:1px solid #ccc;}","@media screen and (min-width:758px){.lbm-container{margin-inline:-30px;}}"]),a("div",{"data-testid":"liveblog-mobile","data-icid":W.STRING_LIVEBLOG_TRACKER,className:"jsx-3961302158 "+(h()("lbm-container mobile relative mv8 -mh6 pb6 bg-gray-20 pt5",l)||"")},a(z.default,{id:"mobile-live-blog",isLive:g,liveBlogTitle:o,timestamp:n[0]?.date?.publishedAt,className:"ml4"}),a("div",{ref:m,className:"jsx-3961302158 lbm-cards df overflow-x-auto w-100"},n.map((u,r)=>a(D.default,{key:`lbm-${u.id}`,card:u,index:r,className:h()("lbm-card",{ml4:r===0,ml6:r!==0,mr4:r===n.length-1,cutoff:r===J}),avatarLeft:"0px",avatarTop:"-55px",alignContent:"start"}))),p>1&&a("div",{className:"jsx-3961302158 lbm-pagination df items-center justify-center"},Array(p).fill(null).map((u,r)=>{const v=r+1===y;return a("button",{"aria-label":`Go to page ${r}`,"aria-selected":v,key:r,role:"tab",type:"button",onClick:Q(r),className:"jsx-3961302158 lbm-page m0 df b-none pointer items-center justify-center"},a("div",{"data-index":r,className:"jsx-3961302158 "+(h()("lbm-pip br-100",v?"bg-clear-blue":"lbm-pip-inactive")||"")}))})),a("div",{className:"jsx-3961302158 df items-center justify-end mr7"},a(A.default,{isLive:g,url:j}))))}b.propTypes={className:B().string,liveBlog:I.BentoLiveBlog,maxCards:B().number},b.defaultProps={className:null,liveBlog:null,maxCards:4};var C=t("./components/LiveBlog/mock.json");const H=["isLive"];var d=c.createElement;function N(l,e){var s=Object.keys(l);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);e&&(o=o.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),s.push.apply(s,o)}return s}function f(l){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?N(Object(s),!0).forEach(function(o){(0,M.default)(l,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)):N(Object(s)).forEach(function(o){Object.defineProperty(l,o,Object.getOwnPropertyDescriptor(s,o))})}return l}const U={component:b,title:"Features/Curations/Live Blog/Mobile",args:{maxCards:4},parameters:{controls:{exclude:["liveBlog"]}}},w=l=>{let{isLive:e}=l,s=(0,S.default)(l,H);const o=f(f({},C),{},{flag:e?"LIVE COVERAGE":""});return d(c.Fragment,null,d(x(),{id:"954818601"},[".live-blog.jsx-954818601{margin:0 30px;}"]),d("p",{className:"jsx-954818601"},"Note: Use your browser's mobile view to enable touch manipulation."),d("div",{className:"jsx-954818601 live-blog"},d(b,(0,E.default)({liveBlog:o},s))))};w.args={isLive:!0};const $=l=>{const e=f(f({},C),{},{flag:""});return d(c.Fragment,null,d(x(),{id:"954818601"},[".live-blog.jsx-954818601{margin:0 30px;}"]),d("p",{className:"jsx-954818601"},"Note: Use your browser's mobile view to enable touch manipulation."),d("div",{className:"jsx-954818601 live-blog"},d(b,(0,E.default)({liveBlog:e},l))))},K=["Mobile","MobileEventEnded"]}}]);
