"use strict";(globalThis.webpackChunkfirecracker=globalThis.webpackChunkfirecracker||[]).push([[7470],{"./components/StateMap/2022/StateMapTooltip/TooltipTable.js":(b,a,t)=>{t.r(a),t.d(a,{default:()=>A});var i=t("./node_modules/styled-jsx/style.js"),d=t.n(i),n=t("./node_modules/next/dist/compiled/react/index.js"),o=t("./node_modules/classnames/index.js"),r=t.n(o),e=t("./node_modules/lodash.kebabcase/index.js"),m=t.n(e),j=t("./node_modules/prop-types/index.js"),l=t.n(j),T=t("./node_modules/react-i18next/dist/es/index.js"),R=t("./components/VotesText.js"),w=t("./components/Checkmark.js"),p=t("./helpers/color.js"),s=n.createElement;const h=({t:g,showTooltipClose:C,heading:x,percentOfVotesIn:u,candidates:D,officeCode:S})=>{const I=D.length>6?D.slice(0,5):D,L=c=>c&&c.replace(/&quot;/g,'"'),y=S==="H";return s(n.Fragment,null,s(d(),{id:"2648320259"},[".border.jsx-2648320259{border-top:solid 1px #ccc;}","thead.jsx-2648320259 tr.jsx-2648320259 td.jsx-2648320259{padding-bottom:8px;vertical-align:bottom;}","tbody.jsx-2648320259 tr.jsx-2648320259:not(:last-child) td.jsx-2648320259{border-bottom:dashed 1px #cccccc;padding-bottom:4px;}","tbody.jsx-2648320259 tr.jsx-2648320259 td.jsx-2648320259{padding-top:4px;vertical-align:baseline;}","td.jsx-2648320259:not(:last-child){padding-right:8px;}",".swatch.jsx-2648320259{display:inline-block;width:15px;height:15px;margin-bottom:-1px;margin-right:5px;background:var(--candidate-color);}","@media screen and (max-width:757px){.tooltip-width--mobile-only.jsx-2648320259{width:80vw;}}","@media screen and (min-width:758px){.tooltip-data.jsx-2648320259{width:auto;}}"]),s("table",{className:"jsx-2648320259 "+(r()({"tooltip-width--mobile-only":C},"tooltip-data")||"")},s("thead",{className:"jsx-2648320259"},s("tr",{className:"jsx-2648320259"},s("td",{colSpan:"2",className:"jsx-2648320259"},s("div",{className:"jsx-2648320259 dib founders-cond f5 lh-none fw6 gray-100 ttu mr2"},x)),s("td",{className:"jsx-2648320259 tr"},s("span",{className:"jsx-2648320259 dn dib-m"},s("span",{className:"jsx-2648320259 tooltip__percent-of-votes-in lh-none ttu fw4 founders-mono f2 ws-nowrap gray-80 dn db-m ws-nowrap dib"},u==="0"||u===0?`0% ${g("expected vote in")}`:`${u}% ${g("In")}`))))),s("tbody",{className:"jsx-2648320259"},I.map((c,W)=>s("tr",{key:`national-map-tooltip-${m()(c.name)}`,"data-testid":"tooltip-candidate",style:{"--candidate-color":(0,p.convertToHex)(c.colorHex)},className:"jsx-2648320259"},s("td",{"data-testid":"tooltip-candidate__info",className:"jsx-2648320259 publico-txt f3 lh-copy fw4 gray-100 lh-none"},s("span",{className:"jsx-2648320259 swatch"}),L(c.name)),s("td",{className:"jsx-2648320259 founders-cond f6 lh-none tr fw6 gray-100"},c.percentOfVoteFormatted,s(w.default,{nonpartisanWinner:!0,shouldDisplay:y&&c.isWinner})),s("td",{className:"jsx-2648320259"},s(R.default,{votes:c.vote,classes:"tr",showVotesLabel:W===0&&c.vote===0})))))),s("div",{className:"jsx-2648320259 border tr db dn-m mr1 pt1"},s("span",{className:"jsx-2648320259 lh-none ttu fw4 founders-mono f2 ws-nowrap gray-80 dn db-m ws-nowrap dib"},`${u}% ${g("In")}`)))};h.propTypes={showTooltipClose:l().bool,heading:l().string,percentOfVotesIn:l().oneOfType([l().string,l().number]),candidates:l().arrayOf(l().shape({colorHex:l().string,isWinner:l().bool,name:l().string,party:l().string,percentOfVote:l().number,percentOfVoteFormatted:l().string,vote:l().number,voteFormatted:l().string})),officeCode:l().string},h.defaultProps={showTooltipClose:!1,heading:"",percentOfVotesIn:"",candidates:[],officeCode:""};const A=(0,T.withTranslation)()(h)},"./components/StateMap/2022/index.js":(b,a,t)=>{t.r(a),t.d(a,{PrimariesStateMapSwitcher:()=>yt.default,default:()=>Pt});var i=t("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=t("./node_modules/styled-jsx/style.js"),n=t.n(d),o=t("./node_modules/next/dist/compiled/react/index.js"),r=t("./node_modules/prop-types/index.js"),e=t.n(r),m=t("./node_modules/next/amp.js"),j=t("./components/hooks/useWindowSize.js"),l=t("./components/AmpLiveListWrapper.js"),T=t("./data/mapDimensions.json"),R=t("./components/Tooltip.js"),w=t("./components/icons/CloseX.js"),p=t("./components/StateMap/2022/StateMapTooltip/TooltipTable.js"),s=o.createElement;const h=({closeCb:E,showTooltipClose:v,raceName:O,candidates:P,percentOfVotesIn:B,officeCode:F})=>s(o.Fragment,null,s(n(),{id:"4026857249"},[".call-status.jsx-4026857249{background-color:#ffd60c;}",".closing-icon.jsx-4026857249{right:0;top:0;}",".border.jsx-4026857249{border-top:solid 1px #ccc;}","thead.jsx-4026857249 tr.jsx-4026857249 td.jsx-4026857249{padding-bottom:8px;vertical-align:bottom;}","tbody.jsx-4026857249 tr.jsx-4026857249:not(:last-child) td.jsx-4026857249{border-bottom:dashed 1px #cccccc;padding-bottom:4px;}","tbody.jsx-4026857249 tr.jsx-4026857249 td.jsx-4026857249{padding-top:4px;vertical-align:baseline;}","td.jsx-4026857249:not(:last-child){padding-right:8px;}",".swatch.jsx-4026857249{display:inline-block;width:15px;height:15px;margin-bottom:-1px;margin-right:5px;}","@media screen and (max-width:757px){.tooltip-width--mobile-only.jsx-4026857249{width:80vw;}}","@media screen and (min-width:758px){.call-status-wrapper.jsx-4026857249{margin-bottom:0;}.tooltip-data.jsx-4026857249{width:auto;}}"]),v&&s("div",{className:"jsx-4026857249 mb6-m"},s("span",{onClick:E,"data-testid":"close-btn",className:"jsx-4026857249 pointer closing-icon pa3 absolute"},s(w.default,null))),s(p.default,{showTooltipClose:v,heading:O,percentOfVotesIn:B,candidates:P,officeCode:F}));h.propTypes={showTooltipClose:e().bool,closeCb:e().func,raceName:e().string,candidates:e().arrayOf(e().any),percentOfVotesIn:e().oneOfType([e().string,e().number]),officeCode:e().string},h.defaultProps={showTooltipClose:!1,closeCb:()=>{},candidates:[],raceName:"",percentOfVotesIn:"",officeCode:""};const A=h;var g=o.createElement;const C=({selectedFeatureId:E,hoverRefElement:v,showTooltip:O,tooltipOptions:P,stateMapData:B,officeCode:F})=>{if(!O)return null;const{raceName:k,candidates:V,percentIn:N}=B[E]??{};return g(R.default,{id:"state-map__tooltip","data-testid":"state-map__tooltip",hoveredElement:v,popperOptions:P},V?g(A,{raceName:k,candidates:V,percentOfVotesIn:N,officeCode:F}):g("span",{className:"f3 publico-txt lh-copy"},"Area with no reported results"))};C.displayName="StateMapTooltip",C.propTypes={hoverRefElement:e().objectOf(e().any),tooltipOptions:e().objectOf(e().any),stateMapData:e().objectOf(e().any),showTooltip:e().bool,officeCode:e().string},C.defaultProps={hoverRefElement:{},tooltipOptions:{},stateMapData:{},showTooltip:!1,officeCode:""};const u=C;var D=t("./components/ElectionMap/ElectionMap.js"),S=t("./components/ElectionMap/constants.js"),I=t("./helpers/getStatePlane.js"),L=t("./components/hooks/useTooltipState.js"),y=t("./helpers/stateMapHelpers.js");const{LEFT:c,TOP:W,BOTTOM:Q,RIGHT:H}=S.LABEL_LAYER_POSITION,ft={AK:{Juneau:c},FL:{Tallahassee:W},KS:{"Overland Park":Q,Topeka:c},KY:{Louisville:W,Lexington:Q},MN:{Minneapolis:W,"Saint Paul":H},NJ:{"Jersey City":H,Newark:W},NY:{Buffalo:H},NC:{Raleigh:H},ND:{Fargo:c},PA:{Philadelphia:c},SD:{"Sioux Falls":c},TX:{Austin:W},VA:{Chesapeake:c},WA:{Spokane:c},WI:{Madison:Q},WY:{Cheyenne:W}},ht={FL:{Tallahassee:{textAnchor:"start","--y-offset":"-10px"}},CA:{"San Jose":{"--y-offset":"16px"}},KS:{"Overland Park":{textAnchor:"end","--x-offset":"24px"},Topeka:{"--y-offset":"-6px"}},KY:{Louisville:{textAnchor:"end","--x-offset":"8px","--y-offset":"-6px"},Frankfort:{"--y-offset":"-2px"},Lexington:{textAnchor:"start","--x-offset":"10px"}},MN:{Minneapolis:{textAnchor:"start"},"Saint Paul":{"--y-offset":"20px"}},NJ:{Newark:{textAnchor:"start","--x-offset":"8px"},"Jersey City":{"--y-offset":"16px"}},NY:{Buffalo:{"--y-offset":"16px"}},NC:{Raleigh:{"--y-offset":"16px"}},TX:{Austin:{textAnchor:"start"}}};var xt=t("./components/hooks/useExternalClickListener.js"),Et=t("./components/hooks/useIsSafari.js"),K=o.createElement;function it(E,v){var O=Object.keys(E);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(E);v&&(P=P.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),O.push.apply(O,P)}return O}function jt(E){for(var v=1;v<arguments.length;v++){var O=arguments[v]!=null?arguments[v]:{};v%2?it(Object(O),!0).forEach(function(P){(0,i.default)(E,P,O[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(O)):it(Object(O)).forEach(function(P){Object.defineProperty(E,P,Object.getOwnPropertyDescriptor(O,P))})}return E}const Tt=400,vt=1.5,Ot=["AL","AR","AZ","CA","DE","GA","ID","IL","IN","ME","MI","MN","MO","MS","NH","NM","NV","UT","VT"],Y=({stateMapData:E,disableTooltips:v,geography:O,id:P,isSubStateMap:B,projection:F,showInstructions:k,topojson:V,stateAbbr:N,height:X,width:q,officeCode:Mt,tooltipOffset:rt})=>{const tt=(0,o.useRef)(null),dt=(0,Et.default)(),{0:et,1:z}=(0,o.useState)(null),{width:ot}=(0,j.default)({trailing:!0}),st=ot<758,{hoverElement:Ct,showTooltip:ct,onStateInteraction:G,closeTooltip:pt}=(0,L.default)({container:tt,isMobile:st}),Dt=(0,o.useCallback)(()=>{pt(),z(null)},[pt]);(0,xt.default)({onExternalClick:Dt,enabled:ct,selector:".tooltip"});const St=(0,o.useMemo)(()=>{if(!E)return[];const U=f=>f?.backgroundColorHex||f?.fill||"#CCC",_=f=>!!E[(0,y.default)(f)],$=f=>{z(null),G(f,null)};return[{type:S.LAYER_TYPE.GEO,featureId:y.default,source:V,style:{fill:f=>U(E[(0,y.default)(f)])},objectKey:O},{type:S.LAYER_TYPE.INTERACTIVE,featureId:y.default,source:V,onFeatureHover(f,M){if(v||M&&!_(M)){$(f);return}st||(z(M),G(f,M))},onFeatureClick(f,M){if(v||M&&!_(M)){$(f);return}z(M),G(f,M)}},{type:S.LAYER_TYPE.LABELS,featureId:y.default,label:f=>f.properties.NAME,position(f){const{STATE:M,NAME:lt}=f.properties;return ft[M]?.[lt]??S.LABEL_LAYER_POSITION.RIGHT},style:{textStyle(f){const{STATE:M,NAME:lt}=f.properties;return jt({fontSize:"calc(var(--state-map-font-size) * var(--scale))",textShadow:dt?"4px 1px 7px rgba(255, 255, 255, 0.6)":void 0},ht[M]?.[lt]??{})}},source:{type:"FeatureCollection",features:(0,y.getTopCities)(N)}}]},[O,st,dt,v,G,N,E,V]),ut=(0,m.useAmp)(),nt=(0,o.useMemo)(()=>{const U=T[N?.toUpperCase?.()]||{};return B?U.subState||{}:U.primaries||{}},[B,N]),at=X||nt.height||Tt,{0:{height:J,width:Z},1:mt}=(0,o.useState)({});(0,o.useEffect)(()=>{const U=tt.current;if(!U)return;if(X&&q){mt({width:q,height:X});return}const{width:_}=U.getBoundingClientRect(),$=nt.aspectRatio||vt,f=Math.floor(at*$),M=Math.min(f,_,ot??1/0);mt({width:M,height:M/$})},[nt.aspectRatio,at,B,N,ot,X,q]);const Lt=(0,o.useMemo)(()=>F||(0,I.default)(N,Z,J),[F,J,N,Z]),At=(0,o.useMemo)(()=>({modifiers:[{name:"offset",options:{offset:[0,rt||25]}}]}),[rt]);if(!E)return null;const Rt=!!J&&!!Z;return K("div",{"data-testid":P,"data-state":N,"data-portrait":Ot.includes(N),className:"jsx-1012878210 us-state-map mt2"},K(n(),{id:"1012878210"},[".svg-wrapper.jsx-1012878210{--state-map-font-size:13px;max-width:600px;margin:0 auto;}","@media screen and (min-width:500px){.svg-wrapper.jsx-1012878210{--state-map-font-size:16px;}}"]),!v&&K(u,{selectedFeatureId:et&&(0,y.default)(et),hoverRefElement:Ct,showTooltip:ct,tooltipOptions:At,stateMapData:E,officeCode:Mt}),K(l.default,{id:`${N}-${O}-${P}-map-amp-live-list`,dataMaxItemsPerPage:1,isAmp:ut},K("div",{ref:tt,className:"jsx-1012878210 svg-wrapper"},Rt?K(D.default,{layers:St,height:J,width:Z,projection:Lt,selectedFeature:et}):K("div",{style:{height:at},className:"jsx-1012878210 w-100"}))),k&&!ut&&K("div",{id:"js-map-hover-instructions","data-test":"statewide__map-hover-instructions",className:"jsx-1012878210 dn publico-txt f3 fs-italic gray-100 lh-title tr"},"Hover over the map for details"))};Y.displayName="GeneralStateMap",Y.propTypes={disableTooltips:e().bool,geography:e().oneOf(["counties","districts","townships","legislativeDistricts","congressionalDistricts","wards","municipalities"]),id:e().string,isSubStateMap:e().bool,stateAbbr:e().string.isRequired,stateMapData:e().objectOf(e().any).isRequired,height:e().number,width:e().number,topojson:e().objectOf(e().any).isRequired,officeCode:e().string,tooltipOffset:e().number},Y.defaultProps={disableTooltips:!1,geography:"counties",id:"",isSubStateMap:!1,height:null,width:null,officeCode:null,tooltipOffset:null};const gt=Y;var yt=t("./components/StateMap/2022/primaries/USStateMapSwitcher.js");const Pt=gt},"./components/Tooltip.js":(b,a,t)=>{t.r(a),t.d(a,{default:()=>C});var i=t("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),d=t("./node_modules/@babel/runtime/helpers/esm/extends.js"),n=t("./node_modules/next/dist/compiled/react/index.js"),o=t("./node_modules/prop-types/index.js"),r=t.n(o),e=t("./node_modules/next/dist/compiled/react-dom/index.js"),m=t("./node_modules/react-popper/lib/esm/usePopper.js"),j=t("./node_modules/classnames/index.js"),l=t.n(j);function T(x){const u=document.createElement("div");return u.setAttribute("id",x),u}function R(x){document.body.insertBefore(x,document.body.lastElementChild.nextElementSibling)}function w(x){const u=(0,n.useRef)(null);(0,n.useEffect)(function(){const I=document.querySelector(`#${x}`),L=I||T(x);return I||R(L),L.appendChild(u.current),function(){u.current.remove(),L.childNodes.length===-1&&L.remove()}},[]);function D(){return u.current||(u.current=document.createElement("div")),u.current}return D()}const p=w,s=["id","children","hoveredElement","popperOptions"];var h=n.createElement;const A=({children:x,refElement:u,popperOptions:D})=>{const[S,I]=n.useState(null),{styles:L,attributes:y}=(0,m.usePopper)(u,S,D);return h("div",(0,d.default)({className:l()("tooltip bg-white b-gray-40 b-solid bw-1px",D.anchored?"pa4 w-100":"pa2"),ref:I,style:L.popper},y.popper),x)};A.displayName="TooltipWrapper";const g=x=>{let{id:u,children:D,hoveredElement:S,popperOptions:I}=x,L=(0,i.default)(x,s);const y=p(u);return typeof window<"u"&&window.document&&window.document.createElement?(0,e.createPortal)(h(A,(0,d.default)({refElement:S,popperOptions:I},L),D),y):null};g.propTypes={children:r().node,hoveredElement:r().objectOf(r().any),popperOptions:r().objectOf(r().any)},g.defaultProps={children:null,hoveredElement:null,popperOptions:{}};const C=g},"./components/VotesText.js":(b,a,t)=>{t.r(a),t.d(a,{default:()=>m});var i=t("./node_modules/next/dist/compiled/react/index.js"),d=t("./node_modules/prop-types/index.js"),n=t.n(d),o=t("./helpers/formatVotes.js"),r=i.createElement;const e=({votes:j,showVotesLabel:l,classes:T})=>j===null||j<0?null:r("p",{className:`founders-mono f2 lh-none fw6 gray-80 mv0 ${T}`,"data-test":"votes-text","data-testid":"votes-text"},(0,o.default)({showVotesLabel:l,votes:j}));e.displayName="VotesText",e.propTypes={votes:n().number,showVotesLabel:n().bool},e.defaultProps={votes:null,showVotesLabel:!1};const m=e},"./components/hooks/useExternalClickListener.js":(b,a,t)=>{t.r(a),t.d(a,{default:()=>d});var i=t("./node_modules/next/dist/compiled/react/index.js");function d({enabled:n,selector:o,onExternalClick:r}){(0,i.useEffect)(()=>{if(!n)return;const e=m=>{m.target?.closest?.(o)||r(m)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[n,o,r])}},"./components/hooks/useTooltipState.js":(b,a,t)=>{t.r(a),t.d(a,{default:()=>n});var i=t("./node_modules/next/dist/compiled/react/index.js");function d(o){const r={top:o.clientY,right:o.clientX,bottom:o.clientY,left:o.clientX,height:0,width:0};return{getBoundingClientRect(){return r}}}function n({isEmbed:o=!1,isMobile:r=!1,zoomable:e=!1,container:m}){const{0:j,1:l}=(0,i.useState)(null),{0:T,1:R}=(0,i.useState)(null),{0:w,1:p}=(0,i.useState)({}),s=(0,i.useMemo)(()=>o?{placement:"top",modifiers:[{name:"offset",options:{offset:[0,15]}}]}:{modifiers:[{name:"offset",options:{offset:[0,25]}}]},[o]),h=(0,i.useMemo)(()=>e?{placement:"bottom",strategy:"fixed",anchored:!0,modifiers:[{name:"offset",options:{offset:[0,50]}},{name:"flip",options:{fallbackPlacements:["bottom"]}}]}:{placement:"bottom",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,-200]}}]},[e]),A=(0,i.useCallback)((C,x)=>{if(C?.stopPropagation(),!x){R(null),l(null);return}const u=d(C);if(l(u),r){p(h),R(m.current);return}R(u),p(s)},[m,s,r,h]),g=(0,i.useCallback)(()=>{R(null)},[]);return(0,i.useEffect)(()=>{T&&R(r?m.current:j)},[r]),{hoverElement:T,closeTooltip:g,showTooltip:!!T,tooltipOptions:w,onStateInteraction:A}}},"./components/hooks/useWindowSize.js":(b,a,t)=>{t.r(a),t.d(a,{default:()=>r});var i=t("./node_modules/next/dist/compiled/react/index.js"),d=t("./node_modules/lodash.debounce/index.js"),n=t.n(d);function o({trailing:e=!1}={}){const{0:m,1:j}=(0,i.useState)({width:void 0,height:void 0});return(0,i.useEffect)(()=>{const l={leading:!0,trailing:e},T=n()(()=>{j({width:window.innerWidth,height:window.innerHeight})},200,l);return window.addEventListener("resize",T),T(),()=>window.removeEventListener("resize",T)},[]),m}const r=o},"./components/icons/CloseX.js":(b,a,t)=>{t.r(a),t.d(a,{default:()=>o});var i=t("./node_modules/next/dist/compiled/react/index.js"),d=i.createElement;const n=()=>d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},d("path",{d:"M0.848371 22.9103L22.9101 0.848531",stroke:"#3061FF"}),d("path",{d:"M0.848371 0.848528L22.9101 22.9103",stroke:"#3061FF"}));n.displayName="CloseX";const o=n},"./helpers/color.js":(b,a,t)=>{t.r(a),t.d(a,{convertToHex:()=>i,hexToRgb:()=>d});function i(n){return n&&(n.startsWith("#")?n.toLowerCase():`#${n.replace("bg-","")}`.toLowerCase())}function d(n){const o=n.replace("#","");return(o.length===3?o.split("").map(e=>`${e}${e}`):o.split(/(\w{2})/).filter(Boolean)).map(e=>parseInt(e,16)).join(",")}},"./helpers/formatVotes.js":(b,a,t)=>{t.r(a),t.d(a,{default:()=>r});var i=t("./node_modules/d3-format/src/defaultLocale.js"),d=t("./helpers/typeChecker.js");const n=(0,i.format)(","),r=({showVotesLabel:e,votes:m,label:j="votes"})=>(0,d.isNumber)(m)?e?`${n(m)} ${j}`:n(m):""},"./helpers/stateMapHelpers.js":(b,a,t)=>{t.r(a),t.d(a,{default:()=>w,getTopCities:()=>e});var i=t("./node_modules/lodash.kebabcase/index.js"),d=t.n(i),n=t("./node_modules/lodash.orderby/index.js"),o=t.n(n),r=t("./data/usCities.json");const e=p=>{const s=r.features.filter(A=>A.properties.STATE===p.toUpperCase()),h=o()(s,["properties.POP_2010"],["desc"]);return p==="CA"?h.slice(0,5):p==="TX"||p==="FL"||p==="NY"?h.slice(0,4):h.slice(0,3)},m=p=>!!p,j=p=>!!p,l=p=>!!p,T=p=>!!p,w=p=>{const{CDFP:s,GEOID:h,TOWN:A,NDISTRICT:g,CONGRESSIONAL_DISTRICT:C,WARD:x,MUNICIPALITY:u}=p.properties,D=m(A),S=j(g),I=l(C),L=T(x),y=u;let c=h;if(s&&(s==="00"?c="01":c=`${s}`),D&&(c=d()(`${A}`)),S&&(c=g),I&&(c=d()(`${C}`)),L&&(c=d()(`${x}`)),y){const{NAME:W=""}=p.properties;c=d()(W)}return c}}}]);
