(globalThis.webpackChunkfirecracker=globalThis.webpackChunkfirecracker||[]).push([[5279],{"./node_modules/@nbcnews/analytics-framework/dist/analytics-framework.min.js":function(Dt,_t,K){(function(V,G){Dt.exports=G()})(this,function(){"use strict";var V=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof K.g<"u"?K.g:typeof self<"u"?self:{};return{stub:function(){const G=typeof self=="object"&&self.self===self&&self||typeof V=="object"&&V.global===V&&V||this;return G.$t=G.$t||function(){const lt=function Q(...j){const dt=j,gt="getSaves";return dt.length>=1&&gt!==dt[0]&&Q.storedCommands.push(dt),gt===dt[0]?Q.storedCommands:""};return lt.storedCommands=[],lt.stub="2.0",lt}(),G.$t}()}})},"./node_modules/@turf/area/dist/es/index.js":(Dt,_t,K)=>{"use strict";K.r(_t),K.d(_t,{default:()=>tt});var V=K("./node_modules/@turf/helpers/dist/es/index.js");function G(A,I,M){if(A!==null)for(var S,R,O,p,f,u,m,H=0,B=0,$,z=A.type,nt=z==="FeatureCollection",ht=z==="Feature",q=nt?A.features.length:1,it=0;it<q;it++){m=nt?A.features[it].geometry:ht?A.geometry:A,$=m?m.type==="GeometryCollection":!1,f=$?m.geometries.length:1;for(var At=0;At<f;At++){var St=0,kt=0;if(p=$?m.geometries[At]:m,p!==null){u=p.coordinates;var Bt=p.type;switch(H=M&&(Bt==="Polygon"||Bt==="MultiPolygon")?1:0,Bt){case null:break;case"Point":if(I(u,B,it,St,kt)===!1)return!1;B++,St++;break;case"LineString":case"MultiPoint":for(S=0;S<u.length;S++){if(I(u[S],B,it,St,kt)===!1)return!1;B++,Bt==="MultiPoint"&&St++}Bt==="LineString"&&St++;break;case"Polygon":case"MultiLineString":for(S=0;S<u.length;S++){for(R=0;R<u[S].length-H;R++){if(I(u[S][R],B,it,St,kt)===!1)return!1;B++}Bt==="MultiLineString"&&St++,Bt==="Polygon"&&kt++}Bt==="Polygon"&&St++;break;case"MultiPolygon":for(S=0;S<u.length;S++){for(kt=0,R=0;R<u[S].length;R++){for(O=0;O<u[S][R].length-H;O++){if(I(u[S][R][O],B,it,St,kt)===!1)return!1;B++}kt++}St++}break;case"GeometryCollection":for(S=0;S<p.geometries.length;S++)if(G(p.geometries[S],I,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function lt(A,I,M,S){var R=M;return G(A,function(O,p,f,u,m){p===0&&M===void 0?R=O:R=I(R,O,p,f,u,m)},S),R}function Q(A,I){var M;switch(A.type){case"FeatureCollection":for(M=0;M<A.features.length&&I(A.features[M].properties,M)!==!1;M++);break;case"Feature":I(A.properties,0);break}}function j(A,I,M){var S=M;return Q(A,function(R,O){O===0&&M===void 0?S=R:S=I(S,R,O)}),S}function dt(A,I){if(A.type==="Feature")I(A,0);else if(A.type==="FeatureCollection")for(var M=0;M<A.features.length&&I(A.features[M],M)!==!1;M++);}function gt(A,I,M){var S=M;return dt(A,function(R,O){O===0&&M===void 0?S=R:S=I(S,R,O)}),S}function wt(A){var I=[];return G(A,function(M){I.push(M)}),I}function et(A,I){var M,S,R,O,p,f,u,m,H,B,$=0,z=A.type==="FeatureCollection",nt=A.type==="Feature",ht=z?A.features.length:1;for(M=0;M<ht;M++){for(f=z?A.features[M].geometry:nt?A.geometry:A,m=z?A.features[M].properties:nt?A.properties:{},H=z?A.features[M].bbox:nt?A.bbox:void 0,B=z?A.features[M].id:nt?A.id:void 0,u=f?f.type==="GeometryCollection":!1,p=u?f.geometries.length:1,R=0;R<p;R++){if(O=u?f.geometries[R]:f,O===null){if(I(null,$,m,H,B)===!1)return!1;continue}switch(O.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(I(O,$,m,H,B)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<O.geometries.length;S++)if(I(O.geometries[S],$,m,H,B)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}$++}}function W(A,I,M){var S=M;return et(A,function(R,O,p,f,u){O===0&&M===void 0?S=R:S=I(S,R,O,p,f,u)}),S}function E(A,I){et(A,function(M,S,R,O,p){var f=M===null?null:M.type;switch(f){case null:case"Point":case"LineString":case"Polygon":return I((0,V.feature)(M,R,{bbox:O,id:p}),S,0)===!1?!1:void 0}var u;switch(f){case"MultiPoint":u="Point";break;case"MultiLineString":u="LineString";break;case"MultiPolygon":u="Polygon";break}for(var m=0;m<M.coordinates.length;m++){var H=M.coordinates[m],B={type:u,coordinates:H};if(I((0,V.feature)(B,R),S,m)===!1)return!1}})}function T(A,I,M){var S=M;return E(A,function(R,O,p){O===0&&p===0&&M===void 0?S=R:S=I(S,R,O,p)}),S}function a(A,I){E(A,function(M,S,R){var O=0;if(M.geometry){var p=M.geometry.type;if(!(p==="Point"||p==="MultiPoint")){var f,u=0,m=0,H=0;if(G(M,function(B,$,z,nt,ht){if(f===void 0||S>u||nt>m||ht>H){f=B,u=S,m=nt,H=ht,O=0;return}var q=(0,V.lineString)([f,B],M.properties);if(I(q,S,R,ht,O)===!1)return!1;O++,f=B})===!1)return!1}}})}function _(A,I,M){var S=M,R=!1;return a(A,function(O,p,f,u,m){R===!1&&M===void 0?S=O:S=I(S,O,p,f,u,m),R=!0}),S}function g(A,I){if(!A)throw new Error("geojson is required");E(A,function(M,S,R){if(M.geometry!==null){var O=M.geometry.type,p=M.geometry.coordinates;switch(O){case"LineString":if(I(M,S,R,0,0)===!1)return!1;break;case"Polygon":for(var f=0;f<p.length;f++)if(I((0,V.lineString)(p[f],M.properties),S,R,f)===!1)return!1;break}}})}function y(A,I,M){var S=M;return g(A,function(R,O,p,f){O===0&&M===void 0?S=R:S=I(S,R,O,p,f)}),S}function x(A,I){if(I=I||{},!(0,V.isObject)(I))throw new Error("options is invalid");var M=I.featureIndex||0,S=I.multiFeatureIndex||0,R=I.geometryIndex||0,O=I.segmentIndex||0,p=I.properties,f;switch(A.type){case"FeatureCollection":M<0&&(M=A.features.length+M),p=p||A.features[M].properties,f=A.features[M].geometry;break;case"Feature":p=p||A.properties,f=A.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":f=A;break;default:throw new Error("geojson is invalid")}if(f===null)return null;var u=f.coordinates;switch(f.type){case"Point":case"MultiPoint":return null;case"LineString":return O<0&&(O=u.length+O-1),(0,V.lineString)([u[O],u[O+1]],p,I);case"Polygon":return R<0&&(R=u.length+R),O<0&&(O=u[R].length+O-1),(0,V.lineString)([u[R][O],u[R][O+1]],p,I);case"MultiLineString":return S<0&&(S=u.length+S),O<0&&(O=u[S].length+O-1),(0,V.lineString)([u[S][O],u[S][O+1]],p,I);case"MultiPolygon":return S<0&&(S=u.length+S),R<0&&(R=u[S].length+R),O<0&&(O=u[S][R].length-O-1),(0,V.lineString)([u[S][R][O],u[S][R][O+1]],p,I)}throw new Error("geojson is invalid")}function F(A,I){if(I=I||{},!(0,V.isObject)(I))throw new Error("options is invalid");var M=I.featureIndex||0,S=I.multiFeatureIndex||0,R=I.geometryIndex||0,O=I.coordIndex||0,p=I.properties,f;switch(A.type){case"FeatureCollection":M<0&&(M=A.features.length+M),p=p||A.features[M].properties,f=A.features[M].geometry;break;case"Feature":p=p||A.properties,f=A.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":f=A;break;default:throw new Error("geojson is invalid")}if(f===null)return null;var u=f.coordinates;switch(f.type){case"Point":return(0,V.point)(u,p,I);case"MultiPoint":return S<0&&(S=u.length+S),(0,V.point)(u[S],p,I);case"LineString":return O<0&&(O=u.length+O),(0,V.point)(u[O],p,I);case"Polygon":return R<0&&(R=u.length+R),O<0&&(O=u[R].length+O),(0,V.point)(u[R][O],p,I);case"MultiLineString":return S<0&&(S=u.length+S),O<0&&(O=u[S].length+O),(0,V.point)(u[S][O],p,I);case"MultiPolygon":return S<0&&(S=u.length+S),R<0&&(R=u[S].length+R),O<0&&(O=u[S][R].length-O),(0,V.point)(u[S][R][O],p,I)}throw new Error("geojson is invalid")}var Z=6378137;function tt(A){return W(A,function(I,M){return I+Y(M)},0)}function Y(A){var I=0,M;switch(A.type){case"Polygon":return Tt(A.coordinates);case"MultiPolygon":for(M=0;M<A.coordinates.length;M++)I+=Tt(A.coordinates[M]);return I;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function Tt(A){var I=0;if(A&&A.length>0){I+=Math.abs(yt(A[0]));for(var M=1;M<A.length;M++)I-=Math.abs(yt(A[M]))}return I}function yt(A){var I,M,S,R,O,p,f,u=0,m=A.length;if(m>2){for(f=0;f<m;f++)f===m-2?(R=m-2,O=m-1,p=0):f===m-1?(R=m-1,O=0,p=1):(R=f,O=f+1,p=f+2),I=A[R],M=A[O],S=A[p],u+=(Mt(S[0])-Mt(I[0]))*Math.sin(Mt(M[1]));u=u*Z*Z/2}return u}function Mt(A){return A*Math.PI/180}},"./node_modules/@turf/helpers/dist/es/index.js":(Dt,_t,K)=>{"use strict";K.r(_t),K.d(_t,{areaFactors:()=>Q,bearingToAzimuth:()=>Tt,convertArea:()=>I,convertLength:()=>A,degreesToRadians:()=>Mt,earthRadius:()=>V,factors:()=>G,feature:()=>j,featureCollection:()=>a,geometry:()=>dt,geometryCollection:()=>x,isNumber:()=>M,isObject:()=>S,lengthToDegrees:()=>Y,lengthToRadians:()=>tt,lineString:()=>E,lineStrings:()=>T,multiLineString:()=>_,multiPoint:()=>g,multiPolygon:()=>y,point:()=>gt,points:()=>wt,polygon:()=>et,polygons:()=>W,radiansToDegrees:()=>yt,radiansToLength:()=>Z,round:()=>F,unitsFactors:()=>lt,validateBBox:()=>R,validateId:()=>O});var V=63710088e-1,G={centimeters:V*100,centimetres:V*100,degrees:V/111325,feet:V*3.28084,inches:V*39.37,kilometers:V/1e3,kilometres:V/1e3,meters:V,metres:V,miles:V/1609.344,millimeters:V*1e3,millimetres:V*1e3,nauticalmiles:V/1852,radians:1,yards:V*1.0936},lt={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/V,yards:1.0936133},Q={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function j(p,f,u){u===void 0&&(u={});var m={type:"Feature"};return(u.id===0||u.id)&&(m.id=u.id),u.bbox&&(m.bbox=u.bbox),m.properties=f||{},m.geometry=p,m}function dt(p,f,u){switch(u===void 0&&(u={}),p){case"Point":return gt(f).geometry;case"LineString":return E(f).geometry;case"Polygon":return et(f).geometry;case"MultiPoint":return g(f).geometry;case"MultiLineString":return _(f).geometry;case"MultiPolygon":return y(f).geometry;default:throw new Error(p+" is invalid")}}function gt(p,f,u){if(u===void 0&&(u={}),!p)throw new Error("coordinates is required");if(!Array.isArray(p))throw new Error("coordinates must be an Array");if(p.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!M(p[0])||!M(p[1]))throw new Error("coordinates must contain numbers");var m={type:"Point",coordinates:p};return j(m,f,u)}function wt(p,f,u){return u===void 0&&(u={}),a(p.map(function(m){return gt(m,f)}),u)}function et(p,f,u){u===void 0&&(u={});for(var m=0,H=p;m<H.length;m++){var B=H[m];if(B.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var $=0;$<B[B.length-1].length;$++)if(B[B.length-1][$]!==B[0][$])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:p};return j(z,f,u)}function W(p,f,u){return u===void 0&&(u={}),a(p.map(function(m){return et(m,f)}),u)}function E(p,f,u){if(u===void 0&&(u={}),p.length<2)throw new Error("coordinates must be an array of two or more positions");var m={type:"LineString",coordinates:p};return j(m,f,u)}function T(p,f,u){return u===void 0&&(u={}),a(p.map(function(m){return E(m,f)}),u)}function a(p,f){f===void 0&&(f={});var u={type:"FeatureCollection"};return f.id&&(u.id=f.id),f.bbox&&(u.bbox=f.bbox),u.features=p,u}function _(p,f,u){u===void 0&&(u={});var m={type:"MultiLineString",coordinates:p};return j(m,f,u)}function g(p,f,u){u===void 0&&(u={});var m={type:"MultiPoint",coordinates:p};return j(m,f,u)}function y(p,f,u){u===void 0&&(u={});var m={type:"MultiPolygon",coordinates:p};return j(m,f,u)}function x(p,f,u){u===void 0&&(u={});var m={type:"GeometryCollection",geometries:p};return j(m,f,u)}function F(p,f){if(f===void 0&&(f=0),f&&!(f>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,f||0);return Math.round(p*u)/u}function Z(p,f){f===void 0&&(f="kilometers");var u=G[f];if(!u)throw new Error(f+" units is invalid");return p*u}function tt(p,f){f===void 0&&(f="kilometers");var u=G[f];if(!u)throw new Error(f+" units is invalid");return p/u}function Y(p,f){return yt(tt(p,f))}function Tt(p){var f=p%360;return f<0&&(f+=360),f}function yt(p){var f=p%(2*Math.PI);return f*180/Math.PI}function Mt(p){var f=p%360;return f*Math.PI/180}function A(p,f,u){if(f===void 0&&(f="kilometers"),u===void 0&&(u="kilometers"),!(p>=0))throw new Error("length must be a positive number");return Z(tt(p,f),u)}function I(p,f,u){if(f===void 0&&(f="meters"),u===void 0&&(u="kilometers"),!(p>=0))throw new Error("area must be a positive number");var m=Q[f];if(!m)throw new Error("invalid original units");var H=Q[u];if(!H)throw new Error("invalid final units");return p/m*H}function M(p){return!isNaN(p)&&p!==null&&!Array.isArray(p)}function S(p){return!!p&&p.constructor===Object}function R(p){if(!p)throw new Error("bbox is required");if(!Array.isArray(p))throw new Error("bbox must be an Array");if(p.length!==4&&p.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");p.forEach(function(f){if(!M(f))throw new Error("bbox must only contain numbers")})}function O(p){if(!p)throw new Error("id is required");if(["string","number"].indexOf(typeof p)===-1)throw new Error("id must be a number or a string")}},"./node_modules/@turf/intersect/dist/es/index.js":(Dt,_t,K)=>{"use strict";K.r(_t),K.d(_t,{default:()=>T});var V=K("./node_modules/@turf/helpers/dist/es/index.js");function G(a){if(!a)throw new Error("coord is required");if(!Array.isArray(a)){if(a.type==="Feature"&&a.geometry!==null&&a.geometry.type==="Point")return a.geometry.coordinates;if(a.type==="Point")return a.coordinates}if(Array.isArray(a)&&a.length>=2&&!Array.isArray(a[0])&&!Array.isArray(a[1]))return a;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function lt(a){if(Array.isArray(a))return a;if(a.type==="Feature"){if(a.geometry!==null)return a.geometry.coordinates}else if(a.coordinates)return a.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Q(a){if(a.length>1&&(0,V.isNumber)(a[0])&&(0,V.isNumber)(a[1]))return!0;if(Array.isArray(a[0])&&a[0].length)return Q(a[0]);throw new Error("coordinates must only contain numbers")}function j(a,_,g){if(!_||!g)throw new Error("type and name required");if(!a||a.type!==_)throw new Error("Invalid input to "+g+": must be a "+_+", given "+a.type)}function dt(a,_,g){if(!a)throw new Error("No feature passed");if(!g)throw new Error(".featureOf() requires a name");if(!a||a.type!=="Feature"||!a.geometry)throw new Error("Invalid input to "+g+", Feature with geometry required");if(!a.geometry||a.geometry.type!==_)throw new Error("Invalid input to "+g+": must be a "+_+", given "+a.geometry.type)}function gt(a,_,g){if(!a)throw new Error("No featureCollection passed");if(!g)throw new Error(".collectionOf() requires a name");if(!a||a.type!=="FeatureCollection")throw new Error("Invalid input to "+g+", FeatureCollection required");for(var y=0,x=a.features;y<x.length;y++){var F=x[y];if(!F||F.type!=="Feature"||!F.geometry)throw new Error("Invalid input to "+g+", Feature with geometry required");if(!F.geometry||F.geometry.type!==_)throw new Error("Invalid input to "+g+": must be a "+_+", given "+F.geometry.type)}}function wt(a){return a.type==="Feature"?a.geometry:a}function et(a,_){return a.type==="FeatureCollection"?"FeatureCollection":a.type==="GeometryCollection"?"GeometryCollection":a.type==="Feature"&&a.geometry!==null?a.geometry.type:a.type}var W=K("./node_modules/polygon-clipping/dist/polygon-clipping.umd.js"),E=K.n(W);function T(a,_,g){g===void 0&&(g={});var y=wt(a),x=wt(_),F=E().intersection(y.coordinates,x.coordinates);return F.length===0?null:F.length===1?(0,V.polygon)(F[0],g.properties):(0,V.multiPolygon)(F,g.properties)}},"./node_modules/d3-geo/src/contains.js":(Dt,_t,K)=>{"use strict";K.r(_t),K.d(_t,{default:()=>T});var V=K("./node_modules/d3-geo/src/polygonContains.js"),G=K("./node_modules/d3-geo/src/distance.js"),lt=K("./node_modules/d3-geo/src/math.js"),Q={Feature:function(a,_){return dt(a.geometry,_)},FeatureCollection:function(a,_){for(var g=a.features,y=-1,x=g.length;++y<x;)if(dt(g[y].geometry,_))return!0;return!1}},j={Sphere:function(){return!0},Point:function(a,_){return gt(a.coordinates,_)},MultiPoint:function(a,_){for(var g=a.coordinates,y=-1,x=g.length;++y<x;)if(gt(g[y],_))return!0;return!1},LineString:function(a,_){return wt(a.coordinates,_)},MultiLineString:function(a,_){for(var g=a.coordinates,y=-1,x=g.length;++y<x;)if(wt(g[y],_))return!0;return!1},Polygon:function(a,_){return et(a.coordinates,_)},MultiPolygon:function(a,_){for(var g=a.coordinates,y=-1,x=g.length;++y<x;)if(et(g[y],_))return!0;return!1},GeometryCollection:function(a,_){for(var g=a.geometries,y=-1,x=g.length;++y<x;)if(dt(g[y],_))return!0;return!1}};function dt(a,_){return a&&j.hasOwnProperty(a.type)?j[a.type](a,_):!1}function gt(a,_){return(0,G.default)(a,_)===0}function wt(a,_){for(var g,y,x,F=0,Z=a.length;F<Z;F++){if(y=(0,G.default)(a[F],_),y===0||F>0&&(x=(0,G.default)(a[F],a[F-1]),x>0&&g<=x&&y<=x&&(g+y-x)*(1-Math.pow((g-y)/x,2))<lt.epsilon2*x))return!0;g=y}return!1}function et(a,_){return!!(0,V.default)(a.map(W),E(_))}function W(a){return a=a.map(E),a.pop(),a}function E(a){return[a[0]*lt.radians,a[1]*lt.radians]}function T(a,_){return(a&&Q.hasOwnProperty(a.type)?Q[a.type]:dt)(a,_)}},"./node_modules/d3-geo/src/distance.js":(Dt,_t,K)=>{"use strict";K.r(_t),K.d(_t,{default:()=>Q});var V=K("./node_modules/d3-geo/src/length.js"),G=[null,null],lt={type:"LineString",coordinates:G};function Q(j,dt){return G[0]=j,G[1]=dt,(0,V.default)(lt)}},"./node_modules/d3-geo/src/length.js":(Dt,_t,K)=>{"use strict";K.r(_t),K.d(_t,{default:()=>_});var V=K("./node_modules/d3-array/src/fsum.js"),G=K("./node_modules/d3-geo/src/math.js"),lt=K("./node_modules/d3-geo/src/noop.js"),Q=K("./node_modules/d3-geo/src/stream.js"),j,dt,gt,wt,et={sphere:lt.default,point:lt.default,lineStart:W,lineEnd:lt.default,polygonStart:lt.default,polygonEnd:lt.default};function W(){et.point=T,et.lineEnd=E}function E(){et.point=et.lineEnd=lt.default}function T(g,y){g*=G.radians,y*=G.radians,dt=g,gt=(0,G.sin)(y),wt=(0,G.cos)(y),et.point=a}function a(g,y){g*=G.radians,y*=G.radians;var x=(0,G.sin)(y),F=(0,G.cos)(y),Z=(0,G.abs)(g-dt),tt=(0,G.cos)(Z),Y=(0,G.sin)(Z),Tt=F*Y,yt=wt*x-gt*F*tt,Mt=gt*x+wt*F*tt;j.add((0,G.atan2)((0,G.sqrt)(Tt*Tt+yt*yt),Mt)),dt=g,gt=x,wt=F}function _(g){return j=new V.Adder,(0,Q.default)(g,et),+j}},"./node_modules/d3-zoom/src/index.js":(Dt,_t,K)=>{"use strict";K.r(_t),K.d(_t,{ZoomTransform:()=>jt,zoom:()=>Yn,zoomIdentity:()=>Pe,zoomTransform:()=>Te});var V={value:function(){}};function G(){for(var t=0,i=arguments.length,o={},h;t<i;++t){if(!(h=arguments[t]+"")||h in o||/[\s.]/.test(h))throw new Error("illegal type: "+h);o[h]=[]}return new lt(o)}function lt(t){this._=t}function Q(t,i){return t.trim().split(/^|\s+/).map(function(o){var h="",d=o.indexOf(".");if(d>=0&&(h=o.slice(d+1),o=o.slice(0,d)),o&&!i.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:h}})}lt.prototype=G.prototype={constructor:lt,on:function(t,i){var o=this._,h=Q(t+"",o),d,k=-1,b=h.length;if(arguments.length<2){for(;++k<b;)if((d=(t=h[k]).type)&&(d=j(o[d],t.name)))return d;return}if(i!=null&&typeof i!="function")throw new Error("invalid callback: "+i);for(;++k<b;)if(d=(t=h[k]).type)o[d]=dt(o[d],t.name,i);else if(i==null)for(d in o)o[d]=dt(o[d],t.name,null);return this},copy:function(){var t={},i=this._;for(var o in i)t[o]=i[o].slice();return new lt(t)},call:function(t,i){if((d=arguments.length-2)>0)for(var o=new Array(d),h=0,d,k;h<d;++h)o[h]=arguments[h+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(k=this._[t],h=0,d=k.length;h<d;++h)k[h].value.apply(i,o)},apply:function(t,i,o){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var h=this._[t],d=0,k=h.length;d<k;++d)h[d].value.apply(i,o)}};function j(t,i){for(var o=0,h=t.length,d;o<h;++o)if((d=t[o]).name===i)return d.value}function dt(t,i,o){for(var h=0,d=t.length;h<d;++h)if(t[h].name===i){t[h]=V,t=t.slice(0,h).concat(t.slice(h+1));break}return o!=null&&t.push({name:i,value:o}),t}const gt=G;var wt=K("./node_modules/d3-selection/src/select.js");const et={passive:!1},W={capture:!0,passive:!1};function E(t){t.stopImmediatePropagation()}function T(t){t.preventDefault(),t.stopImmediatePropagation()}function a(t){var i=t.document.documentElement,o=(0,wt.default)(t).on("dragstart.drag",T,W);"onselectstart"in i?o.on("selectstart.drag",T,W):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function _(t,i){var o=t.document.documentElement,h=(0,wt.default)(t).on("dragstart.drag",null);i&&(h.on("click.drag",T,W),setTimeout(function(){h.on("click.drag",null)},0)),"onselectstart"in o?h.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}var g=Math.SQRT2,y=2,x=4,F=1e-12;function Z(t){return((t=Math.exp(t))+1/t)/2}function tt(t){return((t=Math.exp(t))-1/t)/2}function Y(t){return((t=Math.exp(2*t))-1)/(t+1)}function Tt(t,i){var o=t[0],h=t[1],d=t[2],k=i[0],b=i[1],X=i[2],U=k-o,D=b-h,N=U*U+D*D,ot,st;if(N<F)st=Math.log(X/d)/g,ot=function(te){return[o+te*U,h+te*D,d*Math.exp(g*te*st)]};else{var vt=Math.sqrt(N),Wt=(X*X-d*d+x*N)/(2*d*y*vt),Ft=(X*X-d*d-x*N)/(2*X*y*vt),$t=Math.log(Math.sqrt(Wt*Wt+1)-Wt),Et=Math.log(Math.sqrt(Ft*Ft+1)-Ft);st=(Et-$t)/g,ot=function(te){var ce=te*st,me=Z($t),be=d/(y*vt)*(me*Y(g*ce+$t)-tt($t));return[o+be*U,h+be*D,d*me/Z(g*ce+$t)]}}return ot.duration=st*1e3,ot}var yt=K("./node_modules/d3-selection/src/pointer.js"),Mt=K("./node_modules/d3-selection/src/selection/index.js"),A=0,I=0,M=0,S=1e3,R,O,p=0,f=0,u=0,m=typeof performance=="object"&&performance.now?performance:Date,H=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function B(){return f||(H($),f=m.now()+u)}function $(){f=0}function z(){this._call=this._time=this._next=null}z.prototype=nt.prototype={constructor:z,restart:function(t,i,o){if(typeof t!="function")throw new TypeError("callback is not a function");o=(o==null?B():+o)+(i==null?0:+i),!this._next&&O!==this&&(O?O._next=this:R=this,O=this),this._call=t,this._time=o,St()},stop:function(){this._call&&(this._call=null,this._time=1/0,St())}};function nt(t,i,o){var h=new z;return h.restart(t,i,o),h}function ht(){B(),++A;for(var t=R,i;t;)(i=f-t._time)>=0&&t._call.call(null,i),t=t._next;--A}function q(){f=(p=m.now())+u,A=I=0;try{ht()}finally{A=0,At(),f=0}}function it(){var t=m.now(),i=t-p;i>S&&(u-=i,p=t)}function At(){for(var t,i=R,o,h=1/0;i;)i._call?(h>i._time&&(h=i._time),t=i,i=i._next):(o=i._next,i._next=null,i=t?t._next=o:R=o);O=t,St(h)}function St(t){if(!A){I&&(I=clearTimeout(I));var i=t-f;i>24?(t<1/0&&(I=setTimeout(q,t-m.now()-u)),M&&(M=clearInterval(M))):(M||(p=m.now(),M=setInterval(it,S)),A=1,H(q))}}function kt(t,i,o){var h=new z;return i=i==null?0:+i,h.restart(function(d){h.stop(),t(d+i)},i,o),h}var Bt=gt("start","end","cancel","interrupt"),ne=[],re=0,zt=1,ie=2,ft=3,Ut=4,we=5,ye=6;function c(t,i,o,h,d,k){var b=t.__transition;if(!b)t.__transition={};else if(o in b)return;s(t,o,{name:i,index:h,group:d,on:Bt,tween:ne,time:k.time,delay:k.delay,duration:k.duration,ease:k.ease,timer:null,state:re})}function r(t,i){var o=n(t,i);if(o.state>re)throw new Error("too late; already scheduled");return o}function e(t,i){var o=n(t,i);if(o.state>ft)throw new Error("too late; already running");return o}function n(t,i){var o=t.__transition;if(!o||!(o=o[i]))throw new Error("transition not found");return o}function s(t,i,o){var h=t.__transition,d;h[i]=o,o.timer=nt(k,0,o.time);function k(D){o.state=zt,o.timer.restart(b,o.delay,o.time),o.delay<=D&&b(D-o.delay)}function b(D){var N,ot,st,vt;if(o.state!==zt)return U();for(N in h)if(vt=h[N],vt.name===o.name){if(vt.state===ft)return kt(b);vt.state===Ut?(vt.state=ye,vt.timer.stop(),vt.on.call("interrupt",t,t.__data__,vt.index,vt.group),delete h[N]):+N<i&&(vt.state=ye,vt.timer.stop(),vt.on.call("cancel",t,t.__data__,vt.index,vt.group),delete h[N])}if(kt(function(){o.state===ft&&(o.state=Ut,o.timer.restart(X,o.delay,o.time),X(D))}),o.state=ie,o.on.call("start",t,t.__data__,o.index,o.group),o.state===ie){for(o.state=ft,d=new Array(st=o.tween.length),N=0,ot=-1;N<st;++N)(vt=o.tween[N].value.call(t,t.__data__,o.index,o.group))&&(d[++ot]=vt);d.length=ot+1}}function X(D){for(var N=D<o.duration?o.ease.call(null,D/o.duration):(o.timer.restart(U),o.state=we,1),ot=-1,st=d.length;++ot<st;)d[ot].call(t,N);o.state===we&&(o.on.call("end",t,t.__data__,o.index,o.group),U())}function U(){o.state=ye,o.timer.stop(),delete h[i];for(var D in h)return;delete t.__transition}}function l(t,i){var o=t.__transition,h,d,k=!0,b;if(o){i=i==null?null:i+"";for(b in o){if((h=o[b]).name!==i){k=!1;continue}d=h.state>ie&&h.state<we,h.state=ye,h.timer.stop(),h.on.call(d?"interrupt":"cancel",t,t.__data__,h.index,h.group),delete o[b]}k&&delete t.__transition}}function v(t){return this.each(function(){l(this,t)})}var P=K("./node_modules/d3-interpolate/src/number.js"),L=180/Math.PI,J={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function at(t,i,o,h,d,k){var b,X,U;return(b=Math.sqrt(t*t+i*i))&&(t/=b,i/=b),(U=t*o+i*h)&&(o-=t*U,h-=i*U),(X=Math.sqrt(o*o+h*h))&&(o/=X,h/=X,U/=X),t*h<i*o&&(t=-t,i=-i,U=-U,b=-b),{translateX:d,translateY:k,rotate:Math.atan2(i,t)*L,skewX:Math.atan(U)*L,scaleX:b,scaleY:X}}var ct,xt,mt,Rt;function It(t){return t==="none"?J:(ct||(ct=document.createElement("DIV"),xt=document.documentElement,mt=document.defaultView),ct.style.transform=t,t=mt.getComputedStyle(xt.appendChild(ct),null).getPropertyValue("transform"),xt.removeChild(ct),t=t.slice(7,-1).split(","),at(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function Lt(t){return t==null||(Rt||(Rt=document.createElementNS("http://www.w3.org/2000/svg","g")),Rt.setAttribute("transform",t),!(t=Rt.transform.baseVal.consolidate()))?J:(t=t.matrix,at(t.a,t.b,t.c,t.d,t.e,t.f))}function Gt(t,i,o,h){function d(D){return D.length?D.pop()+" ":""}function k(D,N,ot,st,vt,Wt){if(D!==ot||N!==st){var Ft=vt.push("translate(",null,i,null,o);Wt.push({i:Ft-4,x:(0,P.default)(D,ot)},{i:Ft-2,x:(0,P.default)(N,st)})}else(ot||st)&&vt.push("translate("+ot+i+st+o)}function b(D,N,ot,st){D!==N?(D-N>180?N+=360:N-D>180&&(D+=360),st.push({i:ot.push(d(ot)+"rotate(",null,h)-2,x:(0,P.default)(D,N)})):N&&ot.push(d(ot)+"rotate("+N+h)}function X(D,N,ot,st){D!==N?st.push({i:ot.push(d(ot)+"skewX(",null,h)-2,x:(0,P.default)(D,N)}):N&&ot.push(d(ot)+"skewX("+N+h)}function U(D,N,ot,st,vt,Wt){if(D!==ot||N!==st){var Ft=vt.push(d(vt)+"scale(",null,",",null,")");Wt.push({i:Ft-4,x:(0,P.default)(D,ot)},{i:Ft-2,x:(0,P.default)(N,st)})}else(ot!==1||st!==1)&&vt.push(d(vt)+"scale("+ot+","+st+")")}return function(D,N){var ot=[],st=[];return D=t(D),N=t(N),k(D.translateX,D.translateY,N.translateX,N.translateY,ot,st),b(D.rotate,N.rotate,ot,st),X(D.skewX,N.skewX,ot,st),U(D.scaleX,D.scaleY,N.scaleX,N.scaleY,ot,st),D=N=null,function(vt){for(var Wt=-1,Ft=st.length,$t;++Wt<Ft;)ot[($t=st[Wt]).i]=$t.x(vt);return ot.join("")}}}var Xt=Gt(It,"px, ","px)","deg)"),Vt=Gt(Lt,", ",")",")"),Nt=K("./node_modules/d3-selection/src/namespace.js");function qt(t,i){var o,h;return function(){var d=e(this,t),k=d.tween;if(k!==o){h=o=k;for(var b=0,X=h.length;b<X;++b)if(h[b].name===i){h=h.slice(),h.splice(b,1);break}}d.tween=h}}function de(t,i,o){var h,d;if(typeof o!="function")throw new Error;return function(){var k=e(this,t),b=k.tween;if(b!==h){d=(h=b).slice();for(var X={name:i,value:o},U=0,D=d.length;U<D;++U)if(d[U].name===i){d[U]=X;break}U===D&&d.push(X)}k.tween=d}}function oe(t,i){var o=this._id;if(t+="",arguments.length<2){for(var h=n(this.node(),o).tween,d=0,k=h.length,b;d<k;++d)if((b=h[d]).name===t)return b.value;return null}return this.each((i==null?qt:de)(o,t,i))}function Kt(t,i,o){var h=t._id;return t.each(function(){var d=e(this,h);(d.value||(d.value={}))[i]=o.apply(this,arguments)}),function(d){return n(d,h).value[i]}}var Qt=K("./node_modules/d3-color/src/color.js"),he=K("./node_modules/d3-interpolate/src/rgb.js"),se=K("./node_modules/d3-interpolate/src/string.js");function pe(t,i){var o;return(typeof i=="number"?P.default:i instanceof Qt.default?he.default:(o=(0,Qt.default)(i))?(i=o,he.default):se.default)(t,i)}function ve(t){return function(){this.removeAttribute(t)}}function ge(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xe(t,i,o){var h,d=o+"",k;return function(){var b=this.getAttribute(t);return b===d?null:b===h?k:k=i(h=b,o)}}function Le(t,i,o){var h,d=o+"",k;return function(){var b=this.getAttributeNS(t.space,t.local);return b===d?null:b===h?k:k=i(h=b,o)}}function ze(t,i,o){var h,d,k;return function(){var b,X=o(this),U;return X==null?void this.removeAttribute(t):(b=this.getAttribute(t),U=X+"",b===U?null:b===h&&U===d?k:(d=U,k=i(h=b,X)))}}function Ce(t,i,o){var h,d,k;return function(){var b,X=o(this),U;return X==null?void this.removeAttributeNS(t.space,t.local):(b=this.getAttributeNS(t.space,t.local),U=X+"",b===U?null:b===h&&U===d?k:(d=U,k=i(h=b,X)))}}function Fe(t,i){var o=(0,Nt.default)(t),h=o==="transform"?Vt:pe;return this.attrTween(t,typeof i=="function"?(o.local?Ce:ze)(o,h,Kt(this,"attr."+t,i)):i==null?(o.local?ge:ve)(o):(o.local?Le:xe)(o,h,i))}function Ne(t,i){return function(o){this.setAttribute(t,i.call(this,o))}}function De(t,i){return function(o){this.setAttributeNS(t.space,t.local,i.call(this,o))}}function Be(t,i){var o,h;function d(){var k=i.apply(this,arguments);return k!==h&&(o=(h=k)&&De(t,k)),o}return d._value=i,d}function Ge(t,i){var o,h;function d(){var k=i.apply(this,arguments);return k!==h&&(o=(h=k)&&Ne(t,k)),o}return d._value=i,d}function Xe(t,i){var o="attr."+t;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(i==null)return this.tween(o,null);if(typeof i!="function")throw new Error;var h=(0,Nt.default)(t);return this.tween(o,(h.local?Be:Ge)(h,i))}function Ye(t,i){return function(){r(this,t).delay=+i.apply(this,arguments)}}function Ue(t,i){return i=+i,function(){r(this,t).delay=i}}function Ve(t){var i=this._id;return arguments.length?this.each((typeof t=="function"?Ye:Ue)(i,t)):n(this.node(),i).delay}function Qe(t,i){return function(){e(this,t).duration=+i.apply(this,arguments)}}function We(t,i){return i=+i,function(){e(this,t).duration=i}}function $e(t){var i=this._id;return arguments.length?this.each((typeof t=="function"?Qe:We)(i,t)):n(this.node(),i).duration}function qe(t,i){if(typeof i!="function")throw new Error;return function(){e(this,t).ease=i}}function Ke(t){var i=this._id;return arguments.length?this.each(qe(i,t)):n(this.node(),i).ease}function Ze(t,i){return function(){var o=i.apply(this,arguments);if(typeof o!="function")throw new Error;e(this,t).ease=o}}function He(t){if(typeof t!="function")throw new Error;return this.each(Ze(this._id,t))}var Je=K("./node_modules/d3-selection/src/matcher.js");function je(t){typeof t!="function"&&(t=(0,Je.default)(t));for(var i=this._groups,o=i.length,h=new Array(o),d=0;d<o;++d)for(var k=i[d],b=k.length,X=h[d]=[],U,D=0;D<b;++D)(U=k[D])&&t.call(U,U.__data__,D,k)&&X.push(U);return new Jt(h,this._parents,this._name,this._id)}function tn(t){if(t._id!==this._id)throw new Error;for(var i=this._groups,o=t._groups,h=i.length,d=o.length,k=Math.min(h,d),b=new Array(h),X=0;X<k;++X)for(var U=i[X],D=o[X],N=U.length,ot=b[X]=new Array(N),st,vt=0;vt<N;++vt)(st=U[vt]||D[vt])&&(ot[vt]=st);for(;X<h;++X)b[X]=i[X];return new Jt(b,this._parents,this._name,this._id)}function en(t){return(t+"").trim().split(/^|\s+/).every(function(i){var o=i.indexOf(".");return o>=0&&(i=i.slice(0,o)),!i||i==="start"})}function nn(t,i,o){var h,d,k=en(i)?r:e;return function(){var b=k(this,t),X=b.on;X!==h&&(d=(h=X).copy()).on(i,o),b.on=d}}function rn(t,i){var o=this._id;return arguments.length<2?n(this.node(),o).on.on(t):this.each(nn(o,t,i))}function on(t){return function(){var i=this.parentNode;for(var o in this.__transition)if(+o!==t)return;i&&i.removeChild(this)}}function sn(){return this.on("end.remove",on(this._id))}var un=K("./node_modules/d3-selection/src/selector.js");function an(t){var i=this._name,o=this._id;typeof t!="function"&&(t=(0,un.default)(t));for(var h=this._groups,d=h.length,k=new Array(d),b=0;b<d;++b)for(var X=h[b],U=X.length,D=k[b]=new Array(U),N,ot,st=0;st<U;++st)(N=X[st])&&(ot=t.call(N,N.__data__,st,X))&&("__data__"in N&&(ot.__data__=N.__data__),D[st]=ot,c(D[st],i,o,st,D,n(N,o)));return new Jt(k,this._parents,i,o)}var ln=K("./node_modules/d3-selection/src/selectorAll.js");function fn(t){var i=this._name,o=this._id;typeof t!="function"&&(t=(0,ln.default)(t));for(var h=this._groups,d=h.length,k=[],b=[],X=0;X<d;++X)for(var U=h[X],D=U.length,N,ot=0;ot<D;++ot)if(N=U[ot]){for(var st=t.call(N,N.__data__,ot,U),vt,Wt=n(N,o),Ft=0,$t=st.length;Ft<$t;++Ft)(vt=st[Ft])&&c(vt,i,o,Ft,st,Wt);k.push(st),b.push(N)}return new Jt(k,b,i,o)}var hn=Mt.default.prototype.constructor;function cn(){return new hn(this._groups,this._parents)}var Ee=K("./node_modules/d3-selection/src/selection/style.js");function dn(t,i){var o,h,d;return function(){var k=(0,Ee.styleValue)(this,t),b=(this.style.removeProperty(t),(0,Ee.styleValue)(this,t));return k===b?null:k===o&&b===h?d:d=i(o=k,h=b)}}function ke(t){return function(){this.style.removeProperty(t)}}function vn(t,i,o){var h,d=o+"",k;return function(){var b=(0,Ee.styleValue)(this,t);return b===d?null:b===h?k:k=i(h=b,o)}}function gn(t,i,o){var h,d,k;return function(){var b=(0,Ee.styleValue)(this,t),X=o(this),U=X+"";return X==null&&(U=X=(this.style.removeProperty(t),(0,Ee.styleValue)(this,t))),b===U?null:b===h&&U===d?k:(d=U,k=i(h=b,X))}}function yn(t,i){var o,h,d,k="style."+i,b="end."+k,X;return function(){var U=e(this,t),D=U.on,N=U.value[k]==null?X||(X=ke(i)):void 0;(D!==o||d!==N)&&(h=(o=D).copy()).on(b,d=N),U.on=h}}function pn(t,i,o){var h=(t+="")=="transform"?Xt:pe;return i==null?this.styleTween(t,dn(t,h)).on("end.style."+t,ke(t)):typeof i=="function"?this.styleTween(t,gn(t,h,Kt(this,"style."+t,i))).each(yn(this._id,t)):this.styleTween(t,vn(t,h,i),o).on("end.style."+t,null)}function mn(t,i,o){return function(h){this.style.setProperty(t,i.call(this,h),o)}}function wn(t,i,o){var h,d;function k(){var b=i.apply(this,arguments);return b!==d&&(h=(d=b)&&mn(t,b,o)),h}return k._value=i,k}function xn(t,i,o){var h="style."+(t+="");if(arguments.length<2)return(h=this.tween(h))&&h._value;if(i==null)return this.tween(h,null);if(typeof i!="function")throw new Error;return this.tween(h,wn(t,i,o??""))}function En(t){return function(){this.textContent=t}}function _n(t){return function(){var i=t(this);this.textContent=i??""}}function bn(t){return this.tween("text",typeof t=="function"?_n(Kt(this,"text",t)):En(t==null?"":t+""))}function Sn(t){return function(i){this.textContent=t.call(this,i)}}function Pn(t){var i,o;function h(){var d=t.apply(this,arguments);return d!==o&&(i=(o=d)&&Sn(d)),i}return h._value=t,h}function An(t){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,Pn(t))}function Mn(){for(var t=this._name,i=this._id,o=Ie(),h=this._groups,d=h.length,k=0;k<d;++k)for(var b=h[k],X=b.length,U,D=0;D<X;++D)if(U=b[D]){var N=n(U,i);c(U,t,o,D,b,{time:N.time+N.delay+N.duration,delay:0,duration:N.duration,ease:N.ease})}return new Jt(h,this._parents,t,o)}function kn(){var t,i,o=this,h=o._id,d=o.size();return new Promise(function(k,b){var X={value:b},U={value:function(){--d===0&&k()}};o.each(function(){var D=e(this,h),N=D.on;N!==t&&(i=(t=N).copy(),i._.cancel.push(X),i._.interrupt.push(X),i._.end.push(U)),D.on=i}),d===0&&k()})}var In=0;function Jt(t,i,o,h){this._groups=t,this._parents=i,this._name=o,this._id=h}function Tn(t){return(0,Mt.default)().transition(t)}function Ie(){return++In}var ue=Mt.default.prototype;Jt.prototype=Tn.prototype={constructor:Jt,select:an,selectAll:fn,selectChild:ue.selectChild,selectChildren:ue.selectChildren,filter:je,merge:tn,selection:cn,transition:Mn,call:ue.call,nodes:ue.nodes,node:ue.node,size:ue.size,empty:ue.empty,each:ue.each,on:rn,attr:Fe,attrTween:Xe,style:pn,styleTween:xn,text:bn,textTween:An,remove:sn,tween:oe,delay:Ve,duration:$e,ease:Ke,easeVarying:He,end:kn,[Symbol.iterator]:ue[Symbol.iterator]};function Kn(t){return t*t*t}function Zn(t){return--t*t*t+1}function Rn(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var On={time:null,delay:0,duration:250,ease:Rn};function Ln(t,i){for(var o;!(o=t.__transition)||!(o=o[i]);)if(!(t=t.parentNode))throw new Error(`transition ${i} not found`);return o}function zn(t){var i,o;t instanceof Jt?(i=t._id,t=t._name):(i=Ie(),(o=On).time=B(),t=t==null?null:t+"");for(var h=this._groups,d=h.length,k=0;k<d;++k)for(var b=h[k],X=b.length,U,D=0;D<X;++D)(U=b[D])&&c(U,t,i,D,b,o||Ln(U,i));return new Jt(h,this._parents,t,i)}Mt.default.prototype.interrupt=v,Mt.default.prototype.transition=zn;var Cn=[null];function Hn(t,i){var o=t.__transition,h,d;if(o){i=i==null?null:i+"";for(d in o)if((h=o[d]).state>zt&&h.name===i)return new Jt([[t]],Cn,i,+d)}return null}const Se=t=>()=>t;function Fn(t,{sourceEvent:i,target:o,transform:h,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:h,enumerable:!0,configurable:!0},_:{value:d}})}function jt(t,i,o){this.k=t,this.x=i,this.y=o}jt.prototype={constructor:jt,scale:function(t){return t===1?this:new jt(this.k*t,this.x,this.y)},translate:function(t,i){return t===0&i===0?this:new jt(this.k,this.x+this.k*t,this.y+this.k*i)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Pe=new jt(1,0,0);Te.prototype=jt.prototype;function Te(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Pe;return t.__zoom}function Ae(t){t.stopImmediatePropagation()}function _e(t){t.preventDefault(),t.stopImmediatePropagation()}function Nn(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Dn(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Re(){return this.__zoom||Pe}function Bn(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Gn(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xn(t,i,o){var h=t.invertX(i[0][0])-o[0][0],d=t.invertX(i[1][0])-o[1][0],k=t.invertY(i[0][1])-o[0][1],b=t.invertY(i[1][1])-o[1][1];return t.translate(d>h?(h+d)/2:Math.min(0,h)||Math.max(0,d),b>k?(k+b)/2:Math.min(0,k)||Math.max(0,b))}function Yn(){var t=Nn,i=Dn,o=Xn,h=Bn,d=Gn,k=[0,1/0],b=[[-1/0,-1/0],[1/0,1/0]],X=250,U=Tt,D=gt("start","zoom","end"),N,ot,st,vt=500,Wt=150,Ft=0,$t=10;function Et(w){w.property("__zoom",Re).on("wheel.zoom",Un,{passive:!1}).on("mousedown.zoom",Vn).on("dblclick.zoom",Qn).filter(d).on("touchstart.zoom",Wn).on("touchmove.zoom",$n).on("touchend.zoom touchcancel.zoom",qn).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}Et.transform=function(w,rt,C,ut){var pt=w.selection?w.selection():w;pt.property("__zoom",Re),w!==pt?be(w,rt,C,ut):pt.interrupt().each(function(){ae(this,arguments).event(ut).start().zoom(null,typeof rt=="function"?rt.apply(this,arguments):rt).end()})},Et.scaleBy=function(w,rt,C,ut){Et.scaleTo(w,function(){var pt=this.__zoom.k,bt=typeof rt=="function"?rt.apply(this,arguments):rt;return pt*bt},C,ut)},Et.scaleTo=function(w,rt,C,ut){Et.transform(w,function(){var pt=i.apply(this,arguments),bt=this.__zoom,Pt=C==null?me(pt):typeof C=="function"?C.apply(this,arguments):C,Ot=bt.invert(Pt),Ct=typeof rt=="function"?rt.apply(this,arguments):rt;return o(ce(te(bt,Ct),Pt,Ot),pt,b)},C,ut)},Et.translateBy=function(w,rt,C,ut){Et.transform(w,function(){return o(this.__zoom.translate(typeof rt=="function"?rt.apply(this,arguments):rt,typeof C=="function"?C.apply(this,arguments):C),i.apply(this,arguments),b)},null,ut)},Et.translateTo=function(w,rt,C,ut,pt){Et.transform(w,function(){var bt=i.apply(this,arguments),Pt=this.__zoom,Ot=ut==null?me(bt):typeof ut=="function"?ut.apply(this,arguments):ut;return o(Pe.translate(Ot[0],Ot[1]).scale(Pt.k).translate(typeof rt=="function"?-rt.apply(this,arguments):-rt,typeof C=="function"?-C.apply(this,arguments):-C),bt,b)},ut,pt)};function te(w,rt){return rt=Math.max(k[0],Math.min(k[1],rt)),rt===w.k?w:new jt(rt,w.x,w.y)}function ce(w,rt,C){var ut=rt[0]-C[0]*w.k,pt=rt[1]-C[1]*w.k;return ut===w.x&&pt===w.y?w:new jt(w.k,ut,pt)}function me(w){return[(+w[0][0]+ +w[1][0])/2,(+w[0][1]+ +w[1][1])/2]}function be(w,rt,C,ut){w.on("start.zoom",function(){ae(this,arguments).event(ut).start()}).on("interrupt.zoom end.zoom",function(){ae(this,arguments).event(ut).end()}).tween("zoom",function(){var pt=this,bt=arguments,Pt=ae(pt,bt).event(ut),Ot=i.apply(pt,bt),Ct=C==null?me(Ot):typeof C=="function"?C.apply(pt,bt):C,ee=Math.max(Ot[1][0]-Ot[0][0],Ot[1][1]-Ot[0][1]),Yt=pt.__zoom,Zt=typeof rt=="function"?rt.apply(pt,bt):rt,le=U(Yt.invert(Ct).concat(ee/Yt.k),Zt.invert(Ct).concat(ee/Zt.k));return function(Ht){if(Ht===1)Ht=Zt;else{var fe=le(Ht),Me=ee/fe[2];Ht=new jt(Me,Ct[0]-fe[0]*Me,Ct[1]-fe[1]*Me)}Pt.zoom(null,Ht)}})}function ae(w,rt,C){return!C&&w.__zooming||new Oe(w,rt)}function Oe(w,rt){this.that=w,this.args=rt,this.active=0,this.sourceEvent=null,this.extent=i.apply(w,rt),this.taps=0}Oe.prototype={event:function(w){return w&&(this.sourceEvent=w),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(w,rt){return this.mouse&&w!=="mouse"&&(this.mouse[1]=rt.invert(this.mouse[0])),this.touch0&&w!=="touch"&&(this.touch0[1]=rt.invert(this.touch0[0])),this.touch1&&w!=="touch"&&(this.touch1[1]=rt.invert(this.touch1[0])),this.that.__zoom=rt,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(w){var rt=(0,wt.default)(this.that).datum();D.call(w,this.that,new Fn(w,{sourceEvent:this.sourceEvent,target:Et,type:w,transform:this.that.__zoom,dispatch:D}),rt)}};function Un(w,...rt){if(!t.apply(this,arguments))return;var C=ae(this,rt).event(w),ut=this.__zoom,pt=Math.max(k[0],Math.min(k[1],ut.k*Math.pow(2,h.apply(this,arguments)))),bt=(0,yt.default)(w);if(C.wheel)(C.mouse[0][0]!==bt[0]||C.mouse[0][1]!==bt[1])&&(C.mouse[1]=ut.invert(C.mouse[0]=bt)),clearTimeout(C.wheel);else{if(ut.k===pt)return;C.mouse=[bt,ut.invert(bt)],l(this),C.start()}_e(w),C.wheel=setTimeout(Pt,Wt),C.zoom("mouse",o(ce(te(ut,pt),C.mouse[0],C.mouse[1]),C.extent,b));function Pt(){C.wheel=null,C.end()}}function Vn(w,...rt){if(st||!t.apply(this,arguments))return;var C=w.currentTarget,ut=ae(this,rt,!0).event(w),pt=(0,wt.default)(w.view).on("mousemove.zoom",Ct,!0).on("mouseup.zoom",ee,!0),bt=(0,yt.default)(w,C),Pt=w.clientX,Ot=w.clientY;a(w.view),Ae(w),ut.mouse=[bt,this.__zoom.invert(bt)],l(this),ut.start();function Ct(Yt){if(_e(Yt),!ut.moved){var Zt=Yt.clientX-Pt,le=Yt.clientY-Ot;ut.moved=Zt*Zt+le*le>Ft}ut.event(Yt).zoom("mouse",o(ce(ut.that.__zoom,ut.mouse[0]=(0,yt.default)(Yt,C),ut.mouse[1]),ut.extent,b))}function ee(Yt){pt.on("mousemove.zoom mouseup.zoom",null),_(Yt.view,ut.moved),_e(Yt),ut.event(Yt).end()}}function Qn(w,...rt){if(t.apply(this,arguments)){var C=this.__zoom,ut=(0,yt.default)(w.changedTouches?w.changedTouches[0]:w,this),pt=C.invert(ut),bt=C.k*(w.shiftKey?.5:2),Pt=o(ce(te(C,bt),ut,pt),i.apply(this,rt),b);_e(w),X>0?(0,wt.default)(this).transition().duration(X).call(be,Pt,ut,w):(0,wt.default)(this).call(Et.transform,Pt,ut,w)}}function Wn(w,...rt){if(t.apply(this,arguments)){var C=w.touches,ut=C.length,pt=ae(this,rt,w.changedTouches.length===ut).event(w),bt,Pt,Ot,Ct;for(Ae(w),Pt=0;Pt<ut;++Pt)Ot=C[Pt],Ct=(0,yt.default)(Ot,this),Ct=[Ct,this.__zoom.invert(Ct),Ot.identifier],pt.touch0?!pt.touch1&&pt.touch0[2]!==Ct[2]&&(pt.touch1=Ct,pt.taps=0):(pt.touch0=Ct,bt=!0,pt.taps=1+!!N);N&&(N=clearTimeout(N)),bt&&(pt.taps<2&&(ot=Ct[0],N=setTimeout(function(){N=null},vt)),l(this),pt.start())}}function $n(w,...rt){if(this.__zooming){var C=ae(this,rt).event(w),ut=w.changedTouches,pt=ut.length,bt,Pt,Ot,Ct;for(_e(w),bt=0;bt<pt;++bt)Pt=ut[bt],Ot=(0,yt.default)(Pt,this),C.touch0&&C.touch0[2]===Pt.identifier?C.touch0[0]=Ot:C.touch1&&C.touch1[2]===Pt.identifier&&(C.touch1[0]=Ot);if(Pt=C.that.__zoom,C.touch1){var ee=C.touch0[0],Yt=C.touch0[1],Zt=C.touch1[0],le=C.touch1[1],Ht=(Ht=Zt[0]-ee[0])*Ht+(Ht=Zt[1]-ee[1])*Ht,fe=(fe=le[0]-Yt[0])*fe+(fe=le[1]-Yt[1])*fe;Pt=te(Pt,Math.sqrt(Ht/fe)),Ot=[(ee[0]+Zt[0])/2,(ee[1]+Zt[1])/2],Ct=[(Yt[0]+le[0])/2,(Yt[1]+le[1])/2]}else if(C.touch0)Ot=C.touch0[0],Ct=C.touch0[1];else return;C.zoom("touch",o(ce(Pt,Ot,Ct),C.extent,b))}}function qn(w,...rt){if(this.__zooming){var C=ae(this,rt).event(w),ut=w.changedTouches,pt=ut.length,bt,Pt;for(Ae(w),st&&clearTimeout(st),st=setTimeout(function(){st=null},vt),bt=0;bt<pt;++bt)Pt=ut[bt],C.touch0&&C.touch0[2]===Pt.identifier?delete C.touch0:C.touch1&&C.touch1[2]===Pt.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(Pt=(0,yt.default)(Pt,this),Math.hypot(ot[0]-Pt[0],ot[1]-Pt[1])<$t)){var Ot=(0,wt.default)(this).on("dblclick.zoom");Ot&&Ot.apply(this,arguments)}}}return Et.wheelDelta=function(w){return arguments.length?(h=typeof w=="function"?w:Se(+w),Et):h},Et.filter=function(w){return arguments.length?(t=typeof w=="function"?w:Se(!!w),Et):t},Et.touchable=function(w){return arguments.length?(d=typeof w=="function"?w:Se(!!w),Et):d},Et.extent=function(w){return arguments.length?(i=typeof w=="function"?w:Se([[+w[0][0],+w[0][1]],[+w[1][0],+w[1][1]]]),Et):i},Et.scaleExtent=function(w){return arguments.length?(k[0]=+w[0],k[1]=+w[1],Et):[k[0],k[1]]},Et.translateExtent=function(w){return arguments.length?(b[0][0]=+w[0][0],b[1][0]=+w[1][0],b[0][1]=+w[0][1],b[1][1]=+w[1][1],Et):[[b[0][0],b[0][1]],[b[1][0],b[1][1]]]},Et.constrain=function(w){return arguments.length?(o=w,Et):o},Et.duration=function(w){return arguments.length?(X=+w,Et):X},Et.interpolate=function(w){return arguments.length?(U=w,Et):U},Et.on=function(){var w=D.on.apply(D,arguments);return w===D?Et:w},Et.clickDistance=function(w){return arguments.length?(Ft=(w=+w)*w,Et):Math.sqrt(Ft)},Et.tapDistance=function(w){return arguments.length?($t=+w,Et):$t},Et}},"./node_modules/flatbush/index.js":(Dt,_t,K)=>{"use strict";K.r(_t),K.d(_t,{default:()=>Q});class V{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(E,T){let a=this.length++;for(;a>0;){const _=a-1>>1,g=this.values[_];if(T>=g)break;this.ids[a]=this.ids[_],this.values[a]=g,a=_}this.ids[a]=E,this.values[a]=T}pop(){if(this.length===0)return;const E=this.ids[0];if(this.length--,this.length>0){const T=this.ids[0]=this.ids[this.length],a=this.values[0]=this.values[this.length],_=this.length>>1;let g=0;for(;g<_;){let y=(g<<1)+1;const x=y+1;let F=this.ids[y],Z=this.values[y];const tt=this.values[x];if(x<this.length&&tt<Z&&(y=x,F=this.ids[x],Z=tt),Z>=a)break;this.ids[g]=F,this.values[g]=Z,g=y}this.ids[g]=T,this.values[g]=a}return E}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const G=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],lt=3;class Q{static from(E){if(!E||E.byteLength===void 0||E.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[T,a]=new Uint8Array(E,0,2);if(T!==251)throw new Error("Data does not appear to be in a Flatbush format.");const _=a>>4;if(_!==lt)throw new Error(`Got v${_} data when expected v${lt}.`);const g=G[a&15];if(!g)throw new Error("Unrecognized array type.");const[y]=new Uint16Array(E,2,1),[x]=new Uint32Array(E,4,1);return new Q(x,y,g,void 0,E)}constructor(E,T=16,a=Float64Array,_=ArrayBuffer,g){if(E===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(E)||E<=0)throw new Error(`Unexpected numItems value: ${E}.`);this.numItems=+E,this.nodeSize=Math.min(Math.max(+T,2),65535);let y=E,x=y;this._levelBounds=[y*4];do y=Math.ceil(y/this.nodeSize),x+=y,this._levelBounds.push(x*4);while(y!==1);this.ArrayType=a,this.IndexArrayType=x<16384?Uint16Array:Uint32Array;const F=G.indexOf(this.ArrayType),Z=x*4*this.ArrayType.BYTES_PER_ELEMENT;if(F<0)throw new Error(`Unexpected typed array class: ${a}.`);g&&g.byteLength!==void 0&&!g.buffer?(this.data=g,this._boxes=new this.ArrayType(this.data,8,x*4),this._indices=new this.IndexArrayType(this.data,8+Z,x),this._pos=x*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new _(8+Z+x*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,x*4),this._indices=new this.IndexArrayType(this.data,8+Z,x),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(lt<<4)+F]),new Uint16Array(this.data,2,1)[0]=T,new Uint32Array(this.data,4,1)[0]=E),this._queue=new V}add(E,T,a,_){const g=this._pos>>2,y=this._boxes;return this._indices[g]=g,y[this._pos++]=E,y[this._pos++]=T,y[this._pos++]=a,y[this._pos++]=_,E<this.minX&&(this.minX=E),T<this.minY&&(this.minY=T),a>this.maxX&&(this.maxX=a),_>this.maxY&&(this.maxY=_),g}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const E=this._boxes;if(this.numItems<=this.nodeSize){E[this._pos++]=this.minX,E[this._pos++]=this.minY,E[this._pos++]=this.maxX,E[this._pos++]=this.maxY;return}const T=this.maxX-this.minX||1,a=this.maxY-this.minY||1,_=new Uint32Array(this.numItems),g=65536-1;for(let y=0,x=0;y<this.numItems;y++){const F=E[x++],Z=E[x++],tt=E[x++],Y=E[x++],Tt=Math.floor(g*((F+tt)/2-this.minX)/T),yt=Math.floor(g*((Z+Y)/2-this.minY)/a);_[y]=et(Tt,yt)}gt(_,E,this._indices,0,this.numItems-1,this.nodeSize);for(let y=0,x=0;y<this._levelBounds.length-1;y++){const F=this._levelBounds[y];for(;x<F;){const Z=x;let tt=E[x++],Y=E[x++],Tt=E[x++],yt=E[x++];for(let Mt=1;Mt<this.nodeSize&&x<F;Mt++)tt=Math.min(tt,E[x++]),Y=Math.min(Y,E[x++]),Tt=Math.max(Tt,E[x++]),yt=Math.max(yt,E[x++]);this._indices[this._pos>>2]=Z,E[this._pos++]=tt,E[this._pos++]=Y,E[this._pos++]=Tt,E[this._pos++]=yt}}}search(E,T,a,_,g){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let y=this._boxes.length-4;const x=[],F=[];for(;y!==void 0;){const Z=Math.min(y+this.nodeSize*4,dt(y,this._levelBounds));for(let tt=y;tt<Z;tt+=4){if(a<this._boxes[tt]||_<this._boxes[tt+1]||E>this._boxes[tt+2]||T>this._boxes[tt+3])continue;const Y=this._indices[tt>>2]|0;y>=this.numItems*4?x.push(Y):(g===void 0||g(Y))&&F.push(Y)}y=x.pop()}return F}neighbors(E,T,a=1/0,_=1/0,g){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let y=this._boxes.length-4;const x=this._queue,F=[],Z=_*_;t:for(;y!==void 0;){const tt=Math.min(y+this.nodeSize*4,dt(y,this._levelBounds));for(let Y=y;Y<tt;Y+=4){const Tt=this._indices[Y>>2]|0,yt=j(E,this._boxes[Y],this._boxes[Y+2]),Mt=j(T,this._boxes[Y+1],this._boxes[Y+3]),A=yt*yt+Mt*Mt;A>Z||(y>=this.numItems*4?x.push(Tt<<1,A):(g===void 0||g(Tt))&&x.push((Tt<<1)+1,A))}for(;x.length&&x.peek()&1;)if(x.peekValue()>Z||(F.push(x.pop()>>1),F.length===a))break t;y=x.length?x.pop()>>1:void 0}return x.clear(),F}}function j(W,E,T){return W<E?E-W:W<=T?0:W-T}function dt(W,E){let T=0,a=E.length-1;for(;T<a;){const _=T+a>>1;E[_]>W?a=_:T=_+1}return E[T]}function gt(W,E,T,a,_,g){if(Math.floor(a/g)>=Math.floor(_/g))return;const y=W[a+_>>1];let x=a-1,F=_+1;for(;;){do x++;while(W[x]<y);do F--;while(W[F]>y);if(x>=F)break;wt(W,E,T,x,F)}gt(W,E,T,a,F,g),gt(W,E,T,F+1,_,g)}function wt(W,E,T,a,_){const g=W[a];W[a]=W[_],W[_]=g;const y=4*a,x=4*_,F=E[y],Z=E[y+1],tt=E[y+2],Y=E[y+3];E[y]=E[x],E[y+1]=E[x+1],E[y+2]=E[x+2],E[y+3]=E[x+3],E[x]=F,E[x+1]=Z,E[x+2]=tt,E[x+3]=Y;const Tt=T[a];T[a]=T[_],T[_]=Tt}function et(W,E){let T=W^E,a=65535^T,_=65535^(W|E),g=W&(E^65535),y=T|a>>1,x=T>>1^T,F=_>>1^a&g>>1^_,Z=T&_>>1^g>>1^g;T=y,a=x,_=F,g=Z,y=T&T>>2^a&a>>2,x=T&a>>2^a&(T^a)>>2,F^=T&_>>2^a&g>>2,Z^=a&_>>2^(T^a)&g>>2,T=y,a=x,_=F,g=Z,y=T&T>>4^a&a>>4,x=T&a>>4^a&(T^a)>>4,F^=T&_>>4^a&g>>4,Z^=a&_>>4^(T^a)&g>>4,T=y,a=x,_=F,g=Z,F^=T&_>>8^a&g>>8,Z^=a&_>>8^(T^a)&g>>8,T=F^F>>1,a=Z^Z>>1;let tt=W^E,Y=a|65535^(tt|T);return tt=(tt|tt<<8)&16711935,tt=(tt|tt<<4)&252645135,tt=(tt|tt<<2)&858993459,tt=(tt|tt<<1)&1431655765,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,(Y<<1|tt)>>>0}},"./node_modules/polygon-clipping/dist/polygon-clipping.umd.js":function(Dt,_t,K){var V=K("./node_modules/process/browser.js");(function(G,lt){Dt.exports=lt()})(this,function(){"use strict";function G(c,r){if(!(c instanceof r))throw new TypeError("Cannot call a class as a function")}function lt(c,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(c,n.key,n)}}function Q(c,r,e){return r&&lt(c.prototype,r),e&&lt(c,e),c}/**
 * splaytree v3.1.0
 * Fast Splay tree for Node and browser
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 */var j=function(){function c(r,e){this.next=null,this.key=r,this.data=e,this.left=null,this.right=null}return c}();function dt(c,r){return c>r?1:c<r?-1:0}function gt(c,r,e){for(var n=new j(null,null),s=n,l=n;;){var v=e(c,r.key);if(v<0){if(r.left===null)break;if(e(c,r.left.key)<0){var P=r.left;if(r.left=P.right,P.right=r,r=P,r.left===null)break}l.left=r,l=r,r=r.left}else if(v>0){if(r.right===null)break;if(e(c,r.right.key)>0){var P=r.right;if(r.right=P.left,P.left=r,r=P,r.right===null)break}s.right=r,s=r,r=r.right}else break}return s.right=r.left,l.left=r.right,r.left=n.right,r.right=n.left,r}function wt(c,r,e,n){var s=new j(c,r);if(e===null)return s.left=s.right=null,s;e=gt(c,e,n);var l=n(c,e.key);return l<0?(s.left=e.left,s.right=e,e.left=null):l>=0&&(s.right=e.right,s.left=e,e.right=null),s}function et(c,r,e){var n=null,s=null;if(r){r=gt(c,r,e);var l=e(r.key,c);l===0?(n=r.left,s=r.right):l<0?(s=r.right,r.right=null,n=r):(n=r.left,r.left=null,s=r)}return{left:n,right:s}}function W(c,r,e){return r===null?c:(c===null||(r=gt(c.key,r,e),r.left=c),r)}function E(c,r,e,n,s){if(c){n(""+r+(e?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+s(c)+`
`);var l=r+(e?"    ":"\u2502   ");c.left&&E(c.left,l,!1,n,s),c.right&&E(c.right,l,!0,n,s)}}var T=function(){function c(r){r===void 0&&(r=dt),this._root=null,this._size=0,this._comparator=r}return c.prototype.insert=function(r,e){return this._size++,this._root=wt(r,e,this._root,this._comparator)},c.prototype.add=function(r,e){var n=new j(r,e);this._root===null&&(n.left=n.right=null,this._size++,this._root=n);var s=this._comparator,l=gt(r,this._root,s),v=s(r,l.key);return v===0?this._root=l:(v<0?(n.left=l.left,n.right=l,l.left=null):v>0&&(n.right=l.right,n.left=l,l.right=null),this._size++,this._root=n),this._root},c.prototype.remove=function(r){this._root=this._remove(r,this._root,this._comparator)},c.prototype._remove=function(r,e,n){var s;if(e===null)return null;e=gt(r,e,n);var l=n(r,e.key);return l===0?(e.left===null?s=e.right:(s=gt(r,e.left,n),s.right=e.right),this._size--,s):e},c.prototype.pop=function(){var r=this._root;if(r){for(;r.left;)r=r.left;return this._root=gt(r.key,this._root,this._comparator),this._root=this._remove(r.key,this._root,this._comparator),{key:r.key,data:r.data}}return null},c.prototype.findStatic=function(r){for(var e=this._root,n=this._comparator;e;){var s=n(r,e.key);if(s===0)return e;s<0?e=e.left:e=e.right}return null},c.prototype.find=function(r){return this._root&&(this._root=gt(r,this._root,this._comparator),this._comparator(r,this._root.key)!==0)?null:this._root},c.prototype.contains=function(r){for(var e=this._root,n=this._comparator;e;){var s=n(r,e.key);if(s===0)return!0;s<0?e=e.left:e=e.right}return!1},c.prototype.forEach=function(r,e){for(var n=this._root,s=[],l=!1;!l;)n!==null?(s.push(n),n=n.left):s.length!==0?(n=s.pop(),r.call(e,n),n=n.right):l=!0;return this},c.prototype.range=function(r,e,n,s){for(var l=[],v=this._comparator,P=this._root,L;l.length!==0||P;)if(P)l.push(P),P=P.left;else{if(P=l.pop(),L=v(P.key,e),L>0)break;if(v(P.key,r)>=0&&n.call(s,P))return this;P=P.right}return this},c.prototype.keys=function(){var r=[];return this.forEach(function(e){var n=e.key;return r.push(n)}),r},c.prototype.values=function(){var r=[];return this.forEach(function(e){var n=e.data;return r.push(n)}),r},c.prototype.min=function(){return this._root?this.minNode(this._root).key:null},c.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},c.prototype.minNode=function(r){if(r===void 0&&(r=this._root),r)for(;r.left;)r=r.left;return r},c.prototype.maxNode=function(r){if(r===void 0&&(r=this._root),r)for(;r.right;)r=r.right;return r},c.prototype.at=function(r){for(var e=this._root,n=!1,s=0,l=[];!n;)if(e)l.push(e),e=e.left;else if(l.length>0){if(e=l.pop(),s===r)return e;s++,e=e.right}else n=!0;return null},c.prototype.next=function(r){var e=this._root,n=null;if(r.right){for(n=r.right;n.left;)n=n.left;return n}for(var s=this._comparator;e;){var l=s(r.key,e.key);if(l===0)break;l<0?(n=e,e=e.left):e=e.right}return n},c.prototype.prev=function(r){var e=this._root,n=null;if(r.left!==null){for(n=r.left;n.right;)n=n.right;return n}for(var s=this._comparator;e;){var l=s(r.key,e.key);if(l===0)break;l<0?e=e.left:(n=e,e=e.right)}return n},c.prototype.clear=function(){return this._root=null,this._size=0,this},c.prototype.toList=function(){return g(this._root)},c.prototype.load=function(r,e,n){e===void 0&&(e=[]),n===void 0&&(n=!1);var s=r.length,l=this._comparator;if(n&&F(r,e,0,s-1,l),this._root===null)this._root=a(r,e,0,s),this._size=s;else{var v=x(this.toList(),_(r,e),l);s=this._size+s,this._root=y({head:v},0,s)}return this},c.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(c.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),c.prototype.toString=function(r){r===void 0&&(r=function(s){return String(s.key)});var e=[];return E(this._root,"",!0,function(n){return e.push(n)},r),e.join("")},c.prototype.update=function(r,e,n){var s=this._comparator,l=et(r,this._root,s),v=l.left,P=l.right;s(r,e)<0?P=wt(e,n,P,s):v=wt(e,n,v,s),this._root=W(v,P,s)},c.prototype.split=function(r){return et(r,this._root,this._comparator)},c}();function a(c,r,e,n){var s=n-e;if(s>0){var l=e+Math.floor(s/2),v=c[l],P=r[l],L=new j(v,P);return L.left=a(c,r,e,l),L.right=a(c,r,l+1,n),L}return null}function _(c,r){for(var e=new j(null,null),n=e,s=0;s<c.length;s++)n=n.next=new j(c[s],r[s]);return n.next=null,e.next}function g(c){for(var r=c,e=[],n=!1,s=new j(null,null),l=s;!n;)r?(e.push(r),r=r.left):e.length>0?(r=l=l.next=e.pop(),r=r.right):n=!0;return l.next=null,s.next}function y(c,r,e){var n=e-r;if(n>0){var s=r+Math.floor(n/2),l=y(c,r,s),v=c.head;return v.left=l,c.head=c.head.next,v.right=y(c,s+1,e),v}return null}function x(c,r,e){for(var n=new j(null,null),s=n,l=c,v=r;l!==null&&v!==null;)e(l.key,v.key)<0?(s.next=l,l=l.next):(s.next=v,v=v.next),s=s.next;return l!==null?s.next=l:v!==null&&(s.next=v),n.next}function F(c,r,e,n,s){if(!(e>=n)){for(var l=c[e+n>>1],v=e-1,P=n+1;;){do v++;while(s(c[v],l)<0);do P--;while(s(c[P],l)>0);if(v>=P)break;var L=c[v];c[v]=c[P],c[P]=L,L=r[v],r[v]=r[P],r[P]=L}F(c,r,e,P,s),F(c,r,P+1,n,s)}}var Z=function(r,e){return r.ll.x<=e.x&&e.x<=r.ur.x&&r.ll.y<=e.y&&e.y<=r.ur.y},tt=function(r,e){if(e.ur.x<r.ll.x||r.ur.x<e.ll.x||e.ur.y<r.ll.y||r.ur.y<e.ll.y)return null;var n=r.ll.x<e.ll.x?e.ll.x:r.ll.x,s=r.ur.x<e.ur.x?r.ur.x:e.ur.x,l=r.ll.y<e.ll.y?e.ll.y:r.ll.y,v=r.ur.y<e.ur.y?r.ur.y:e.ur.y;return{ll:{x:n,y:l},ur:{x:s,y:v}}},Y=Number.EPSILON;Y===void 0&&(Y=Math.pow(2,-52));var Tt=Y*Y,yt=function(r,e){if(-Y<r&&r<Y&&-Y<e&&e<Y)return 0;var n=r-e;return n*n<Tt*r*e?0:r<e?-1:1},Mt=function(){function c(){G(this,c),this.reset()}return Q(c,[{key:"reset",value:function(){this.xRounder=new A,this.yRounder=new A}},{key:"round",value:function(e,n){return{x:this.xRounder.round(e),y:this.yRounder.round(n)}}}]),c}(),A=function(){function c(){G(this,c),this.tree=new T,this.round(0)}return Q(c,[{key:"round",value:function(e){var n=this.tree.add(e),s=this.tree.prev(n);if(s!==null&&yt(n.key,s.key)===0)return this.tree.remove(e),s.key;var l=this.tree.next(n);return l!==null&&yt(n.key,l.key)===0?(this.tree.remove(e),l.key):e}}]),c}(),I=new Mt,M=function(r,e){return r.x*e.y-r.y*e.x},S=function(r,e){return r.x*e.x+r.y*e.y},R=function(r,e,n){var s={x:e.x-r.x,y:e.y-r.y},l={x:n.x-r.x,y:n.y-r.y},v=M(s,l);return yt(v,0)},O=function(r){return Math.sqrt(S(r,r))},p=function(r,e,n){var s={x:e.x-r.x,y:e.y-r.y},l={x:n.x-r.x,y:n.y-r.y};return M(l,s)/O(l)/O(s)},f=function(r,e,n){var s={x:e.x-r.x,y:e.y-r.y},l={x:n.x-r.x,y:n.y-r.y};return S(l,s)/O(l)/O(s)},u=function(r,e,n){return e.y===0?null:{x:r.x+e.x/e.y*(n-r.y),y:n}},m=function(r,e,n){return e.x===0?null:{x:n,y:r.y+e.y/e.x*(n-r.x)}},H=function(r,e,n,s){if(e.x===0)return m(n,s,r.x);if(s.x===0)return m(r,e,n.x);if(e.y===0)return u(n,s,r.y);if(s.y===0)return u(r,e,n.y);var l=M(e,s);if(l==0)return null;var v={x:n.x-r.x,y:n.y-r.y},P=M(v,e)/l,L=M(v,s)/l,J=r.x+L*e.x,at=n.x+P*s.x,ct=r.y+L*e.y,xt=n.y+P*s.y,mt=(J+at)/2,Rt=(ct+xt)/2;return{x:mt,y:Rt}},B=function(){Q(c,null,[{key:"compare",value:function(e,n){var s=c.comparePoints(e.point,n.point);return s!==0?s:(e.point!==n.point&&e.link(n),e.isLeft!==n.isLeft?e.isLeft?1:-1:z.compare(e.segment,n.segment))}},{key:"comparePoints",value:function(e,n){return e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0}}]);function c(r,e){G(this,c),r.events===void 0?r.events=[this]:r.events.push(this),this.point=r,this.isLeft=e}return Q(c,[{key:"link",value:function(e){if(e.point===this.point)throw new Error("Tried to link already linked events");for(var n=e.point.events,s=0,l=n.length;s<l;s++){var v=n[s];this.point.events.push(v),v.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var e=this.point.events.length,n=0;n<e;n++){var s=this.point.events[n];if(s.segment.consumedBy===void 0)for(var l=n+1;l<e;l++){var v=this.point.events[l];v.consumedBy===void 0&&s.otherSE.point.events===v.otherSE.point.events&&s.segment.consume(v.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var e=[],n=0,s=this.point.events.length;n<s;n++){var l=this.point.events[n];l!==this&&!l.segment.ringOut&&l.segment.isInResult()&&e.push(l)}return e}},{key:"getLeftmostComparator",value:function(e){var n=this,s=new Map,l=function(P){var L=P.otherSE;s.set(P,{sine:p(n.point,e.point,L.point),cosine:f(n.point,e.point,L.point)})};return function(v,P){s.has(v)||l(v),s.has(P)||l(P);var L=s.get(v),J=L.sine,at=L.cosine,ct=s.get(P),xt=ct.sine,mt=ct.cosine;return J>=0&&xt>=0?at<mt?1:at>mt?-1:0:J<0&&xt<0?at<mt?-1:at>mt?1:0:xt<J?-1:xt>J?1:0}}}]),c}(),$=0,z=function(){Q(c,null,[{key:"compare",value:function(e,n){var s=e.leftSE.point.x,l=n.leftSE.point.x,v=e.rightSE.point.x,P=n.rightSE.point.x;if(P<s)return 1;if(v<l)return-1;var L=e.leftSE.point.y,J=n.leftSE.point.y,at=e.rightSE.point.y,ct=n.rightSE.point.y;if(s<l){if(J<L&&J<at)return 1;if(J>L&&J>at)return-1;var xt=e.comparePoint(n.leftSE.point);if(xt<0)return 1;if(xt>0)return-1;var mt=n.comparePoint(e.rightSE.point);return mt!==0?mt:-1}if(s>l){if(L<J&&L<ct)return-1;if(L>J&&L>ct)return 1;var Rt=n.comparePoint(e.leftSE.point);if(Rt!==0)return Rt;var It=e.comparePoint(n.rightSE.point);return It<0?1:It>0?-1:1}if(L<J)return-1;if(L>J)return 1;if(v<P){var Lt=n.comparePoint(e.rightSE.point);if(Lt!==0)return Lt}if(v>P){var Gt=e.comparePoint(n.rightSE.point);if(Gt<0)return 1;if(Gt>0)return-1}if(v!==P){var Xt=at-L,Vt=v-s,Nt=ct-J,qt=P-l;if(Xt>Vt&&Nt<qt)return 1;if(Xt<Vt&&Nt>qt)return-1}return v>P?1:v<P||at<ct?-1:at>ct?1:e.id<n.id?-1:e.id>n.id?1:0}}]);function c(r,e,n,s){G(this,c),this.id=++$,this.leftSE=r,r.segment=this,r.otherSE=e,this.rightSE=e,e.segment=this,e.otherSE=r,this.rings=n,this.windings=s}return Q(c,[{key:"replaceRightSE",value:function(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var e=this.leftSE.point.y,n=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<n?e:n},ur:{x:this.rightSE.point.x,y:e>n?e:n}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}},{key:"comparePoint",value:function(e){if(this.isAnEndpoint(e))return 0;var n=this.leftSE.point,s=this.rightSE.point,l=this.vector();if(n.x===s.x)return e.x===n.x?0:e.x<n.x?1:-1;var v=(e.y-n.y)/l.y,P=n.x+v*l.x;if(e.x===P)return 0;var L=(e.x-n.x)/l.x,J=n.y+L*l.y;return e.y===J?0:e.y<J?-1:1}},{key:"getIntersection",value:function(e){var n=this.bbox(),s=e.bbox(),l=tt(n,s);if(l===null)return null;var v=this.leftSE.point,P=this.rightSE.point,L=e.leftSE.point,J=e.rightSE.point,at=Z(n,L)&&this.comparePoint(L)===0,ct=Z(s,v)&&e.comparePoint(v)===0,xt=Z(n,J)&&this.comparePoint(J)===0,mt=Z(s,P)&&e.comparePoint(P)===0;if(ct&&at)return mt&&!xt?P:!mt&&xt?J:null;if(ct)return xt&&v.x===J.x&&v.y===J.y?null:v;if(at)return mt&&P.x===L.x&&P.y===L.y?null:L;if(mt&&xt)return null;if(mt)return P;if(xt)return J;var Rt=H(v,this.vector(),L,e.vector());return Rt===null||!Z(l,Rt)?null:I.round(Rt.x,Rt.y)}},{key:"split",value:function(e){var n=[],s=e.events!==void 0,l=new B(e,!0),v=new B(e,!1),P=this.rightSE;this.replaceRightSE(v),n.push(v),n.push(l);var L=new c(l,P,this.rings.slice(),this.windings.slice());return B.comparePoints(L.leftSE.point,L.rightSE.point)>0&&L.swapEvents(),B.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),s&&(l.checkForConsuming(),v.checkForConsuming()),n}},{key:"swapEvents",value:function(){var e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var n=0,s=this.windings.length;n<s;n++)this.windings[n]*=-1}},{key:"consume",value:function(e){for(var n=this,s=e;n.consumedBy;)n=n.consumedBy;for(;s.consumedBy;)s=s.consumedBy;var l=c.compare(n,s);if(l!==0){if(l>0){var v=n;n=s,s=v}if(n.prev===s){var P=n;n=s,s=P}for(var L=0,J=s.rings.length;L<J;L++){var at=s.rings[L],ct=s.windings[L],xt=n.rings.indexOf(at);xt===-1?(n.rings.push(at),n.windings.push(ct)):n.windings[xt]+=ct}s.rings=null,s.windings=null,s.consumedBy=n,s.leftSE.consumedBy=n.leftSE,s.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{var e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};for(var n=this._afterState.rings,s=this._afterState.windings,l=this._afterState.multiPolys,v=0,P=this.rings.length;v<P;v++){var L=this.rings[v],J=this.windings[v],at=n.indexOf(L);at===-1?(n.push(L),s.push(J)):s[at]+=J}for(var ct=[],xt=[],mt=0,Rt=n.length;mt<Rt;mt++)if(s[mt]!==0){var It=n[mt],Lt=It.poly;if(xt.indexOf(Lt)===-1)if(It.isExterior)ct.push(Lt);else{xt.indexOf(Lt)===-1&&xt.push(Lt);var Gt=ct.indexOf(It.poly);Gt!==-1&&ct.splice(Gt,1)}}for(var Xt=0,Vt=ct.length;Xt<Vt;Xt++){var Nt=ct[Xt].multiPoly;l.indexOf(Nt)===-1&&l.push(Nt)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var e=this.beforeState().multiPolys,n=this.afterState().multiPolys;switch(zt.type){case"union":{var s=e.length===0,l=n.length===0;this._isInResult=s!==l;break}case"intersection":{var v,P;e.length<n.length?(v=e.length,P=n.length):(v=n.length,P=e.length),this._isInResult=P===zt.numMultiPolys&&v<P;break}case"xor":{var L=Math.abs(e.length-n.length);this._isInResult=L%2===1;break}case"difference":{var J=function(ct){return ct.length===1&&ct[0].isSubject};this._isInResult=J(e)!==J(n);break}default:throw new Error("Unrecognized operation type found ".concat(zt.type))}return this._isInResult}}],[{key:"fromRing",value:function(e,n,s){var l,v,P,L=B.comparePoints(e,n);if(L<0)l=e,v=n,P=1;else if(L>0)l=n,v=e,P=-1;else throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));var J=new B(l,!0),at=new B(v,!1);return new c(J,at,[s],[P])}}]),c}(),nt=function(){function c(r,e,n){if(G(this,c),!Array.isArray(r)||r.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=e,this.isExterior=n,this.segments=[],typeof r[0][0]!="number"||typeof r[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var s=I.round(r[0][0],r[0][1]);this.bbox={ll:{x:s.x,y:s.y},ur:{x:s.x,y:s.y}};for(var l=s,v=1,P=r.length;v<P;v++){if(typeof r[v][0]!="number"||typeof r[v][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var L=I.round(r[v][0],r[v][1]);L.x===l.x&&L.y===l.y||(this.segments.push(z.fromRing(l,L,this)),L.x<this.bbox.ll.x&&(this.bbox.ll.x=L.x),L.y<this.bbox.ll.y&&(this.bbox.ll.y=L.y),L.x>this.bbox.ur.x&&(this.bbox.ur.x=L.x),L.y>this.bbox.ur.y&&(this.bbox.ur.y=L.y),l=L)}(s.x!==l.x||s.y!==l.y)&&this.segments.push(z.fromRing(l,s,this))}return Q(c,[{key:"getSweepEvents",value:function(){for(var e=[],n=0,s=this.segments.length;n<s;n++){var l=this.segments[n];e.push(l.leftSE),e.push(l.rightSE)}return e}}]),c}(),ht=function(){function c(r,e){if(G(this,c),!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new nt(r[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var n=1,s=r.length;n<s;n++){var l=new nt(r[n],this,!1);l.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=l.bbox.ll.x),l.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=l.bbox.ll.y),l.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=l.bbox.ur.x),l.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=l.bbox.ur.y),this.interiorRings.push(l)}this.multiPoly=e}return Q(c,[{key:"getSweepEvents",value:function(){for(var e=this.exteriorRing.getSweepEvents(),n=0,s=this.interiorRings.length;n<s;n++)for(var l=this.interiorRings[n].getSweepEvents(),v=0,P=l.length;v<P;v++)e.push(l[v]);return e}}]),c}(),q=function(){function c(r,e){if(G(this,c),!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof r[0][0][0]=="number"&&(r=[r])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var n=0,s=r.length;n<s;n++){var l=new ht(r[n],this);l.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=l.bbox.ll.x),l.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=l.bbox.ll.y),l.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=l.bbox.ur.x),l.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=l.bbox.ur.y),this.polys.push(l)}this.isSubject=e}return Q(c,[{key:"getSweepEvents",value:function(){for(var e=[],n=0,s=this.polys.length;n<s;n++)for(var l=this.polys[n].getSweepEvents(),v=0,P=l.length;v<P;v++)e.push(l[v]);return e}}]),c}(),it=function(){Q(c,null,[{key:"factory",value:function(e){for(var n=[],s=0,l=e.length;s<l;s++){var v=e[s];if(!(!v.isInResult()||v.ringOut)){for(var P=null,L=v.leftSE,J=v.rightSE,at=[L],ct=L.point,xt=[];P=L,L=J,at.push(L),L.point!==ct;)for(;;){var mt=L.getAvailableLinkedEvents();if(mt.length===0){var Rt=at[0].point,It=at[at.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(Rt.x,",")+" ".concat(Rt.y,"]. Last matching segment found ends at")+" [".concat(It.x,", ").concat(It.y,"]."))}if(mt.length===1){J=mt[0].otherSE;break}for(var Lt=null,Gt=0,Xt=xt.length;Gt<Xt;Gt++)if(xt[Gt].point===L.point){Lt=Gt;break}if(Lt!==null){var Vt=xt.splice(Lt)[0],Nt=at.splice(Vt.index);Nt.unshift(Nt[0].otherSE),n.push(new c(Nt.reverse()));continue}xt.push({index:at.length,point:L.point});var qt=L.getLeftmostComparator(P);J=mt.sort(qt)[0].otherSE;break}n.push(new c(at))}}return n}}]);function c(r){G(this,c),this.events=r;for(var e=0,n=r.length;e<n;e++)r[e].segment.ringOut=this;this.poly=null}return Q(c,[{key:"getGeom",value:function(){for(var e=this.events[0].point,n=[e],s=1,l=this.events.length-1;s<l;s++){var v=this.events[s].point,P=this.events[s+1].point;R(v,e,P)!==0&&(n.push(v),e=v)}if(n.length===1)return null;var L=n[0],J=n[1];R(L,e,J)===0&&n.shift(),n.push(n[0]);for(var at=this.isExteriorRing()?1:-1,ct=this.isExteriorRing()?0:n.length-1,xt=this.isExteriorRing()?n.length:-1,mt=[],Rt=ct;Rt!=xt;Rt+=at)mt.push([n[Rt].x,n[Rt].y]);return mt}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var e=this.enclosingRing();this._isExteriorRing=e?!e.isExteriorRing():!0}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var e=this.events[0],n=1,s=this.events.length;n<s;n++){var l=this.events[n];B.compare(e,l)>0&&(e=l)}for(var v=e.segment.prevInResult(),P=v?v.prevInResult():null;;){if(!v)return null;if(!P)return v.ringOut;if(P.ringOut!==v.ringOut)return P.ringOut.enclosingRing()!==v.ringOut?v.ringOut:v.ringOut.enclosingRing();v=P.prevInResult(),P=v?v.prevInResult():null}}}]),c}(),At=function(){function c(r){G(this,c),this.exteriorRing=r,r.poly=this,this.interiorRings=[]}return Q(c,[{key:"addInterior",value:function(e){this.interiorRings.push(e),e.poly=this}},{key:"getGeom",value:function(){var e=[this.exteriorRing.getGeom()];if(e[0]===null)return null;for(var n=0,s=this.interiorRings.length;n<s;n++){var l=this.interiorRings[n].getGeom();l!==null&&e.push(l)}return e}}]),c}(),St=function(){function c(r){G(this,c),this.rings=r,this.polys=this._composePolys(r)}return Q(c,[{key:"getGeom",value:function(){for(var e=[],n=0,s=this.polys.length;n<s;n++){var l=this.polys[n].getGeom();l!==null&&e.push(l)}return e}},{key:"_composePolys",value:function(e){for(var n=[],s=0,l=e.length;s<l;s++){var v=e[s];if(!v.poly)if(v.isExteriorRing())n.push(new At(v));else{var P=v.enclosingRing();P.poly||n.push(new At(P)),P.poly.addInterior(v)}}return n}}]),c}(),kt=function(){function c(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z.compare;G(this,c),this.queue=r,this.tree=new T(e),this.segments=[]}return Q(c,[{key:"process",value:function(e){var n=e.segment,s=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(n),s;var l=e.isLeft?this.tree.insert(n):this.tree.find(n);if(!l)throw new Error("Unable to find segment #".concat(n.id," ")+"[".concat(n.leftSE.point.x,", ").concat(n.leftSE.point.y,"] -> ")+"[".concat(n.rightSE.point.x,", ").concat(n.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var v=l,P=l,L=void 0,J=void 0;L===void 0;)v=this.tree.prev(v),v===null?L=null:v.key.consumedBy===void 0&&(L=v.key);for(;J===void 0;)P=this.tree.next(P),P===null?J=null:P.key.consumedBy===void 0&&(J=P.key);if(e.isLeft){var at=null;if(L){var ct=L.getIntersection(n);if(ct!==null&&(n.isAnEndpoint(ct)||(at=ct),!L.isAnEndpoint(ct)))for(var xt=this._splitSafely(L,ct),mt=0,Rt=xt.length;mt<Rt;mt++)s.push(xt[mt])}var It=null;if(J){var Lt=J.getIntersection(n);if(Lt!==null&&(n.isAnEndpoint(Lt)||(It=Lt),!J.isAnEndpoint(Lt)))for(var Gt=this._splitSafely(J,Lt),Xt=0,Vt=Gt.length;Xt<Vt;Xt++)s.push(Gt[Xt])}if(at!==null||It!==null){var Nt=null;if(at===null)Nt=It;else if(It===null)Nt=at;else{var qt=B.comparePoints(at,It);Nt=qt<=0?at:It}this.queue.remove(n.rightSE),s.push(n.rightSE);for(var de=n.split(Nt),oe=0,Kt=de.length;oe<Kt;oe++)s.push(de[oe])}s.length>0?(this.tree.remove(n),s.push(e)):(this.segments.push(n),n.prev=L)}else{if(L&&J){var Qt=L.getIntersection(J);if(Qt!==null){if(!L.isAnEndpoint(Qt))for(var he=this._splitSafely(L,Qt),se=0,pe=he.length;se<pe;se++)s.push(he[se]);if(!J.isAnEndpoint(Qt))for(var ve=this._splitSafely(J,Qt),ge=0,xe=ve.length;ge<xe;ge++)s.push(ve[ge])}}this.tree.remove(n)}return s}},{key:"_splitSafely",value:function(e,n){this.tree.remove(e);var s=e.rightSE;this.queue.remove(s);var l=e.split(n);return l.push(s),e.consumedBy===void 0&&this.tree.insert(e),l}}]),c}(),Bt=typeof V<"u"&&V.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,ne=typeof V<"u"&&V.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,re=function(){function c(){G(this,c)}return Q(c,[{key:"run",value:function(e,n,s){zt.type=e,I.reset();for(var l=[new q(n,!0)],v=0,P=s.length;v<P;v++)l.push(new q(s[v],!1));if(zt.numMultiPolys=l.length,zt.type==="difference")for(var L=l[0],J=1;J<l.length;)tt(l[J].bbox,L.bbox)!==null?J++:l.splice(J,1);if(zt.type==="intersection"){for(var at=0,ct=l.length;at<ct;at++)for(var xt=l[at],mt=at+1,Rt=l.length;mt<Rt;mt++)if(tt(xt.bbox,l[mt].bbox)===null)return[]}for(var It=new T(B.compare),Lt=0,Gt=l.length;Lt<Gt;Lt++)for(var Xt=l[Lt].getSweepEvents(),Vt=0,Nt=Xt.length;Vt<Nt;Vt++)if(It.insert(Xt[Vt]),It.size>Bt)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var qt=new kt(It),de=It.size,oe=It.pop();oe;){var Kt=oe.key;if(It.size===de){var Qt=Kt.segment;throw new Error("Unable to pop() ".concat(Kt.isLeft?"left":"right"," SweepEvent ")+"[".concat(Kt.point.x,", ").concat(Kt.point.y,"] from segment #").concat(Qt.id," ")+"[".concat(Qt.leftSE.point.x,", ").concat(Qt.leftSE.point.y,"] -> ")+"[".concat(Qt.rightSE.point.x,", ").concat(Qt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(It.size>Bt)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(qt.segments.length>ne)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var he=qt.process(Kt),se=0,pe=he.length;se<pe;se++){var ve=he[se];ve.consumedBy===void 0&&It.insert(ve)}de=It.size,oe=It.pop()}I.reset();var ge=it.factory(qt.segments),xe=new St(ge);return xe.getGeom()}}]),c}(),zt=new re,ie=function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];return zt.run("union",r,n)},ft=function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];return zt.run("intersection",r,n)},Ut=function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];return zt.run("xor",r,n)},we=function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];return zt.run("difference",r,n)},ye={union:ie,intersection:ft,xor:Ut,difference:we};return ye})},"./node_modules/polylabel/polylabel.js":(Dt,_t,K)=>{"use strict";var V=K("./node_modules/console-browserify/index.js"),G=K("./node_modules/tinyqueue/index.js");G.default&&(G=G.default),Dt.exports=lt,Dt.exports.default=lt;function lt(et,W,E){W=W||1;for(var T,a,_,g,y=0;y<et[0].length;y++){var x=et[0][y];(!y||x[0]<T)&&(T=x[0]),(!y||x[1]<a)&&(a=x[1]),(!y||x[0]>_)&&(_=x[0]),(!y||x[1]>g)&&(g=x[1])}var F=_-T,Z=g-a,tt=Math.min(F,Z),Y=tt/2;if(tt===0){var Tt=[T,a];return Tt.distance=0,Tt}for(var yt=new G(void 0,Q),Mt=T;Mt<_;Mt+=tt)for(var A=a;A<g;A+=tt)yt.push(new j(Mt+Y,A+Y,Y,et));var I=gt(et),M=new j(T+F/2,a+Z/2,0,et);M.d>I.d&&(I=M);for(var S=yt.length;yt.length;){var R=yt.pop();R.d>I.d&&(I=R,E&&V.log("found best %d after %d probes",Math.round(1e4*R.d)/1e4,S)),!(R.max-I.d<=W)&&(Y=R.h/2,yt.push(new j(R.x-Y,R.y-Y,Y,et)),yt.push(new j(R.x+Y,R.y-Y,Y,et)),yt.push(new j(R.x-Y,R.y+Y,Y,et)),yt.push(new j(R.x+Y,R.y+Y,Y,et)),S+=4)}E&&(V.log("num probes: "+S),V.log("best distance: "+I.d));var O=[I.x,I.y];return O.distance=I.d,O}function Q(et,W){return W.max-et.max}function j(et,W,E,T){this.x=et,this.y=W,this.h=E,this.d=dt(et,W,T),this.max=this.d+this.h*Math.SQRT2}function dt(et,W,E){for(var T=!1,a=1/0,_=0;_<E.length;_++)for(var g=E[_],y=0,x=g.length,F=x-1;y<x;F=y++){var Z=g[y],tt=g[F];Z[1]>W!=tt[1]>W&&et<(tt[0]-Z[0])*(W-Z[1])/(tt[1]-Z[1])+Z[0]&&(T=!T),a=Math.min(a,wt(et,W,Z,tt))}return a===0?0:(T?1:-1)*Math.sqrt(a)}function gt(et){for(var W=0,E=0,T=0,a=et[0],_=0,g=a.length,y=g-1;_<g;y=_++){var x=a[_],F=a[y],Z=x[0]*F[1]-F[0]*x[1];E+=(x[0]+F[0])*Z,T+=(x[1]+F[1])*Z,W+=Z*3}return W===0?new j(a[0][0],a[0][1],0,et):new j(E/W,T/W,0,et)}function wt(et,W,E,T){var a=E[0],_=E[1],g=T[0]-a,y=T[1]-_;if(g!==0||y!==0){var x=((et-a)*g+(W-_)*y)/(g*g+y*y);x>1?(a=T[0],_=T[1]):x>0&&(a+=g*x,_+=y*x)}return g=et-a,y=W-_,g*g+y*y}},"./node_modules/tinyqueue/index.js":(Dt,_t,K)=>{"use strict";K.r(_t),K.d(_t,{default:()=>V});class V{constructor(Q=[],j=G){if(this.data=Q,this.length=this.data.length,this.compare=j,this.length>0)for(let dt=(this.length>>1)-1;dt>=0;dt--)this._down(dt)}push(Q){this.data.push(Q),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const Q=this.data[0],j=this.data.pop();return this.length--,this.length>0&&(this.data[0]=j,this._down(0)),Q}peek(){return this.data[0]}_up(Q){const{data:j,compare:dt}=this,gt=j[Q];for(;Q>0;){const wt=Q-1>>1,et=j[wt];if(dt(gt,et)>=0)break;j[Q]=et,Q=wt}j[Q]=gt}_down(Q){const{data:j,compare:dt}=this,gt=this.length>>1,wt=j[Q];for(;Q<gt;){let et=(Q<<1)+1,W=j[et];const E=et+1;if(E<this.length&&dt(j[E],W)<0&&(et=E,W=j[E]),dt(W,wt)>=0)break;j[Q]=W,Q=et}j[Q]=wt}}function G(lt,Q){return lt<Q?-1:lt>Q?1:0}},"./node_modules/topojson-simplify/src/index.js":(Dt,_t,K)=>{"use strict";K.r(_t),K.d(_t,{filter:()=>G,filterAttached:()=>dt,filterAttachedWeight:()=>E,filterWeight:()=>W,planarRingArea:()=>et,planarTriangleArea:()=>wt,presimplify:()=>y,quantile:()=>x,simplify:()=>tt,sphericalRingArea:()=>O,sphericalTriangleArea:()=>p});function V(f){var u=f.objects,m={},H=f.arcs,B=H.length,$=-1,z=new Array(B),nt=0,ht,q=-1,it;function At(ft){switch(ft.type){case"GeometryCollection":ft.geometries.forEach(At);break;case"LineString":kt(ft.arcs);break;case"MultiLineString":ft.arcs.forEach(kt);break;case"Polygon":ft.arcs.forEach(kt);break;case"MultiPolygon":ft.arcs.forEach(Bt);break}}function St(ft){ft<0&&(ft=~ft),z[ft]||(z[ft]=1,++nt)}function kt(ft){ft.forEach(St)}function Bt(ft){ft.forEach(kt)}function ne(ft){var Ut;switch(ft.type){case"GeometryCollection":Ut={type:"GeometryCollection",geometries:ft.geometries.map(ne)};break;case"LineString":Ut={type:"LineString",arcs:zt(ft.arcs)};break;case"MultiLineString":Ut={type:"MultiLineString",arcs:ft.arcs.map(zt)};break;case"Polygon":Ut={type:"Polygon",arcs:ft.arcs.map(zt)};break;case"MultiPolygon":Ut={type:"MultiPolygon",arcs:ft.arcs.map(ie)};break;default:return ft}return ft.id!=null&&(Ut.id=ft.id),ft.bbox!=null&&(Ut.bbox=ft.bbox),ft.properties!=null&&(Ut.properties=ft.properties),Ut}function re(ft){return ft<0?~z[~ft]:z[ft]}function zt(ft){return ft.map(re)}function ie(ft){return ft.map(zt)}for(it in u)At(u[it]);for(ht=new Array(nt);++$<B;)z[$]&&(z[$]=++q,ht[q]=H[$]);for(it in u)m[it]=ne(u[it]);return{type:"Topology",bbox:f.bbox,transform:f.transform,objects:m,arcs:ht}}function G(f,u){var m=f.objects,H={},B;u==null&&(u=lt);function $(q){var it,At;switch(q.type){case"Polygon":{At=z(q.arcs),it=At?{type:"Polygon",arcs:At}:{type:null};break}case"MultiPolygon":{At=q.arcs.map(z).filter(Q),it=At.length?{type:"MultiPolygon",arcs:At}:{type:null};break}case"GeometryCollection":{At=q.geometries.map($).filter(j),it=At.length?{type:"GeometryCollection",geometries:At}:{type:null};break}default:return q}return q.id!=null&&(it.id=q.id),q.bbox!=null&&(it.bbox=q.bbox),q.properties!=null&&(it.properties=q.properties),it}function z(q){return q.length&&nt(q[0])?[q[0]].concat(q.slice(1).filter(ht)):null}function nt(q){return u(q,!1)}function ht(q){return u(q,!0)}for(B in m)H[B]=$(m[B]);return V({type:"Topology",bbox:f.bbox,transform:f.transform,objects:H,arcs:f.arcs})}function lt(){return!0}function Q(f){return f}function j(f){return f.type!=null}function dt(f){var u=new Array(f.arcs.length),m=0,H;function B(z){switch(z.type){case"GeometryCollection":z.geometries.forEach(B);break;case"Polygon":$(z.arcs);break;case"MultiPolygon":z.arcs.forEach($);break}}function $(z){for(var nt=0,ht=z.length;nt<ht;++nt,++m)for(var q=z[nt],it=0,At=q.length;it<At;++it){var St=q[it];St<0&&(St=~St);var kt=u[St];kt==null?u[St]=m:kt!==m&&(u[St]=-1)}}for(H in f.objects)B(f.objects[H]);return function(z){for(var nt=0,ht=z.length,q;nt<ht;++nt)if(u[(q=z[nt])<0?~q:q]===-1)return!0;return!1}}var gt=K("./node_modules/topojson-client/src/feature.js");function wt(f){var u=f[0],m=f[1],H=f[2];return Math.abs((u[0]-H[0])*(m[1]-u[1])-(u[0]-m[0])*(H[1]-u[1]))/2}function et(f){for(var u=-1,m=f.length,H,B=f[m-1],$=0;++u<m;)H=B,B=f[u],$+=H[0]*B[1]-H[1]*B[0];return Math.abs($)/2}function W(f,u,m){return u=u==null?Number.MIN_VALUE:+u,m==null&&(m=et),function(H,B){return m((0,gt.default)(f,{type:"Polygon",arcs:[H]}).geometry.coordinates[0],B)>=u}}function E(f,u,m){var H=dt(f),B=W(f,u,m);return function($,z){return H($,z)||B($,z)}}var T=K("./node_modules/topojson-client/src/transform.js");function a(f,u){return f[1][2]-u[1][2]}function _(){var f={},u=[],m=0;f.push=function($){return H(u[$._=m]=$,m++),m},f.pop=function(){if(!(m<=0)){var $=u[0],z;return--m>0&&(z=u[m],B(u[z._=0]=z,0)),$}},f.remove=function($){var z=$._,nt;if(u[z]===$)return z!==--m&&(nt=u[m],(a(nt,$)<0?H:B)(u[nt._=z]=nt,z)),z};function H($,z){for(;z>0;){var nt=(z+1>>1)-1,ht=u[nt];if(a($,ht)>=0)break;u[ht._=z]=ht,u[$._=z=nt]=$}}function B($,z){for(;;){var nt=z+1<<1,ht=nt-1,q=z,it=u[q];if(ht<m&&a(u[ht],it)<0&&(it=u[q=ht]),nt<m&&a(u[nt],it)<0&&(it=u[q=nt]),q===z)break;u[it._=z]=it,u[$._=z=q]=$}}return f}function g(f){return[f[0],f[1],0]}function y(f,u){var m=f.transform?(0,T.default)(f.transform):g,H=_();u==null&&(u=wt);var B=f.arcs.map(function(z){var nt=[],ht=0,q,it,At;for(z=z.map(m),it=1,At=z.length-1;it<At;++it)q=[z[it-1],z[it],z[it+1]],q[1][2]=u(q),nt.push(q),H.push(q);for(z[0][2]=z[At][2]=1/0,it=0,At=nt.length;it<At;++it)q=nt[it],q.previous=nt[it-1],q.next=nt[it+1];for(;q=H.pop();){var St=q.previous,kt=q.next;q[1][2]<ht?q[1][2]=ht:ht=q[1][2],St&&(St.next=kt,St[2]=q[2],$(St)),kt&&(kt.previous=St,kt[0]=q[0],$(kt))}return z});function $(z){H.remove(z),z[1][2]=u(z),H.push(z)}return{type:"Topology",bbox:f.bbox,objects:f.objects,arcs:B}}function x(f,u){var m=[];return f.arcs.forEach(function(H){H.forEach(function(B){isFinite(B[2])&&m.push(B[2])})}),m.length&&F(m.sort(Z),u)}function F(f,u){if(m=f.length){if((u=+u)<=0||m<2)return f[0];if(u>=1)return f[m-1];var m,H=(m-1)*u,B=Math.floor(H),$=f[B],z=f[B+1];return $+(z-$)*(H-B)}}function Z(f,u){return u-f}function tt(f,u){u=u==null?Number.MIN_VALUE:+u;var m=f.arcs.map(function(H){for(var B=-1,$=0,z=H.length,nt=new Array(z),ht;++B<z;)(ht=H[B])[2]>=u&&(nt[$++]=[ht[0],ht[1]]);return nt.length=$,nt});return{type:"Topology",transform:f.transform,bbox:f.bbox,objects:f.objects,arcs:m}}var Y=Math.PI,Tt=2*Y,yt=Y/4,Mt=Y/180,A=Math.abs,I=Math.atan2,M=Math.cos,S=Math.sin;function R(f,u){for(var m=0,H=f.length,B=0,$=f[u?m++:H-1],z,nt=$[0]*Mt,ht=$[1]*Mt/2+yt,q,it=M(ht),At,St=S(ht);m<H;++m){$=f[m],z=nt,nt=$[0]*Mt,ht=$[1]*Mt/2+yt,q=it,it=M(ht),At=St,St=S(ht);var kt=nt-z,Bt=kt>=0?1:-1,ne=Bt*kt,re=At*St,zt=q*it+re*M(ne),ie=re*Bt*S(ne);B+=I(ie,zt)}return B}function O(f,u){var m=R(f,!0);return u&&(m*=-1),(m<0?Tt+m:m)*2}function p(f){return A(R(f,!1))*2}},"./node_modules/turf-polygon/index.js":Dt=>{Dt.exports=function(_t,K){if(_t===null)throw new Error("No coordinates passed");for(var V=0;V<_t.length;V++)for(var G=_t[V],lt=0;lt<G[G.length-1].length;lt++){if(G.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(G[G.length-1][lt]!==G[0][lt])throw new Error("First and last Position are not equivalent.")}var Q={type:"Feature",geometry:{type:"Polygon",coordinates:_t},properties:K};return Q.properties||(Q.properties={}),Q}}}]);
