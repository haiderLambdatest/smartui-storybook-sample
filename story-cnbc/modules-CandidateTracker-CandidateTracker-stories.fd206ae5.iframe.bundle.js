(globalThis.webpackChunkfirecracker=globalThis.webpackChunkfirecracker||[]).push([[8780],{"./components/modules/CandidateTracker/CandidateTracker.stories.js":($,u,t)=>{"use strict";t.r(u),t.d(u,{CandidateTracker:()=>W,__namedExportsOrder:()=>z,default:()=>F});var y=t("./node_modules/next/dist/compiled/react/index.js"),f=t("./node_modules/@babel/runtime/helpers/esm/extends.js"),d=t("./node_modules/styled-jsx/style.js"),c=t.n(d),n=t("./node_modules/prop-types/index.js"),l=t.n(n),h=t("./components/modules/CandidateTracker/Header.js"),a=t("./node_modules/next/amp.js"),o=t("./node_modules/lodash-es/_baseSlice.js"),r=t("./node_modules/lodash-es/_isIterateeCall.js"),m=t("./node_modules/lodash-es/toInteger.js"),e=Math.ceil,i=Math.max;function p(N,M,P){(P?(0,r.default)(N,M,P):M===void 0)?M=1:M=i((0,m.default)(M),0);var A=N==null?0:N.length;if(!A||M<1)return[];for(var S=0,B=0,L=Array(e(A/M));S<A;)L[B++]=(0,o.default)(N,S,S+=M);return L}const v=p;var s=t("./components/modules/CandidateTracker/CandidateTracker.propTypes.js"),x=t("./components/modules/CandidateTracker/graphic/Candidate.js"),g=t("./components/modules/CandidateTracker/utils.js"),j=y.createElement;function T({sections:N}){const M=(0,a.useAmp)(),P=N?.filter(S=>!S.hidden);return P?.length?j("section",{id:M?"_":"graphic",className:"jsx-1672582116 candidate-graphics"},j(c(),{id:"1672582116"},[".candidate-graphics.jsx-1672582116{max-width:820px;padding:0 20px;margin:0 auto 60px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:0 64px;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".section.jsx-1672582116{margin-bottom:0;border-bottom:none;padding:32px 0;}",".section.jsx-1672582116:first-child{padding-top:64px;-webkit-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%;}",".section.jsx-1672582116:not(:last-child)::after{content:'';width:356px;max-width:100%;position:absolute;bottom:0;left:0;right:0;height:1px;margin:auto;background:#ccc;}",".labels.jsx-1672582116{gap:8px;margin-bottom:20px;}",".candidates.jsx-1672582116{gap:16px 8px;}",".rows.jsx-1672582116{gap:16px 8px;}","@media (min-width:758px){.candidate-graphics.jsx-1672582116{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:28px;}.section.jsx-1672582116+.section.jsx-1672582116::before{width:356px;}.section.jsx-1672582116:not(:first-child)::after{content:none;}}"]),P.map(S=>{if(!S.candidates)return null;const B=(0,g.getCandidatesByStatus)(S.candidates),L=B.length>9?v(B,Math.ceil(B.length/2)):[B];return j("div",{key:S.title,className:"jsx-1672582116 section relative"},j("div",{className:"jsx-1672582116 header oswald fw7 f7 mb6 lh-none"},S.title),B.length>0&&j("div",{className:"jsx-1672582116 df items-center flex-column"},j("div",{className:"jsx-1672582116 rows dn df-m flex-column flex-wrap"},L.map((U,R)=>j("div",{key:R,className:"jsx-1672582116 candidates df flex-wrap justify-center"},U.map(({candidate:w})=>j(x.default,(0,f.default)({},w,{party:S.party,key:w.name})))))),j("div",{className:"jsx-1672582116 candidates df dn-m flex-wrap justify-center"},B.map(({candidate:U})=>j(x.default,(0,f.default)({},U,{party:S.party,key:U.name}))))))})):null}T.displayName="Graphic",T.propTypes={sections:l().arrayOf(s.sectionPropShape)},T.defaultProps={sections:null};var C=t("./components/modules/CandidateTracker/Section.js"),D=t("./components/SourceBlock/index.js"),b=t("./components/modules/CandidateTracker/CandidateStyles.js"),O=y.createElement;function I({page:N,currentTime:M,isChromeless:P,lastModified:A,lastModifiedFormatted:S}){const{pageTitle:B,description:L,caption:U,sections:R,source:w,credit:H}=N,Y=w?.hidden??!0,Z=H?.hidden??!0,G=w?.sourceText??null,X=H?.sourceText??null,Q=G&&!Y||X&&!Z,V=R?.length>0;return O(y.Fragment,null,O(b.default,null),O(c(),{id:"2514493315"},[".candidate-tracker.jsx-2514493315{margin-bottom:120px;}"]),O("div",{className:"jsx-2514493315 candidate-tracker tc relative z-0"},O(h.default,{title:B,description:L,caption:U,lastModified:A,lastModifiedFormatted:S}),V&&O(y.Fragment,null,O(T,{sections:R}),R.map(J=>O(C.default,(0,f.default)({},J,{isChromeless:P,currentTime:M,key:J.title})))),Q&&O(D.default,{showSource:!Y,showCredit:!Z,sourceText:G,creditText:X})))}I.propTypes={currentTime:l().string,isChromeless:l().bool,page:l().shape({credit:l().shape({hidden:l().bool,sourceText:l().string}),source:l().shape({hidden:l().bool,sourceText:l().string}),sections:l().arrayOf(s.sectionPropShape)}).isRequired},I.defaultProps={currentTime:null,isChromeless:void 0};var k=t("./components/modules/CandidateTracker/__tests__/mock.json"),E=t("./components/providers/StickyContext.js"),K=y.createElement;const F={component:I,title:"Features/Candidate Tracker",args:{currentDate:"2023-05-23",page:k},parameters:{controls:{exclude:["currentTime"]}}},W=({page:N,currentDate:M})=>K(E.StickyProvider,{isAmp:!0},K(I,{page:N,currentTime:`${M}T12:00:00Z`}));W.displayName="CandidateTracker";const z=["CandidateTracker"]},"./components/Module.js":($,u,t)=>{"use strict";t.r(u),t.d(u,{default:()=>h});var y=t("./node_modules/next/dist/compiled/react/index.js"),f=t("./node_modules/classnames/index.js"),d=t.n(f),c=t("./components/withErrorBoundary.js"),n=y.createElement;const l=({children:a,className:o,id:r=null,testId:m=null})=>n("div",{className:d()("module mb9",o),id:r,"data-testid":m},a);l.displayName="Module";const h=(0,c.default)(l)},"./components/SourceBlock/index.js":($,u,t)=>{"use strict";t.r(u),t.d(u,{SourceBlock:()=>m,default:()=>s});var y=t("./node_modules/styled-jsx/style.js"),f=t.n(y),d=t("./node_modules/next/dist/compiled/react/index.js"),c=t("./node_modules/prop-types/index.js"),n=t.n(c),l=t("./node_modules/classnames/index.js"),h=t.n(l),a=t("./components/MarkdownToHtml.js"),o=d.createElement;const r=({showSource:x,showCredit:g,sourceText:j,creditText:T})=>{if(!x&&!g)return null;const C=h()({mb4:x&&g});return o(d.Fragment,null,o(f(),{id:"2535015907"},[".source-block,.source-block>div>div>div>p{color:#555555;font-size:14px;}",".source-block>div>div>div>p>a{font-size:14px;color:#555555;-webkit-text-decoration:underline;text-decoration:underline;}",".source-block>div>div>div>p>strong{font-weight:bold;}"]),o("div",{"data-testid":"source-block",className:"jsx-2535015907 source-block"},x&&o("div",{"data-testid":"source-block--source",className:`jsx-2535015907 publico-txt f3 gray-60 ${C}`},o(a.default,{markdown:j,fontColor:"#555555"})),g&&o("div",{"data-testid":"source-block--credit",className:"jsx-2535015907 publico-txt f3 gray-60"},o(a.default,{markdown:T,fontColor:"#555555"}))))};r.propTypes={sourceText:n().string,creditText:n().string,showCredit:n().bool,showSource:n().bool},r.defaultProps={sourceText:"",creditText:"",showSource:!1,showCredit:!1};const m=r;var e=t("./components/Module.js"),i=d.createElement;const p=({sourceText:x,creditText:g,showCredit:j,showSource:T})=>i(e.default,null,i(m,{sourceText:x,creditText:g,showCredit:j,showSource:T}));p.displayName="SourceBlockModule",p.propTypes={sourceText:n().string,creditText:n().string,showCredit:n().bool,showSource:n().bool},p.defaultProps={sourceText:null,creditText:null,showSource:!1,showCredit:!1};const s=p},"./components/modules/CandidateTracker/graphic/Candidate.js":($,u,t)=>{"use strict";t.r(u),t.d(u,{default:()=>i});var y=t("./node_modules/styled-jsx/style.js"),f=t.n(y),d=t("./node_modules/next/dist/compiled/react/index.js"),c=t("./node_modules/classnames/index.js"),n=t.n(c),l=t("./node_modules/lodash-es/snakeCase.js"),h=t("./node_modules/prop-types/index.js"),a=t.n(h),o=t("./components/ResponsiveImage.js"),r=t("./components/modules/CandidateTracker/constants.js"),m=t("./components/providers/EmbedContext.js"),e=d.createElement;function i({name:p,status:v,party:s,image:x,incumbent:g,cardView:j,includeName:T}){const{isEmbed:C}=(0,d.useContext)(m.default),D=(0,l.default)(p),b=p.split(" "),O=Math.ceil(b.length/2),I=b.slice(0,O).join(" "),k=b.slice(O).join(" "),E=C&&j?185:75,K=C?"div":"a",F=C&&j,W=!C||C&&!j,z=!C&&k||C&&!j;return e(d.Fragment,null,e(f(),{id:"2864962329",dynamic:[E,E]},[".candidate.__jsx-style-dynamic-selector{-webkit-text-decoration:none;text-decoration:none;min-width:75px;}","a.__jsx-style-dynamic-selector{-webkit-transition:opacity 350ms;transition:opacity 350ms;}","a.__jsx-style-dynamic-selector:hover{opacity:0.7;}",".name.__jsx-style-dynamic-selector{font-weight:500;background:var(--bg);padding:5px 12px;-webkit-flex:1 1;-ms-flex:1 1;flex:1 1;}","[data-status='dropped-out'].__jsx-style-dynamic-selector .name.__jsx-style-dynamic-selector{color:#2a2a2a;background:#fff;border:1px solid #ccc;}",`.image-container.__jsx-style-dynamic-selector{-webkit-flex:0 0 75px;-ms-flex:0 0 75px;flex:0 0 75px;width:${E}px;height:${E}px;position:relative;}`,".image-container.__jsx-style-dynamic-selector .image{display:block;width:100%;height:100%;object-fit:cover;object-position:top;}","[data-status='dropped-out'].__jsx-style-dynamic-selector .image{-webkit-filter:grayscale(1) opacity(0.7);filter:grayscale(1) opacity(0.7);}",".incumbent.__jsx-style-dynamic-selector{position:absolute;top:-20px;left:-20px;background:#f8c01e;-webkit-transform:rotate(-13.9deg);-ms-transform:rotate(-13.9deg);transform:rotate(-13.9deg);padding:2px 8px;box-shadow:6px 4px 4px rgba(0,0,0,0.11);}","@media screen and (max-width:757px){.embed.__jsx-style-dynamic-selector .firstname.__jsx-style-dynamic-selector{display:none;}.embed.__jsx-style-dynamic-selector .incumbent.__jsx-style-dynamic-selector{left:2px;top:-70px;box-shadow:none;}}"]),e(K,{href:C?null:`#${D}`,key:p,"data-status":v,style:{"--bg":`var(--${s})`},className:f().dynamic([["2864962329",[E,E]]])+" "+(n()("candidate df flex-column",{embed:C})||"")},e("div",{className:f().dynamic([["2864962329",[E,E]]])+" image-container m-auto"},e(o.default,{className:"image",defaultImageSize:"2x",transformations:`f_auto,q_auto,w_${E}`,alt:p,src:x||r.FALLBACK_CANDIDATE_URL,fallbackSrc:r.FALLBACK_CANDIDATE_URL})),T&&e("div",{className:f().dynamic([["2864962329",[E,E]]])+" name white oswald f3 lh-none df items-center flex-column relative"},g&&e("span",{className:f().dynamic([["2864962329",[E,E]]])+" incumbent f3 oswald fw4 tc lh-copy black"},"Incumbent"),F&&e("span",{className:f().dynamic([["2864962329",[E,E]]])+" firstname"},I," ",k&&k),W&&e("span",{className:f().dynamic([["2864962329",[E,E]]])+" firstname"},I),z&&e("span",{className:f().dynamic([["2864962329",[E,E]]])},k))))}i.propTypes={name:a().string.isRequired,status:a().oneOf(Object.values(r.STATUS)).isRequired,party:a().string.isRequired,image:a().string.isRequired,incumbent:a().bool,cardView:a().bool,includeName:a().bool},i.defaultProps={incumbent:!1,cardView:!1,includeName:!0}},"./components/withErrorBoundary.js":($,u,t)=>{"use strict";t.r(u),t.d(u,{default:()=>a});var y=t("./node_modules/next/dist/compiled/react/index.js"),f=t("./node_modules/console-browserify/index.js"),d=y.createElement;class c extends y.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(r,m){f.error(r,m)}render(){return this.state.hasError?d("div",{className:"pv4 f2 founders-mono"},"Something went wrong. Please try again later."):this.props.children}}c.displayName="ErrorBoundary";const n=c;var l=y.createElement;const a=o=>r=>l(n,null,l(o,r))},"./node_modules/dayjs/plugin/isSameOrAfter.js":function($){(function(u,t){$.exports=t()})(this,function(){"use strict";return function(u,t){t.prototype.isSameOrAfter=function(y,f){return this.isSame(y,f)||this.isAfter(y,f)}}})},"./node_modules/dayjs/plugin/timezone.js":function($){(function(u,t){$.exports=t()})(this,function(){"use strict";var u={year:0,month:1,day:2,hour:3,minute:4,second:5},t={};return function(y,f,d){var c,n=function(o,r,m){m===void 0&&(m={});var e=new Date(o),i=function(p,v){v===void 0&&(v={});var s=v.timeZoneName||"short",x=p+"|"+s,g=t[x];return g||(g=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:p,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:s}),t[x]=g),g}(r,m);return i.formatToParts(e)},l=function(o,r){for(var m=n(o,r),e=[],i=0;i<m.length;i+=1){var p=m[i],v=p.type,s=p.value,x=u[v];x>=0&&(e[x]=parseInt(s,10))}var g=e[3],j=g===24?0:g,T=e[0]+"-"+e[1]+"-"+e[2]+" "+j+":"+e[4]+":"+e[5]+":000",C=+o;return(d.utc(T).valueOf()-(C-=C%1e3))/6e4},h=f.prototype;h.tz=function(o,r){o===void 0&&(o=c);var m=this.utcOffset(),e=this.toDate(),i=e.toLocaleString("en-US",{timeZone:o}),p=Math.round((e-new Date(i))/1e3/60),v=d(i,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(e.getTimezoneOffset()/15)-p,!0);if(r){var s=v.utcOffset();v=v.add(m-s,"minute")}return v.$x.$timezone=o,v},h.offsetName=function(o){var r=this.$x.$timezone||d.tz.guess(),m=n(this.valueOf(),r,{timeZoneName:o}).find(function(e){return e.type.toLowerCase()==="timezonename"});return m&&m.value};var a=h.startOf;h.startOf=function(o,r){if(!this.$x||!this.$x.$timezone)return a.call(this,o,r);var m=d(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return a.call(m,o,r).tz(this.$x.$timezone,!0)},d.tz=function(o,r,m){var e=m&&r,i=m||r||c,p=l(+d(),i);if(typeof o!="string")return d(o).tz(i);var v=function(j,T,C){var D=j-60*T*1e3,b=l(D,C);if(T===b)return[D,T];var O=l(D-=60*(b-T)*1e3,C);return b===O?[D,b]:[j-60*Math.min(b,O)*1e3,Math.max(b,O)]}(d.utc(o,e).valueOf(),p,i),s=v[0],x=v[1],g=d(s).utcOffset(x);return g.$x.$timezone=i,g},d.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},d.tz.setDefault=function(o){c=o}}})},"./node_modules/dayjs/plugin/utc.js":function($){(function(u,t){$.exports=t()})(this,function(){"use strict";var u="minute",t=/[+-]\d\d(?::?\d\d)?/g,y=/([+-]|\d\d)/g;return function(f,d,c){var n=d.prototype;c.utc=function(e){var i={date:e,utc:!0,args:arguments};return new d(i)},n.utc=function(e){var i=c(this.toDate(),{locale:this.$L,utc:!0});return e?i.add(this.utcOffset(),u):i},n.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var l=n.parse;n.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),l.call(this,e)};var h=n.init;n.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else h.call(this)};var a=n.utcOffset;n.utcOffset=function(e,i){var p=this.$utils().u;if(p(e))return this.$u?0:p(this.$offset)?a.call(this):this.$offset;if(typeof e=="string"&&(e=function(g){g===void 0&&(g="");var j=g.match(t);if(!j)return null;var T=(""+j[0]).match(y)||["-",0,0],C=T[0],D=60*+T[1]+ +T[2];return D===0?0:C==="+"?D:-D}(e),e===null))return this;var v=Math.abs(e)<=16?60*e:e,s=this;if(i)return s.$offset=v,s.$u=e===0,s;if(e!==0){var x=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(v+x,u)).$offset=v,s.$x.$localOffset=x}else s=this.utc();return s};var o=n.format;n.format=function(e){var i=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return o.call(this,i)},n.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},n.isUTC=function(){return!!this.$u},n.toISOString=function(){return this.toDate().toISOString()},n.toString=function(){return this.toDate().toUTCString()};var r=n.toDate;n.toDate=function(e){return e==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():r.call(this)};var m=n.diff;n.diff=function(e,i,p){if(e&&this.$u===e.$u)return m.call(this,e,i,p);var v=this.local(),s=c(e).local();return m.call(v,s,i,p)}}})},"./node_modules/lodash-es/_baseSlice.js":($,u,t)=>{"use strict";t.r(u),t.d(u,{default:()=>f});function y(d,c,n){var l=-1,h=d.length;c<0&&(c=-c>h?0:h+c),n=n>h?h:n,n<0&&(n+=h),h=c>n?0:n-c>>>0,c>>>=0;for(var a=Array(h);++l<h;)a[l]=d[l+c];return a}const f=y},"./node_modules/lodash-es/toInteger.js":($,u,t)=>{"use strict";t.r(u),t.d(u,{default:()=>h});var y=t("./node_modules/lodash-es/toNumber.js"),f=1/0,d=17976931348623157e292;function c(a){if(!a)return a===0?a:0;if(a=(0,y.default)(a),a===f||a===-f){var o=a<0?-1:1;return o*d}return a===a?a:0}const n=c;function l(a){var o=n(a),r=o%1;return o===o?r?o-r:o:0}const h=l},"./node_modules/lodash-es/toNumber.js":($,u,t)=>{"use strict";t.r(u),t.d(u,{default:()=>v});var y=/\s/;function f(s){for(var x=s.length;x--&&y.test(s.charAt(x)););return x}const d=f;var c=/^\s+/;function n(s){return s&&s.slice(0,d(s)+1).replace(c,"")}const l=n;var h=t("./node_modules/lodash-es/isObject.js"),a=t("./node_modules/lodash-es/isSymbol.js"),o=0/0,r=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,e=/^0o[0-7]+$/i,i=parseInt;function p(s){if(typeof s=="number")return s;if((0,a.default)(s))return o;if((0,h.default)(s)){var x=typeof s.valueOf=="function"?s.valueOf():s;s=(0,h.default)(x)?x+"":x}if(typeof s!="string")return s===0?s:+s;s=l(s);var g=m.test(s);return g||e.test(s)?i(s.slice(2),g?2:8):r.test(s)?o:+s}const v=p}}]);
