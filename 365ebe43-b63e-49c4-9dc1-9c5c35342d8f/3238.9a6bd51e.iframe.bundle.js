"use strict";(globalThis.webpackChunkfirecracker=globalThis.webpackChunkfirecracker||[]).push([[3238],{"./components/Checkmark.js":(S,l,e)=>{e.r(l),e.d(l,{default:()=>M});var f=e("./node_modules/styled-jsx/style.js"),E=e.n(f),u=e("./node_modules/classnames/index.js"),m=e.n(u),s=e("./node_modules/next/dist/compiled/react/index.js"),j=e("./node_modules/prop-types/index.js"),D=e.n(j),N=e("./node_modules/react-i18next/dist/es/index.js"),B=s.createElement;const Y=({t:T,color:h,height:C,hasTransparentBackground:_,width:P,nonpartisanWinner:y,addMargin:U,shouldDisplay:b,hideOnMobile:F=!1,verticalAlign:O,className:c})=>{const r=_?"transparent":y?"#FFD60C":"#fff",i=m()({ml1:U,dib:b&&!F,"dib-m":b&&F});return B("span",{"data-test":"checkmark-wrapper",className:E().dynamic([["1491606757",[r,C||P,P,O,h]]])+" "+(c||"")},B(E(),{id:"1491606757",dynamic:[r,C||P,P,O,h]},[`.checkmark.__jsx-style-dynamic-selector{background-color:${r};height:${C||P};width:${P};vertical-align:${O};stroke:${h};}`]),B("svg",{"data-test":"checkmark","data-testid":"checkmark",viewBox:"0 0 14 14",strokeWidth:"2",role:"img","aria-label":T("Winner"),className:E().dynamic([["1491606757",[r,C||P,P,O,h]]])+` checkmark dn ${i}`},B("path",{fill:"none",d:"M12,3.5l-6.81,7L2,7.8",className:E().dynamic([["1491606757",[r,C||P,P,O,h]]])})))};Y.displayName="Checkmark",Y.propTypes={color:D().string,height:D().string,addMargin:D().bool,nonpartisanWinner:D().bool,width:D().string,shouldDisplay:D().bool,hideOnMobile:D().bool,verticalAlign:D().oneOf(["bottom","top","middle","unset","baseline"]),hasTransparentBackground:D().bool,className:D().string},Y.defaultProps={color:"#2A2A2A",height:null,addMargin:!0,nonpartisanWinner:!1,width:"20px",shouldDisplay:!1,hideOnMobile:!1,verticalAlign:"bottom",hasTransparentBackground:!1,className:""};const M=(0,N.withTranslation)()(Y)},"./data/partyColors.js":(S,l,e)=>{e.r(l),e.d(l,{default:()=>f});const f={default:{dem:"#0471E6",rep:"#DE3535",grn:"#7A7A7A",con:"#7A7A7A",rp:"#7A7A7A",wf:"#7A7A7A",ind:"#595959",lib:"#A99369",oth:"#7A7A7A",weq:"black",yes:"#9E0084",no:"#2AA78B",ballotyes:"#9E0084",ballotno:"#2AA78B",iap:"salmon",npa:"brown",non:"green",for:"green",agn:"red",uncalled:"#e6e6e6",default:"#595959",other:"#7A7A7A",undecided:"#EBEBEB"},2022:{dem:"#009AF4",rep:"#D42F37",yes:"#9E0084",no:"#2AA78B",uncalled:"#e6e6e6",default:"#5C5C5C",other:"#7A7A7A",undecided:"#EBEBEB"},2023:{dem:"#009AF4",rep:"#D42F37",yes:"#F96419",no:"#645FAA",uncalled:"#e6e6e6",default:"#5C5C5C",other:"#7A7A7A",undecided:"#EBEBEB"},2024:{dem:"#0487E6",rep:"#DD2929",yes:"#F96419",no:"#645FAA",uncalled:"#BEBEBE",default:"#959595",other:"#7A7A7A",undecided:"#BEBEBE"}}},"./helpers/formatPollUpdating.js":(S,l,e)=>{e.r(l),e.d(l,{default:()=>u});var f=e("./helpers/timeUtilities.js");const u=m=>{const s=(0,f.getDate)(m);return s.isValid()?`${s.format("MMM D YYYY, h:mmA")} ET`:""}},"./helpers/formatVotes.js":(S,l,e)=>{e.r(l),e.d(l,{default:()=>s});var f=e("./node_modules/d3-format/src/defaultLocale.js"),E=e("./helpers/typeChecker.js");const u=(0,f.format)(","),s=({showVotesLabel:j,votes:D,label:N="votes"})=>(0,E.isNumber)(D)?j?`${u(D)} ${N}`:u(D):""},"./helpers/getHeadshotUrl.js":(S,l,e)=>{e.r(l),e.d(l,{default:()=>F,getCorrectStateAbbr:()=>y,headshotBaseUrl:()=>E});var f=e("./helpers/constants.js");const E="https://media-cldnry.s-nbcnews.com/image/upload/firecracker/headshots",{ATTORNEY_GENERAL:u,GOVERNOR:m,LT_GOVERNOR:s,PRESIDENT:j,PRES_PRE_VIABILITY:D,PRESIDENT_SPECIAL:N,SENATE:B,SENATE_SPECIAL:Y,SECRETARY_OF_STATE:M,STATE_SENATE:T,MAYOR:h,SUPREME_COURT:C}=f.OFFICE_CODES,_={[u]:"A00",[m]:"G00",[s]:"L00",[j]:"P00",[N]:"P00",[D]:"P00",[B]:"S00",[Y]:"S00",[M]:"SS0",[T]:"Z20",[h]:"M00",[C]:"B00"},P=["dem","rep"],y=({electionSeason:O,electionType:c,stateCode:n,officeCode:r})=>O==="2022"&&c===f.ELECTION_TYPE.PRIMARY&&n==="A0"&&r===f.OFFICE_CODES.STATE_SENATE?"AZ":O==="2022"&&n==="LC"&&r===f.OFFICE_CODES.MAYOR?"CA":O==="2023"&&n==="HU"&&r===f.OFFICE_CODES.MAYOR?"TX":O==="2023"&&n==="PL"&&r===f.OFFICE_CODES.MAYOR?"PA":n,U=(O,c,n,r,i,g,p,x)=>{if(n==="H"){const X=`${(p||"00").padStart(2,"0")}`;return`${E}/${O}/${c}_${n}${X}_${r}_${i}_${g}.${x}`}return`${E}/${O}/${c}_${_[n]}_${r}_${i}_${g}.${x}`},F=O=>{if(Object.keys(O).filter(w=>typeof O[w]!="string").length>0)return null;const{party:c,firstName:n,lastName:r,officeCode:i,electionDate:g,stateCode:p,jcodeString:x,electionType:G}=O,X=y({electionSeason:g,electionType:G,stateCode:p,officeCode:i});if(g==="2022"&&G===f.ELECTION_TYPE.PRIMARY&&p==="AK"&&i===f.OFFICE_CODES.SENATE&&n==="Dave"&&r==="Darden")return null;const V=g.slice(0,4),Q=P.includes(c.slice(0,3).toLowerCase())?c.slice(0,1).toUpperCase():"I",J=n.slice(0,1).toUpperCase(),k=r.replace(/[-']/g," ").split(" ").join("").toUpperCase(),ne=["P","PV","P2"].includes(i)?"US":X,ee=O.fileFormat||(V==="2019"?"png":"jpg");return U(V,ne,i,Q,J,k,x,ee)}},"./helpers/getIsWinner.js":(S,l,e)=>{e.r(l),e.d(l,{default:()=>E});const E=(u="")=>["A","P","W"].includes(u)},"./helpers/getPartyColor.js":(S,l,e)=>{e.r(l),e.d(l,{default:()=>M});var f=e("./node_modules/lodash.get/index.js"),E=e.n(f),u=e("./data/partyColors.js"),m=e("./data/primaryColors.json"),s=e("./helpers/constants.js"),j=e("./helpers/isPrimaryElection.js");const D=["dem","rep"],N=["ind","npa","npt"],B=({normalizedParty:T,order:h,officeCode:C,useHousePrimaryColors:_,useFullColorPalette:P,electionSeason:y,electionTypeCode:U,stateAbbr:b})=>{const[F]=m.default;if(!T||typeof T!="string"||!h||typeof h!="number"||!C||typeof C!="string")return F;const O=s.OFFICE_NAMES[C]||"";let c="other",n="other";P&&T==="nonpartisan"?n=C:!P&&O.includes("president")?c="president":O==="house"&&(c=_&&!P?"house":"other",n=P?"other":"house");const r=E()(m,["season",y,C,b,U]),i=E()(m,["season",y,n,T]),g=E()(m,[c,T]),p=h-1,x=E()(r||i||g,[p]),G=E()(m,["season",y,n,"default",T]);return x||G||F},M=({party:T,order:h,officeCode:C,electionSeason:_,electionType:P,electionTypeCode:y="",stateAbbr:U,onlySupportMajorParties:b=!0,useHousePrimaryColors:F=!1,useFullColorPalette:O=!1})=>{const{default:{default:c}}=u.default,r=_&&E()(u.default,[_,"default"])||c;if(!T||typeof T!="string")return r;let i=T.toLowerCase();if(i==="gop"?i="rep":N.includes(i)&&(i="nonpartisan"),(0,j.default)(y)||P===s.ELECTION_TYPE.PRIMARY||O)return B({electionTypeCode:y,normalizedParty:i,order:h,officeCode:C,useHousePrimaryColors:F,useFullColorPalette:O,electionSeason:_,stateAbbr:U});if(b&&!D.includes(i))return r;const g=_&&E()(u.default,[_,i]),p=E()(u.default,["default",i],null);return g||p||r}},"./helpers/isHeadshotUrlValid.js":(S,l,e)=>{e.r(l),e.d(l,{default:()=>m});const E=s=>typeof s!="string"?"":s.split("/").pop()||"",m=(s,j)=>{if(!s||!j)return!1;const N=E(j)?.split(".")?.[0];return s.includes(N)}},"./helpers/isPrimaryElection.js":(S,l,e)=>{e.r(l),e.d(l,{default:()=>m});var f=e("./helpers/constants.js"),E=e("./node_modules/console-browserify/index.js");const m=(s="")=>typeof s!="string"?(E.warn("isPrimaryElection expects a type of string"),!1):f.PRIMARY_ELECTION_TYPE_CODES.includes(s)},"./helpers/isTelemundo.js":(S,l,e)=>{e.r(l),e.d(l,{default:()=>u});var f=e("./helpers/constants.js");const u=m=>m===f.BRANDS.TELEMUNDO},"./helpers/timeUtilities.js":(S,l,e)=>{e.r(l),e.d(l,{formatDuration:()=>b,getDate:()=>P,getDateNow:()=>y,getPollClosedFormatted:()=>c,isAfter:()=>O,isBefore:()=>F});var f=e("./node_modules/left-pad/index.js"),E=e.n(f),u=e("./node_modules/parse-iso-duration/index.js"),m=e.n(u),s=e("./node_modules/dayjs/plugin/utc.js"),j=e.n(s),D=e("./node_modules/dayjs/plugin/timezone.js"),N=e.n(D),B=e("./node_modules/dayjs/plugin/isSameOrAfter.js"),Y=e.n(B),M=e("./lib/dayjsCustom.js"),T=e("./server/v2/helpers/getPollsCloseFormatted.js");M.dayJsCustom.extend(j()),M.dayJsCustom.extend(N()),M.dayJsCustom.extend(Y());const h=n=>Math.floor(n/1e3%60),C=n=>Math.floor(n/(1e3*60)%60),_=n=>Math.floor(n/(1e3*60*60)%24),P=n=>(0,M.dayJsCustom)(n),y=()=>M.dayJsCustom.utc().tz("America/New_York"),U=n=>E()(String(n),2,"0"),b=n=>{let r;try{r=m()(n)}catch{return null}if(!r)return null;const i=_(r),g=C(r),p=h(r);if(!i){const x=U(g),G=U(p);return`${x}:${G}`}return`${U(i)}:${U(g)}:${U(p)}`},F=(n,r="day")=>{const i=y(),g=P(n);return(0,M.dayJsCustom)(i).isBefore(g,r)},O=(n,r="day")=>{const i=y(),g=P(n);return(0,M.dayJsCustom)(i).isAfter(g,r)},c=(n,r,i)=>(0,T.default)({races:[{polls_close_utc:n}],electionDate:r,currentTime:i})},"./helpers/typeChecker.js":(S,l,e)=>{e.r(l),e.d(l,{isEmptyObject:()=>E,isNumber:()=>f});const f=u=>typeof u=="number",E=u=>typeof u=="object"&&!Array.isArray(u)&&Object.keys(u).length===0},"./server/v2/format/formatCandidate.js":(S,l,e)=>{e.r(l),e.d(l,{formatCandidate:()=>y,formatCandidates:()=>F,formatCountyCandidates:()=>O,getNeatColor:()=>P});var f=e("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),E=e("./node_modules/lodash-es/orderBy.js"),u=e("./node_modules/lodash-es/round.js"),m=e("./server/v2/format/formatParty.js"),s=e("./server/v2/helpers/isNonPartisanRace.js"),j=e("./helpers/getPartyColor.js"),D=e("./helpers/getHeadshotUrl.js"),N=e("./helpers/getIsWinner.js"),B=e("./helpers/constants.js"),Y=e("./server/v2/helpers/dates.js"),M=e("./helpers/isHeadshotUrlValid.js"),T=e("./server/v2/helpers/candidates.js");function h(c,n){var r=Object.keys(c);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(c);n&&(i=i.filter(function(g){return Object.getOwnPropertyDescriptor(c,g).enumerable})),r.push.apply(r,i)}return r}function C(c){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?h(Object(r),!0).forEach(function(i){(0,f.default)(c,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(i){Object.defineProperty(c,i,Object.getOwnPropertyDescriptor(r,i))})}return c}const _=`${D.headshotBaseUrl}/candidate_fallback_light.png`,P=(c,n)=>{if(!n||!c)return null;const r=n[c]?.color_hex;return r?`#${r}`:null};function y({candidate:c,forcedColorOrder:n,race:r,headshots:i,colors:g={}}){const{candidate_name:p="",candidate_code:x=0,vote:G="",major_party:X="",percent:V=0,given_name:Q="",family_name:J="",call_status:k="",is_incumbent:se=!1,color_code:ne}=c,{election_date:ee,election_type:oe,state_code:w,office_code:t,jcode:o}=r,a=(0,Y.getYearFromElectionDate)(ee),d=(0,m.default)(X),A=(0,s.default)({officeCode:t,stateAbbr:w}),v=A||B.PRIMARY_ELECTION_TYPE_CODES.includes(oe),K=P(ne,g),W=(0,j.default)({party:A?X:d,electionSeason:a,officeCode:t,order:n??c.order,stateAbbr:w,electionTypeCode:oe,useFullColorPalette:v}),$=K||W,z=$.replace("#","bg-"),R=`${V}%`;let Z=(0,D.default)({party:X,firstName:Q,lastName:J,officeCode:t,stateCode:w,electionDate:a,fileFormat:"png",jcodeString:o!=null?`${o}`:""});i&&!(0,M.default)(i[a],Z)&&(Z=_);const q=(0,N.default)(k);return{callStatus:k,code:x,name:p,firstName:Q,lastName:J,headshotUrl:Z,isWinner:q,votes:G,party:d,bgColor:z,colorHex:$,percentVote:V,formattedPercentVote:R,isIncumbent:se}}const U=c=>(0,E.default)(c,["vote","order"],["desc","asc"]);function b(c,n,r){const{order:i,major_party:g}=r,p=g.toLowerCase();return B.PRIMARY_ELECTION_TYPE_CODES.includes(n)&&c[p]?c[p].indexOf(r)+1:i}function F({race:c,headshots:n,colors:r}){const i=U(c.candidates),g=(0,T.getCandidatesByParty)(i);return i.map(p=>y({forcedColorOrder:b(g,c.election_type,p),headshots:n,candidate:p,race:c,colors:r}))}function O({county:c,race:n,headshots:r,colors:i}){const g=c.candidates.map(V=>{const Q=n.candidates.find(J=>J.candidate_code===V.code);return C(C({},Q),{},{vote:V.vote,percent:V.vote_percent_1,percent_0:V.vote_percent_0})}),p=U(g),x=(0,T.getCandidatesByParty)(p);let G=0,X=0;return p.length>1&&(G=p[0].vote-p[1].vote,X=(0,u.default)(p[0].percent-p[1].percent,1)),p.map((V,Q)=>{const J=y({forcedColorOrder:b(x,n.election_type,V),headshots:r,race:n,candidate:V,colors:i});return Q===0&&(J.leadByVotes=G,J.leadByPercent=X),J})}},"./server/v2/format/formatDelegates.js":(S,l,e)=>{e.r(l),e.d(l,{addUpcomingRaces:()=>w,formatNationalDelegateRace:()=>ee,formatNationalDelegateRaces:()=>oe,formatStateDelegateRace:()=>se,formatStateDelegateRaces:()=>ne});var f=e("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),E=e("./node_modules/lodash-es/orderBy.js"),u=e("./helpers/getPartyColor.js"),m=e("./server/v2/format/formatCandidate.js"),s=e("./helpers/constants.js"),j=e("./helpers/getHeadshotUrl.js"),D=e("./node_modules/lodash.kebabcase/index.js"),N=e.n(D),B=e("./helpers/formatPollUpdating.js"),Y=e("./helpers/formatVotes.js");const M=t=>["A","P","W"].includes(t),T=(t,o)=>(0,u.default)({party:t,order:o,officeCode:"P",electionTypeCode:s.PRIMARY_ELECTION_TYPE_CODES[0]}),h=t=>`/politics/2020-primary-elections/${N()(t)}-results`,C=t=>(0,Y.default)({votes:t}),_=(t,o)=>t?(0,B.default)(t,o):"",P=t=>t.find(a=>a.isWinner===!0)||!1,y=t=>(t.find(a=>a.isWinner===!0)||{}).colorHex,U=t=>{let o;return t?o="#fff":o="#000",o},b=(t,o,a)=>{let d;return o?d=a:t?d="#ccc":d="#ebebeb",d},F=t=>{if(typeof t!="string")return"";const o=/[0-9]{4}-[0-9]{2}-[0-9]{2}/,[a]=o.exec(t)||[""];return a},O=t=>{if(typeof t!="string")return!1;const o=new Date,a=F(t),d=new Date(a),A=o.getTime(),v=d.getTime();return A>v};var c=e("./helpers/stateNameUtilities.js"),n=e("./helpers/isTelemundo.js");function r(t,o){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);o&&(d=d.filter(function(A){return Object.getOwnPropertyDescriptor(t,A).enumerable})),a.push.apply(a,d)}return a}function i(t){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?r(Object(a),!0).forEach(function(d){(0,f.default)(t,d,a[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(d){Object.defineProperty(t,d,Object.getOwnPropertyDescriptor(a,d))})}return t}function g(t){const o=t.find(v=>v.title.match(/(^presidential primary)|(democrat(ic)? presidential (caucus|primary))/i)),a=t.find(v=>v.title.match(/(^presidential primary)|(republican caucus)|(republican presidential (caucus|primary))/i));let d=null;o&&(d=o.title.match(/caucus/i)?s.ELECTION_TYPE_CODES.DEMOCRATIC_CAUCUS:s.ELECTION_TYPE_CODES.DEMOCRATIC_PRIMARY);let A=null;return a&&(A=a.title.match(/caucus/i)?s.ELECTION_TYPE_CODES.REPUBLICAN_CAUCUS:s.ELECTION_TYPE_CODES.REPUBLICAN_PRIMARY),{dem:d,rep:A}}function p(t){return t.months.flatMap(o=>o.dates)}const x=t=>p(t).reduce((o,a)=>{if(!a.states)return o;const{states:d}=a;return d.forEach(A=>{const{name:v,type:K}=A;K==="state"&&o.push({state:v,date:a.date})}),o},[]);function G(t){return p(t).reduce((a,d)=>(d.states?.forEach(A=>{if(A.type!=="state")return;const v=(0,c.getStateAbbreviationByStateName)(A.name);if(!v)return;const K={date:d.date,stateAbbr:v,stateName:A.name},{dem:W,rep:$}=g(A.labels);$&&a[s.DELEGATE_PARTY.REP].push(i(i({},K),{},{electionTypeCode:$})),W&&a[s.DELEGATE_PARTY.DEM].push(i(i({},K),{},{electionTypeCode:W}))}),a),{[s.DELEGATE_PARTY.REP]:[],[s.DELEGATE_PARTY.DEM]:[]})}const X={2022:"midterm-calendar",2024:"calendar"},V={2022:"calendario-de-las-primarias",2024:"calendario"},Q=(t,o)=>(0,n.default)(t)?`noticias/${V[o]}`:X[o];function J(t,o){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);o&&(d=d.filter(function(A){return Object.getOwnPropertyDescriptor(t,A).enumerable})),a.push.apply(a,d)}return a}function k(t){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?J(Object(a),!0).forEach(function(d){(0,f.default)(t,d,a[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach(function(d){Object.defineProperty(t,d,Object.getOwnPropertyDescriptor(a,d))})}return t}function se({allowlist:t,delegates:o,electionSeason:a,party:d,incumbentName:A,droppedOutNames:v,colors:K}){const W=Object.values(o).filter(R=>R.party.includes(d.toLowerCase()));if(!W.length)return null;const $=d===s.DELEGATE_PARTY.DEM?s.ELECTION_TYPE_CODES.DEMOCRATIC_PRIMARY:s.ELECTION_TYPE_CODES.REPUBLICAN_PRIMARY,z=W.map(R=>{const Z=R.candidates_delegates.reduce((te,H)=>{const L=R.candidates_votes?.find(re=>re.candidate_code===H.candidate_code),I=L?.color_code,ae=(0,m.getNeatColor)(I,K),le=(0,u.default)({order:H.order,electionSeason:a,useFullColorPalette:!0,electionTypeCode:$,officeCode:s.OFFICE_CODES.PRESIDENT,party:d});return te[H.last_name]={name:H.candidate_name,firstName:H.first_name,lastName:H.last_name,colorHex:ae||le,headshotUrl:(0,j.default)({electionDate:a,firstName:H.first_name,lastName:H.last_name,officeCode:s.OFFICE_CODES.PRESIDENT,party:d,stateCode:"US"}),isDroppedOut:v?.includes(H.candidate_name)??!1,isIncumbent:H.candidate_name===A,isWinner:s.WINNING_CALL_STATUSES.includes(L?.call_status),delegatesAwarded:H.event_total,superDelegatesAwarded:H.event_super,allDelegatesAwarded:H.event_total+H.event_super,vote:L?.vote??0,votes:L?.vote??0,percentVote:L?L.percent:0,formattedPercentVote:L?`${L.percent.toFixed(1)}%`:null},te},{}),q=`/politics/${a}-primary-elections/${(0,c.getStateNameSlugByStateAbbreviation)(R.state_code)}-president-results`;return{stateAbbr:R.state_code,eventID:R.event_id,lastUpdatedTimestamp:R.updated_at,linkToStateSubPage:!t||t.includes(q)?q:null,availableDelegates:R.available_total,percentIn:R.percent_in,percentInFormatted:`${R.percent_in.toFixed(1)}%`,raceDateString:F(R.event_id),totalVotesIn:R.total_vote,candidateResultsByLastName:Z,totalAwardedDelegates:R.event_total}});return{party:d,races:z}}function ne({allowlist:t,delegates:o,electionSeason:a,incumbentName:d,droppedOutNames:A,colors:v}){return Object.values(s.DELEGATE_PARTY).reduce((K,W)=>(K[W]=se({allowlist:t,delegates:o,electionSeason:a,party:W,incumbentName:d,droppedOutNames:A,colors:v}),K),{})}function ee({candidateLimit:t,delegates:o,electionSeason:a,party:d,incumbentName:A,droppedOutNames:v,showAllCandidates:K,showSuperDelegates:W,colors:$}){const z=o.season_level_delegate[d];if(!z)return null;const R=d===s.DELEGATE_PARTY.DEM?s.ELECTION_TYPE_CODES.DEMOCRATIC_PRIMARY:s.ELECTION_TYPE_CODES.REPUBLICAN_PRIMARY,Z=z.season_delegates.every(L=>(W?L.event_total+L.event_super:L.event_total)===0),q=L=>Z?!1:v?.includes(L.candidate_name)??!1;let te=(0,E.default)(z.season_delegates,[L=>q(L),"event_total","order"],["asc","desc","asc"]);t!=null&&(te=te.slice(0,t));const H=te.reduce((L,I)=>{const ae=W?I.event_total+I.event_super:I.event_total;if(!I.delegates_editorial||!K&&!Z&&!ae)return L;const re=I.color_code,de=(0,m.getNeatColor)(re,$),ie=(0,u.default)({order:I.order,electionSeason:a,useFullColorPalette:!0,electionTypeCode:R,officeCode:s.OFFICE_CODES.PRESIDENT,party:d});return L.push({name:I.candidate_name,firstName:I.first_name,lastName:I.last_name,colorHex:de||ie,headshotUrl:(0,j.default)({electionDate:a,firstName:I.first_name,lastName:I.last_name,officeCode:s.OFFICE_CODES.PRESIDENT,party:d,stateCode:"US"}),isDroppedOut:q(I),isIncumbent:I.candidate_name===A,isWinner:I.is_nominee,delegatesAwarded:I.event_total,superDelegatesAwarded:I.event_super,allDelegatesAwarded:I.event_total+I.event_super}),L},[]);return{isZero:Z,candidates:H,delegatesNeeded:z.needed_total,remaining:z.remaining,party:d}}function oe({candidateLimit:t,electionSeason:o,delegates:a,incumbentName:d,droppedOutNames:A,showAllCandidates:v,showSuperDelegates:K,colors:W}){return Object.values(s.DELEGATE_PARTY).reduce(($,z)=>($[z]=ee({delegates:a,candidateLimit:t,electionSeason:o,party:z,incumbentName:d,droppedOutNames:A,showAllCandidates:v,showSuperDelegates:K,colors:W}),$),{})}function w({delegates:t,calendar:o}){const a=Object.values(s.DELEGATE_PARTY),d=G(o);a.forEach(A=>{const v=t.season_level_delegate[A]?.season_delegates;if(!v)return;const K=v.map(W=>k(k({},W),{},{event_at_large:0,event_district:0,event_super:0,event_total:0,is_nominee:!1}));d[A].forEach(({date:W,stateAbbr:$,stateName:z})=>{const R=`${$}-${A}`;if(t.state_level_data[R])return;const Z=A===s.DELEGATE_PARTY.DEM?s.ELECTION_TYPE_CODES.DEMOCRATIC_PRIMARY:s.ELECTION_TYPE_CODES.REPUBLICAN_CAUCUS;t.state_level_data[R]={event_id:`${W}${Z}~${$}~${s.OFFICE_CODES.PRESIDENT}`,party:R,state_code:$,state_name:z,election_type:Z,event_total:0,candidates_delegates:K,candidates_votes:null,percent_in:0,total_vote:0,available_total:0,updated_at:"",updated_at_utc:""}})})}},"./server/v2/format/formatParty.js":(S,l,e)=>{e.r(l),e.d(l,{default:()=>E});var f=e("./server/v2/normalize/normalizePartyAbbreviation.js");function E(u){const m=(0,f.default)(u).toLowerCase();return m==="rep"?"gop":m}},"./server/v2/helpers/candidates.js":(S,l,e)=>{e.r(l),e.d(l,{getCandidatesByParty:()=>m,isGovernorSeatUpForElection:()=>T,isHouseSeatUpForElection:()=>j,isSeatUpForElection:()=>h,isSenateSeatUpForElection:()=>s});var f=e("./node_modules/lodash.orderby/index.js"),E=e.n(f),u=e("./helpers/constants.js");function m(C){return E()(C,["order"],["asc"]).reduce((_,P)=>{const y=(P.major_party||P.party||"").toLowerCase();return y&&(_[y]||(_[y]=[]),_[y].push(P)),_},{})}function s({senateClass:C,electionSeason:_}){let P;switch(C){case 1:P=1790;break;case 2:P=1792;break;case 3:P=1794;break;default:return!1}return(_-P)%6===0}function j({electionSeason:C}){return C%2===0}const D=["NH","VT"],N=["AL","AK","AZ","AR","CA","CO","CT","FL","GA","HI","ID","IL","IA","KS","ME","MD","MA","MI","MN","NE","NV","NM","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","WI","WY","GU","MP","VI"],B=["DE","IN","MO","MT","NC","ND","UT","WA","WV","AS","PR"],Y=["KY","LA","MS"],M=["NJ","VA"];function T({electionSeason:C,stateAbbr:_}){return D.includes(_)?C%2===0:B.includes(_)?(C-1788)%4===0:N.includes(_)?(C-1790)%4===0:Y.includes(_)?(C-1787)%4===0:M.includes(_)?(C-1789)%4===0:!1}function h({electionSeason:C,term:_}){return _.office_code===u.OFFICE_CODES.SENATE?s({electionSeason:C,senateClass:_.office_class}):_.office_code===u.OFFICE_CODES.HOUSE?j({electionSeason:C}):_.office_code===u.OFFICE_CODES.GOVERNOR?T({electionSeason:C,stateAbbr:_.state_code}):null}},"./server/v2/helpers/dates.js":(S,l,e)=>{e.r(l),e.d(l,{getYearFromElectionDate:()=>f});function f(E){return E.slice(0,4)}},"./server/v2/helpers/getPollsCloseFormatted.js":(S,l,e)=>{e.r(l),e.d(l,{default:()=>Y,isSplitPollsCloseState:()=>B});var f=e("./node_modules/dayjs/plugin/utc.js"),E=e.n(f),u=e("./node_modules/dayjs/plugin/timezone.js"),m=e.n(u),s=e("./node_modules/dayjs/plugin/isSameOrAfter.js"),j=e.n(s),D=e("./lib/dayjsCustom.js");D.dayJsCustom.extend(E()),D.dayJsCustom.extend(m()),D.dayJsCustom.extend(j());const N=["AL","AK","NH","FL","MI","KS","IN","ID","ND","OR","KY","TX","SD"];function B(M){return N.includes(M)}function Y({races:M,electionDate:T,currentTime:h,stateCode:C}){const _=Array.from(new Set(M.map(O=>O.polls_close_utc).filter(Boolean))).sort();if(!_.length)return null;const P=_[0],y=D.dayJsCustom.utc(h).tz("America/New_York"),U=D.dayJsCustom.utc(T).hour(12).tz("America/New_York"),b=D.dayJsCustom.utc(P).tz("America/New_York");if(y.isSameOrAfter(b))return null;if(y.isBefore(U,"day"))return`Election on ${U.format("MMM D")}`;const F=`${b.format("h:mm A")} ET`;return _.length>1?`Polls begin to close today at ${F}`:B(C)?`Polls begin closing at ${b.subtract(1,"hour").format("h:mm A")} ET`:`Polls close at ${F}`}},"./server/v2/normalize/normalizePartyAbbreviation.js":(S,l,e)=>{e.r(l),e.d(l,{default:()=>u});const E=m=>{if(typeof m!="string")return!1;const s=m.toLowerCase();return!["dem","rep","ind","lib"].includes(s)};function u(m){if(typeof m!="string")return"other";const s=m.toLowerCase()==="gop"?"Rep":m;return E(s)?"other":s}},"./data/primaryColors.json":S=>{S.exports=JSON.parse('{"president":{"dem":["#3899E7","#A861B5","#84AD48","#DD7026","#697BB6","#3A766F","#6C4682","#F1A410","#89D0E0","#414E7D","#8DB0D9","#8D438B","#738754","#90E0AD","#B8983B","#46A695"],"rep":["#DE3535","#750C0C","#CD7575","#A80101","#9B7777","#470000"]},"house":{"dem":["#308CEF","#C00594","#84AD48","#F96419","#7D78C3","#14866D","#730069","#EEB900","#50CDB1","#68A9EF","#113F75"],"rep":["#DE3535","#6D0000","#EEB8B8","#BB2323","#EE6868","#952727"]},"other":{"dem":["#388FC2","#213F64","#839EBE","#2D5D98","#5F7887","#011521","#285F7F","#5D8CA9","#3A719C","#1F4C83","#3F82AA","#05334F"],"rep":["#DE3535","#750C0C","#CD7575","#A80101","#9B7777","#470000"]},"default":["#595959"],"season":{"2022":{"house":{"dem":[],"rep":[],"default":{"rep":"#D42F37","dem":"#009AF4"}},"other":{"dem":["#009AF4","#8567E6","#20A4A8","#1F69AB","#8A8FBF"],"rep":["#D42F37","#D77F2D","#A23D69","#BD84A3","#CE5883"],"default":{"rep":"#5C5C5C","dem":"#5C5C5C","yes":"#9E0084","no":"#2AA78B"}}},"2023":{"B":{"WI":{"G":["#CD7575","#6873AE"]}},"M":{"CH":{"W":["#5F7887","#839EBE"]}}},"2024":{"other":{"dem":["#0487E6","#034B8F","#00CBAC","#8370F1","#79AF2D","#F1A410","#278685","#8D43AB","#73718B","#8DB0D9","#B89846","#80DAEE","#738754","#90EDAD","#41D7ED"],"rep":["#DD2929","#8F1B1B","#F69696","#E38B39","#B84C96","#FF6000","#9F8383","#BC8604","#DEB703","#E26D99","#D8A084","#877354","#470000","#BB37FF","#8A3752"],"default":{"rep":"#959595","dem":"#959595","yes":"#F96419","no":"#645FAA","other":"#959595"}}}}}')}}]);
