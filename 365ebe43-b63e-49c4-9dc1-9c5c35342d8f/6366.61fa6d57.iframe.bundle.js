"use strict";(globalThis.webpackChunkfirecracker=globalThis.webpackChunkfirecracker||[]).push([[6366],{"./components/ElectionMap/ElectionMap.js":(re,b,a)=>{a.r(b),a.d(b,{default:()=>ct});var l=a("./node_modules/@babel/runtime/helpers/esm/extends.js"),C=a("./node_modules/styled-jsx/style.js"),L=a.n(C),s=a("./node_modules/next/dist/compiled/react/index.js"),S=a("./node_modules/d3-geo/src/path/index.js"),m=a("./node_modules/d3-geo/src/projection/albersUsa.js"),N=a("./node_modules/d3-zoom/src/index.js"),x=a("./node_modules/d3-selection/src/select.js"),j=a("./node_modules/prop-types/index.js"),r=a.n(j),k=a("./components/ElectionMap/MapBoundingBox.js"),v=a("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),Te=a("./node_modules/classnames/index.js"),w=a.n(Te),f=a("./node_modules/lodash-es/isFunction.js"),R=a("./components/ElectionMap/constants.js");function W(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,o)}return t}function H(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?W(Object(t),!0).forEach(function(o){(0,v.default)(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}const q=r().shape({fill:r().oneOfType([r().string,r().func]),height:r().oneOfType([r().string,r().number,r().func]),hoverStroke:r().oneOfType([r().string,r().func]),stroke:r().oneOfType([r().string,r().func]),strokeWidth:r().oneOfType([r().string,r().number,r().func]),textShadow:r().bool,textStyle:r().oneOfType([r().object,r().func]),width:r().oneOfType([r().string,r().number,r().func])}),ne={featureId:r().func,geoFeatures:r().arrayOf(r().shape({})),geoPath:r().func,id:r().string,selectedFeature:r().shape({}),style:q,transform:r().shape({}),visibleFeatures:r().arrayOf(r().number)},G=r().shape(H(H({},ne),{},{type:r().oneOf([R.LAYER_TYPE.GEO]).isRequired})),K={filter:r().func,geoFeatures:r().arrayOf(r().shape({})),height:r().number,id:r().string,onFeatureClick:r().func,onFeatureHover:r().func,projection:r().func,transform:r().shape({}),width:r().number},Z={featureId:r().func,geoFeatures:r().arrayOf(r().shape({})),geoPath:r().func,id:r().string,style:q,transform:r().shape({}),visibleFeatures:r().arrayOf(r().number),type:r().string,source:r().shape({}),objectKey:r().string},de=r().shape(H(H({},K),{},{type:r().oneOf([R.LAYER_TYPE.INTERACTIVE]).isRequired})),se={id:r().string,featureId:r().func,filter:r().func,label:r().oneOfType([r().func,r().string]),position:r().oneOfType([r().oneOf(["R","B","L","T"]),r().func]),source:r().shape({}),transform:r().shape({}),visibleFeatures:r().arrayOf(r().number)},je=r().shape(H(H({},se),{},{type:r().oneOf([R.LAYER_TYPE.LABELS]).isRequired})),Ce=r().shape(H(H({},se),{},{type:r().oneOf([R.LAYER_TYPE.POLY_LABELS]).isRequired})),Be=r().oneOfType([G,je,de,Ce]);var De=a("./components/hooks/useIsSafari.js"),U=s.createElement;function Ie(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,o)}return t}function we(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ie(Object(t),!0).forEach(function(o){(0,v.default)(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ie(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}const{RIGHT:ke,BOTTOM:$,LEFT:X,TOP:J,CENTER:A}=R.LABEL_LAYER_POSITION;function ie({id:n,featureId:e,filter:t,label:o,onFeatureClick:i,onFeatureHover:p,position:u,projection:y,source:I,style:d,transform:P,visibleFeatures:O,dotStyle:E}){const{fill:g="black",height:T=7,stroke:c="white",strokeWidth:B="1.2px",textShadow:D=!0,textStyle:h,width:_=7}=d??{},Y=(0,De.default)();return U(s.Fragment,null,U(L(),{id:"1701030124",dynamic:[$,X,J,A,A,A]},[".label-layer.label-shadow.__jsx-style-dynamic-selector:not(.safari) .label.__jsx-style-dynamic-selector{text-shadow: 1px 1px 2px #fff, -1px -1px 2px #fff, 1px -1px 2px #fff, -1px 1px 2px #fff;}",".label-layer.label-shadow.safari.__jsx-style-dynamic-selector .label.__jsx-style-dynamic-selector text.__jsx-style-dynamic-selector{paint-order:stroke;stroke:#fff;stroke-width:calc(3px * var(--scale));}",".label-layer.__jsx-style-dynamic-selector .label.__jsx-style-dynamic-selector:is(rect,circle){-webkit-transform:scale(var(--scale,1));-ms-transform:scale(var(--scale,1));transform:scale(var(--scale,1));stroke-width:calc(3px * var(--scale));}",".label-layer.__jsx-style-dynamic-selector .label.__jsx-style-dynamic-selector .poi.__jsx-style-dynamic-selector{--size-multi:calc(var(--scale) + 0.05);-webkit-transform:translate( calc(-10px * var(--size-multi)), calc(-20px * var(--size-multi)) ) scale(var(--size-multi));-ms-transform:translate( calc(-10px * var(--size-multi)), calc(-20px * var(--size-multi)) ) scale(var(--size-multi));transform:translate( calc(-10px * var(--size-multi)), calc(-20px * var(--size-multi)) ) scale(var(--size-multi));}",".label-layer.__jsx-style-dynamic-selector .label.__jsx-style-dynamic-selector text.__jsx-style-dynamic-selector{--x-offset:10px;--y-offset:7px;font-size:calc(0.875rem * var(--scale,1));-webkit-transform:translate( calc(var(--x-offset) * var(--scale,1)), calc(var(--y-offset) * var(--scale,1)) );-ms-transform:translate( calc(var(--x-offset) * var(--scale,1)), calc(var(--y-offset) * var(--scale,1)) );transform:translate( calc(var(--x-offset) * var(--scale,1)), calc(var(--y-offset) * var(--scale,1)) );}",".label-layer.circle.__jsx-style-dynamic-selector .label.__jsx-style-dynamic-selector text.__jsx-style-dynamic-selector{--x-offset:9px;--y-offset:5px;}",`.label-layer.__jsx-style-dynamic-selector .label[data-position='${$}'].__jsx-style-dynamic-selector text.__jsx-style-dynamic-selector{--x-offset:0px;--y-offset:16px;text-anchor:middle;}`,`.label-layer.__jsx-style-dynamic-selector .label[data-position='${X}'].__jsx-style-dynamic-selector text.__jsx-style-dynamic-selector{--x-offset:-11px;--y-offset:5px;text-anchor:end;}`,`.label-layer.__jsx-style-dynamic-selector .label[data-position='${J}'].__jsx-style-dynamic-selector text.__jsx-style-dynamic-selector{--x-offset:0px;--y-offset:-8px;text-anchor:middle;}`,`.label-layer.__jsx-style-dynamic-selector .label[data-position='${A}'].__jsx-style-dynamic-selector rect.__jsx-style-dynamic-selector{display:none;}`,`.label-layer.__jsx-style-dynamic-selector .label[data-position='${A}'].__jsx-style-dynamic-selector circle.__jsx-style-dynamic-selector{display:none;}`,`.label-layer.__jsx-style-dynamic-selector .label[data-position='${A}'].__jsx-style-dynamic-selector text.__jsx-style-dynamic-selector{--x-offset:0px;--y-offset:6px;text-anchor:middle;}`]),U("g",{"data-testid":`layer-${n}`,transform:P,className:L().dynamic([["1701030124",[$,X,J,A,A,A]]])+" "+(w()("label-layer",n,{safari:Y,"label-shadow":D,circle:E==="circle"})||"")},O.map(V=>{const M=I.features[V];if(t&&!t(M,P.k))return null;const ee=e?.(M)??V;return U("g",{"data-position":(0,f.default)(u)?u(M):u,"data-feature-id":ee,key:ee,transform:`translate(${y(M.geometry.coordinates)})`,className:L().dynamic([["1701030124",[$,X,J,A,A,A]]])+" label"},E==="rect"?U("rect",{fill:(0,f.default)(g)?g(M):g,stroke:(0,f.default)(c)?c(M):c,strokeWidth:(0,f.default)(B)?B(M):B,width:(0,f.default)(_)?_(M):_,height:(0,f.default)(T)?T(M):T,onMouseMove:p&&(z=>p(z,M)),onClick:i&&(z=>i(z,M)),className:L().dynamic([["1701030124",[$,X,J,A,A,A]]])}):E==="poi"?U("g",{className:L().dynamic([["1701030124",[$,X,J,A,A,A]]])+" poi"},U("path",{fill:"#FFD60D",stroke:"black",strokeWidth:"2",d:"M5.09046 2.9601L5.09046 2.96009C6.52097 1.64077 8.14375 1 10 1C11.8563 1 13.4791 1.64077 14.9095 2.96009C16.2824 4.22629 17 5.93541 17 8.2C17 9.59942 16.4423 11.2178 15.1843 13.0771C14.0331 14.7784 12.3146 16.6461 10 18.6784C7.68533 16.6461 5.96686 14.7784 4.81573 13.0771C3.55769 11.2178 3 9.59942 3 8.2C3 5.9354 3.71756 4.22629 5.09046 2.9601Z",className:L().dynamic([["1701030124",[$,X,J,A,A,A]]])}),U("path",{fill:"black",d:"M9.99995 6C8.89533 6 8 6.89535 8 8C8 9.10465 8.89533 10 9.99995 10C11.1046 10 11.9999 9.10465 11.9999 8C12.0115 6.90698 11.1046 6 9.99995 6Z",className:L().dynamic([["1701030124",[$,X,J,A,A,A]]])})):U("circle",{fill:(0,f.default)(g)?g(M):g,stroke:(0,f.default)(c)?c(M):c,strokeWidth:2/P.k,r:5/P.k,onMouseMove:p&&(z=>p(z,M)),onClick:i&&(z=>i(z,M)),className:L().dynamic([["1701030124",[$,X,J,A,A,A]]])}),U("text",{style:(0,f.default)(h)?h(M):h,className:L().dynamic([["1701030124",[$,X,J,A,A,A]]])+" founders-mono black pe-none"},(0,f.default)(o)?o(M):o))})))}ie.propTypes=we({},se),ie.defaultProps={id:"label",featureId:null,filter:null,label:null,style:null,position:ke,dotStyle:"rect"};var Ye=a("./node_modules/polylabel/polylabel.js"),_e=a.n(Ye),We=a("./node_modules/@turf/intersect/dist/es/index.js"),ze=a("./node_modules/@turf/area/dist/es/index.js"),He=a("./node_modules/turf-polygon/index.js"),Ge=a.n(He),Oe=a("./node_modules/topojson-client/src/feature.js"),Ke=s.createElement;function Se(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,o)}return t}function fe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Se(Object(t),!0).forEach(function(o){(0,v.default)(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Se(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}const Ze=n=>{let e=0,t=null;return n.geometry.coordinates.forEach(o=>{const i=(0,ze.default)(Ge()(o));i<e||(e=i,t=o)}),t},Ne=n=>{const e=n.geometry.type==="MultiPolygon"?Ze(n):n.geometry.coordinates,t=_e()(e);return{type:"Feature",properties:n.properties,geometry:{type:"Point",coordinates:[t[0],t[1]]}}};function ge(n){const{projection:e,source:t,objectKey:o,width:i,height:p}=n,u=(0,s.useMemo)(()=>new k.default({x:0,y:0,width:i,height:p}).unproject(e),[e,i,p]),y=(0,s.useMemo)(()=>Oe.default(t,t.objects[o]).features.map(O=>{if(["AK","HI"].includes(O.properties.STUSPS))return Ne(O);const E=(0,We.default)(O,u,{properties:O.properties});return E?Ne(E):null}).filter(O=>O),[u]),I=fe(fe({},n),{},{overflow:!1,visibleFeatures:Array.from(Array(y.length).keys()),source:{type:"FeatureCollection",features:y}});return Ke(ie,I)}ge.displayName="PolyLabelLayer";var he=s.createElement;function me({geoFeatures:n,featureId:e=u=>u.properties.GEOID,geoPath:t,id:o="circle-layer",transform:i,style:p=null}){const{fill:u="green",r:y="5",fillOpacity:I=".5",opacity:d="1"}=p,P=(0,s.useMemo)(()=>n.reduce((O,E)=>(O[e?.(E)]=t.centroid(E),O),{}),[n,e,t]);return he("g",{"data-testid":`layer-${o}`,transform:i},n.map((O,E)=>{const g=e?.(O)??E,T=P[e?.(O)];return T.some(c=>isNaN(c))?null:he("circle",{key:`circle-${g}`,r:y(O),fill:u(O),opacity:d,fillOpacity:I,stroke:u(O),strokeWidth:1,transform:`translate(${T})`})}))}me.displayName="CircleLayer",me.propTypes=Z;class Ve{constructor(e,t,o,i=100,p=!0){this.id=e,this.width=t,this.height=o,this.zoomBehavior=this.createZoomBehavior(t,o,i,p),this.currentTransform=N.zoomIdentity,this.onTransformCallbacks=new Set}get map(){return x.default(`#${this.id}`)}get zoomLevel(){const e=this.map.node();return e?N.zoomTransform(e).k:1}createZoomBehavior(e,t,o,i){return N.zoom().filter(p=>{if(i===!1)return!1;const u=p.targetTouches?.length>1,y=p.type==="wheel"&&!u&&!p.ctrlKey,I=!u&&p.type==="touchstart";return this.currentTransform&&this.currentTransform.k>1||!(y||I)}).extent([[0,0],[e,t]]).translateExtent([[0,0],[e,t]]).scaleExtent([1,o]).on("zoom",({transform:p})=>{this.currentTransform=p,this.onTransformCallbacks.forEach(u=>u(p))})}zoomIn(){this.map.transition().duration(750).call(this.zoomBehavior.scaleBy,2)}zoomOut(){this.map.transition().duration(750).call(this.zoomBehavior.scaleBy,.5)}zoomToTransform({x:e,y:t,k:o}){const i=new N.ZoomTransform(o,e,t);this.map.transition().duration(750).call(this.zoomBehavior.transform,i)}zoomToBoundingBox(e){const t=this.transformForBoundingBox(e);this.zoomToTransform(t)}transformForBoundingBox(e){const t=Math.min(8,.9/Math.max(e.width/this.width,Math.abs(e.height)/this.height)),o=-(e.x+e.width/2)*t+this.width/2,i=-(e.y+e.height/2)*t+this.height/2;return{x:o,y:i,k:t}}resetZoom(){this.map.transition().duration(750).call(this.zoomBehavior.transform,N.zoomIdentity.scale(1))}onTransform(e){return this.onTransformCallbacks.add(e),()=>this.onTransformCallbacks.delete(e)}}const Ue=Ve;var $e=a("./components/ElectionMap/ZoomHandler.js"),pe=s.createElement;function Me(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,o)}return t}function Xe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Me(Object(t),!0).forEach(function(o){(0,v.default)(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Me(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}function Ee({featureId:n,geoFeatures:e,geoPath:t,id:o,selectedFeature:i,style:p,transform:u,visibleFeatures:y,filter:I}){const{fill:d="#ccc",fillOpacity:P="1",stroke:O="white",hoverStroke:E="white",strokeWidth:g=1,hoverStrokeWidth:T=4,strokeLinecap:c="butt",strokeLinejoin:B="round"}=p??{},D=(0,s.useRef)(null),h=(0,s.useMemo)(()=>{const V=y.map(M=>e[M]).sort((M,ee)=>(M.properties.zIndex||0)-(ee.properties.zIndex||0));return I?V.filter(I):V},[e,y]);(0,s.useEffect)(()=>{x.default(D.current).selectAll("path").data(h,n).join("path").attr("d",V=>V.path).attr("fill",d).attr("fill-opacity",P).attr("stroke-linejoin",B).attr("stroke-linecap",c).attr("data-cd-geoid",n).attr("stroke-width",(0,f.default)(g)?g:`calc(${g}px * var(--scale))`).attr("stroke",O)},[n,h,d,O]);const _=i&&e.find(Y=>n(Y)===n(i));return pe(s.Fragment,null,pe("g",{ref:D,"data-testid":`layer-${o}`,className:"geometries",transform:u}),_&&pe("g",{transform:u},pe("path",{stroke:(0,f.default)(E)?E(_):E,fill:"transparent","data-testid":`layer-${o}-${n(_)}`,strokeWidth:(0,f.default)(T)?T(_):`calc(${T}px * var(--scale))`,d:t(_)})))}Ee.propTypes=Xe({},ne),Ee.defaultProps={id:"geo",featureId:n=>n.properties.GEOID,objectKey:null,style:null,zoomable:!1};var Je=a("./node_modules/d3-geo/src/contains.js"),Fe=s.createElement;function Le(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,o)}return t}function Qe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Le(Object(t),!0).forEach(function(o){(0,v.default)(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Le(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}function ce({featureIndex:n,filter:e,geoFeatures:t,height:o,id:i,onFeatureClick:p,onFeatureHover:u,projection:y,transform:I,width:d}){const P=(0,s.useCallback)(T=>{const c=T.currentTarget.getBoundingClientRect();let{clientX:B,clientY:D}=T;T.touches&&(B=T.touches[0].clientX,D=T.touches[0].clientY);const h=B-c.x,_=D-c.y,Y=h/I.k,V=_/I.k;return{x:Y,y:V}},[I.k]),O=(0,s.useCallback)(({x:T,y:c})=>{const B=y.invert([T,c]);return n.search({boundingBox:[T,c,T,c],width:d,height:o,filter:e&&(h=>e(t[h]))}).map(h=>t[h]).find(h=>Je.default(h,B))},[n,e,t,y,d,o]),E=T=>{const c=P(T),B=O(c);p?.(T,B)},g=(0,s.useCallback)(T=>{const c=P(T),B=O(c);u?.(T,B)},[P,O,u]);return Fe("g",{className:"interaction",transform:I,"data-testid":`layer-${i}`,onMouseMove:g,onClick:E,onBlur:T=>T.preventDefault()},Fe("rect",{x:"0",y:"0",height:o,width:d,fill:"transparent"}))}ce.displayName="InteractiveLayer",ce.propTypes=Qe({},K),ce.defaultProps={filter:void 0,id:"interactive",featureId:n=>n.properties.GEOID,objectKey:null,onFeatureClick:null,onFeatureHover:null,zoomable:!1};var ye=a("./node_modules/topojson-simplify/src/index.js");function ve(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,o)}return t}function be(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ve(Object(t),!0).forEach(function(o){(0,v.default)(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ve(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}const te={ZOOMED_OUT:"zoomed-out",MID:"mid",ZOOMED_IN:"zoomed-in"};function qe({k:n,enabled:e}){return(0,s.useMemo)(()=>n>3||!e?te.ZOOMED_IN:n>1.5?te.MID:te.ZOOMED_OUT,[n,e])}function et({layers:n,geoPath:e,enableZoom:t}){const o=(0,s.useRef)(new Map),i=(0,s.useRef)(null);return(0,s.useMemo)(()=>{const p=new Map;function u({topojson:y,minWeight:I,objectKey:d}){const P=ye.simplify(y,I),{objects:O}=P,E=O[d]??Object.values(O)[0];return Oe.default(y,E).features.map(T=>{const c=e(T);return be(be({},T),{},{path:c})})}return n.forEach(({source:y,type:I,objectKey:d,id:P})=>{if(!R.LAYERS_WITH_SIMPLIFICATION.includes(I)||p.has(P))return;const O=o.current.get(P);if(O&&e===i.current){p.set(P,O);return}if(!t){p.set(P,{[te.ZOOMED_IN]:u({topojson:y,minWeight:0,objectKey:d})});return}const E=ye.presimplify(y),g=ye.quantile(E,.05),T=ye.quantile(E,.1),c=0;p.set(P,{[te.ZOOMED_OUT]:u({topojson:E,minWeight:g,objectKey:d}),[te.MID]:u({topojson:E,minWeight:T,objectKey:d}),[te.ZOOMED_IN]:u({topojson:E,minWeight:c,objectKey:d})})}),o.current=p,i.current=e,p},[n,e])}function tt({featureIndexes:n,width:e,height:t,boundingBox:o}){return(0,s.useMemo)(()=>{const i=new Map;return n.forEach((p,u)=>{i.set(u,p.search({boundingBox:o,height:t,width:e}))}),i},[n,o,t,e])}var ot=a("./node_modules/flatbush/index.js");const rt=(n,e)=>{const t=new ot.default(e.length);return e.forEach(({bbox:o})=>{t.add(Math.floor(o.x0),Math.floor(o.y0),Math.ceil(o.x1),Math.ceil(o.y1))}),t.finish(),t};var nt=a("./node_modules/console-browserify/index.js");class st{constructor({geoPath:e,width:t,height:o,features:i}){(0,v.default)(this,"geoPath",void 0),(0,v.default)(this,"width",void 0),(0,v.default)(this,"height",void 0),(0,v.default)(this,"features",void 0),(0,v.default)(this,"index",void 0),this.geoPath=e,this.width=t,this.height=o,this.features=i,this.index=this.buildIndex()}buildIndex(){const e=this.features.map(t=>({bbox:new k.default(this.geoPath.bounds(t))}));return rt(this.geoPath,e)}search({boundingBox:e,width:t,height:o,filter:i}){const p=(this.width/t).toPrecision(4),u=(this.height/o).toPrecision(4);p!==u&&nt.error("FeatureIndex does not support searches across different aspect ratios. Recreate FeatureIndex.");let y,I,d,P;return Array.isArray(e)?[y,I,d,P]=e:{x:y,y:I,x1:d,y1:P}=e,this.index.search(y*p,I*u,d*p,P*u,i)}}function at({layers:n,geoPath:e,width:t,height:o}){const i=(0,s.useRef)(new Map),p=(0,s.useRef)((t/o).toPrecision(4));return(0,s.useMemo)(()=>{const u=(t/o).toPrecision(4),y=new Map,I=u!==p.current;return n.forEach(({source:d,type:P,objectKey:O,id:E})=>{if(!R.LAYERS_WITH_TOPOLOGY.includes(P)||y.has(E))return;const g=i.current.get(E);if(!I&&g){y.set(E,g);return}const T=d.type==="FeatureCollection",c=T?d:d.objects[O]??Object.values(d.objects)[0],B=T?c:Oe.default(d,c);y.set(E,new st({geoPath:e,width:t,height:o,features:B.features}))}),i.current=y,p.current=u,y},[e,o,n,t])}var it=a("./components/helpers/analytics.js"),Q=s.createElement;const pt=({x:n,y:e,k:t},o,i)=>new k.default({x:-n/t,y:-e/t,width:o/t,height:i/t}),le=({id:n,enableZoom:e,enableCompression:t,height:o,layers:i,projection:p,selectedFeature:u,width:y,zoomHandler:I,zoomTo:d,backgroundColor:P,maxZoomLevel:O,isInteractive:E=!0})=>{const g=(0,s.useRef)(null),{setReference:T}=(0,it.useMapAnalytics)(),{0:c,1:B}=(0,s.useState)(N.zoomIdentity),D=(0,s.useMemo)(()=>S.default().projection(p),[p]),h=(0,s.useMemo)(()=>new Ue(n,y,o,O,E),[o,y,O,E,n]);(0,s.useEffect)(()=>{if(!e)return;const F=h.onTransform(Ae=>{B(Ae)}),oe=I?.attach(h);return()=>{F(),oe?.()}},[h,e,I]);const _=F=>{i.filter(oe=>oe.type===R.LAYER_TYPE.INTERACTIVE).forEach(oe=>{oe?.onFeatureHover(F,null)})};(0,s.useEffect)(()=>{if(!g.current)return;const F=x.default(g.current);e&&F.call(h.zoomBehavior)},[e,h]);const Y=(0,s.useMemo)(()=>pt(c,y,o),[c,y,o]),V=u?"pointer":"default";x.default(g.current).style("cursor",V);const M=qe({k:c.k,enabled:t&&e}),ee=300/c.k,{0:z,1:xe}=(0,s.useState)(Y.addOffset(ee));(0,s.useEffect)(()=>{if(!z.contains(Y)){const F=Y.addOffset(ee);xe(F)}},[Y]),(0,s.useEffect)(()=>{const F=Y.addOffset(ee);xe(F)},[M]),(0,s.useEffect)(()=>{if(d)if(d instanceof k.default){const F=d.project(p);h.zoomToBoundingBox(F)}else{const F=d.bbox||new k.default(D.bounds(d));h.zoomToBoundingBox(F)}else h.resetZoom()},[d,D,p,h]);const Re=at({layers:i,geoPath:D,width:y,height:o}),yt=tt({featureIndexes:Re,width:y,height:o,boundingBox:z}),lt=et({layers:i,geoPath:D,enableZoom:e});return Q("div",{ref:T,onMouseLeave:_,className:L().dynamic([["106036818",[1/c.k]]])+" map-container"},Q(L(),{id:"106036818",dynamic:[1/c.k]},[`.map-container.__jsx-style-dynamic-selector{--scale:${1/c.k};}`]),Q("svg",{ref:g,height:o,width:y,id:h.id,className:L().dynamic([["106036818",[1/c.k]]])+" db"},P&&Q("rect",{x:"0",y:"0",height:o,width:y,fill:P,className:L().dynamic([["106036818",[1/c.k]]])}),i.map((F,oe)=>{const{id:Ae}=F,ae=Ae||oe,ut=Re.get(F.id),ue=yt.get(F.id),Pe=lt.get(F.id)?.[M];switch(F.type){case R.LAYER_TYPE.GEO:return Q(Ee,(0,l.default)({},F,{geoFeatures:Pe,geoPath:D,key:ae,currentBoundingBox:Y,selectedFeature:u,transform:c,visibleFeatures:ue}));case R.LAYER_TYPE.LABELS:return Q(ie,(0,l.default)({},F,{key:ae,geoPath:D,projection:p,transform:c,boundingBox:z,width:y,height:o,visibleFeatures:ue}));case R.LAYER_TYPE.POLY_LABELS:return Q(ge,(0,l.default)({},F,{key:ae,geoPath:D,projection:p,transform:c,boundingBox:z,width:y,height:o,visibleFeatures:ue}));case R.LAYER_TYPE.INTERACTIVE:return Q(ce,(0,l.default)({},F,{geoFeatures:Pe,key:ae,geoPath:D,featureIndex:ut,transform:c,projection:p,height:o,width:y}));case R.LAYER_TYPE.CIRCLE:return Q(me,(0,l.default)({},F,{geoFeatures:Pe,geoPath:D,key:ae,transform:c,visibleFeatures:ue}));default:return null}})))};le.displayName="ElectionMap",le.propTypes={enableZoom:r().bool,enableCompression:r().bool,height:r().oneOfType([r().string,r().number]).isRequired,layers:r().arrayOf(Be).isRequired,maxZoomLevel:r().number,selectedFeature:r().object,projection:r().func,width:r().oneOfType([r().string,r().number]).isRequired,zoomHandler:r().instanceOf($e.ZoomHandler),zoomTo:r().object,id:r().string,isInteractive:r().bool},le.defaultProps={enableZoom:!1,enableCompression:!0,maxZoomLevel:void 0,projection:m.default(),selectedFeature:null,zoomHandler:null,zoomTo:null,id:"election-map"};const ct=le},"./components/ElectionMap/MapBoundingBox.js":(re,b,a)=>{a.r(b),a.d(b,{default:()=>C});class l{constructor(s){if(Array.isArray(s)){const[[S,m],[N,x]]=s;this.x=S,this.y=m,this.width=N-S,this.height=x-m,this.area=this.width*this.height}else this.width=s.width,this.height=s.height,this.x=s.x,this.y=s.y,this.area=this.width*this.height}get x0(){return this.x}get y0(){return this.y}get x1(){return this.x+this.width}get y1(){return this.y+this.height}contains(s){return s.x0>this.x0&&s.x1<this.x1&&s.y0>this.y0&&s.y1<this.y1}addOffset(s){return new l({x:this.x-s,y:this.y-s,width:this.width+2*s,height:this.height+2*s})}project(s){const S=s([this.x0,this.y0]),m=s([this.x1,this.y1]);return new l([S,m])}unproject(s){const S=s.invert([this.x0,this.y0]),m=s.invert([this.x1,this.y0]),N=s.invert([this.x1,this.y1]),x=s.invert([this.x0,this.y1]);return{type:"Polygon",coordinates:[[[S,m,N,x,S]]]}}toGeoJSON(){return{type:"Polygon",coordinates:[[[this.x0,this.y0],[this.x0,this.y1],[this.x1,this.y1],[this.x1,this.y0],[this.x0,this.y0]]]}}static merge(s){let S=1/0,m=-1/0,N=-1/0,x=1/0;return s.forEach(({x:j,y:r,width:k,height:v})=>{j<S&&(S=j),r+v>m&&(m=r+v),j+k>N&&(N=j+k),r<x&&(x=r)}),new l({x:S,y:x,width:N-S,height:m-x,area:this.width*this.height})}}const C=l},"./components/ElectionMap/ZoomHandler.js":(re,b,a)=>{a.r(b),a.d(b,{ZoomHandler:()=>L,useZoomHandler:()=>s});var l=a("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),C=a("./node_modules/next/dist/compiled/react/index.js");class L{constructor(){(0,l.default)(this,"mapController",null),(0,l.default)(this,"onTransformCallbacks",new Set),(0,l.default)(this,"onAttachCallbacks",new Set),(0,l.default)(this,"handleTransform",m=>{this.onTransformCallbacks.forEach(N=>N(m))})}onTransform(m){return this.onTransformCallbacks.add(m),()=>this.onTransformCallbacks.delete(m)}onAttach(m){return this.onAttachCallbacks.add(m),()=>this.onAttachCallbacks.delete(m)}get zoomLevel(){return this.mapController?.zoomLevel??1}get attached(){return!!this.mapController}zoomIn(){this.mapController?.zoomIn()}zoomOut(){this.mapController?.zoomOut()}reset(){this.mapController?.resetZoom()}attach(m){return this.detach(),this.mapController=m,this.onAttachCallbacks.forEach(N=>N({attached:!0})),this.handleTransform(m.currentTransform),m.onTransform(this.handleTransform),()=>{this.detach()}}detach(){this.mapController?.onTransformCallbacks.delete(this.handleTransform)&&(this.mapController=null,this.onAttachCallbacks.forEach(m=>m({attached:!1})))}}function s(){const S=(0,C.useMemo)(()=>new L,[]),{0:m,1:N}=(0,C.useState)(S.zoomLevel),{0:x,1:j}=(0,C.useState)(!1);return(0,C.useEffect)(()=>{const r=S.onTransform(v=>{N(v.k)}),k=S.onAttach(({attached:v})=>{j(v)});return()=>{r(),k()}},[S]),{attached:x,zoomLevel:m,zoomHandler:S}}},"./components/ElectionMap/constants.js":(re,b,a)=>{a.r(b),a.d(b,{LABEL_LAYER_POSITION:()=>N,LAYERS_WITH_SIMPLIFICATION:()=>m,LAYERS_WITH_TOPOLOGY:()=>S,LAYER_TYPE:()=>s,STATE_SCALE_FACTOR_THRESHOLD:()=>C,STATE_THRESHOLD_OVERRIDES:()=>L,citiesLayer:()=>x});const l=JSON.parse('{"type":"FeatureCollection","features":[{"geometry":{"coordinates":[-149.8631,61.2174],"type":"Point"},"properties":{"NAME":"Anchorage","POSITION":"R","STATE":"AK"},"type":"Feature"},{"geometry":{"coordinates":[-147.716,64.8377778],"type":"Point"},"properties":{"NAME":"Fairbanks","POSITION":"R","STATE":"AK"},"type":"Feature"},{"geometry":{"coordinates":[-134.13,58.39],"type":"Point"},"properties":{"NAME":"Juneau","POSITION":"R","STATE":"AK"},"type":"Feature"},{"geometry":{"coordinates":[-86.75,33.57],"type":"Point"},"properties":{"NAME":"Birmingham","POSITION":"R","STATE":"AL"},"type":"Feature"},{"geometry":{"coordinates":[-86.586,34.7303688],"type":"Point"},"properties":{"NAME":"Huntsville","POSITION":"R","STATE":"AL"},"type":"Feature"},{"geometry":{"coordinates":[-88.043,30.6943566],"type":"Point"},"properties":{"NAME":"Mobile","POSITION":"T","STATE":"AL"},"type":"Feature"},{"geometry":{"coordinates":[-86.28,32.35],"type":"Point"},"properties":{"NAME":"Montgomery","POSITION":"B","STATE":"AL"},"type":"Feature"},{"geometry":{"coordinates":[-94.161,36.0764],"type":"Point"},"properties":{"NAME":"Fayetteville","POSITION":"T","STATE":"AR"},"type":"Feature"},{"geometry":{"coordinates":[-93,34.5],"type":"Point"},"properties":{"NAME":"Hot Springs","POSITION":"L","STATE":"AR"},"type":"Feature"},{"geometry":{"coordinates":[-90.694,35.8281],"type":"Point"},"properties":{"NAME":"Jonesboro","POSITION":"R","STATE":"AR"},"type":"Feature"},{"geometry":{"coordinates":[-92.35,34.72],"type":"Point"},"properties":{"NAME":"Little Rock","POSITION":"T","STATE":"AR"},"type":"Feature"},{"geometry":{"coordinates":[-111.639,35.2013516],"type":"Point"},"properties":{"NAME":"Flagstaff","POSITION":"R","STATE":"AZ"},"type":"Feature"},{"geometry":{"coordinates":[-112.02,33.43],"type":"Point"},"properties":{"NAME":"Phoenix","POSITION":"B","STATE":"AZ"},"type":"Feature"},{"geometry":{"coordinates":[-110.93,32.12],"type":"Point"},"properties":{"NAME":"Tucson","POSITION":"R","STATE":"AZ"},"type":"Feature"},{"geometry":{"coordinates":[-114.628,32.6926512],"type":"Point"},"properties":{"NAME":"Yuma","POSITION":"R","STATE":"AZ"},"type":"Feature"},{"geometry":{"coordinates":[-119.018715,35.373291],"type":"Point"},"properties":{"NAME":"Bakersfield","POSITION":"R","STATE":"CA"},"type":"Feature"},{"geometry":{"coordinates":[-119.787125,36.737797],"type":"Point"},"properties":{"NAME":"Fresno","POSITION":"R","STATE":"CA"},"type":"Feature"},{"geometry":{"coordinates":[-118.237,34.05282],"type":"Point"},"properties":{"NAME":"Los Angeles","POSITION":"B","STATE":"CA"},"type":"Feature"},{"geometry":{"coordinates":[-121.5,38.52],"type":"Point"},"properties":{"NAME":"Sacramento","POSITION":"T","STATE":"CA"},"type":"Feature"},{"geometry":{"coordinates":[-117.17,32.73],"type":"Point"},"properties":{"NAME":"San Diego","POSITION":"L","STATE":"CA"},"type":"Feature"},{"geometry":{"coordinates":[-122.422,37.77302],"type":"Point"},"properties":{"NAME":"San Francisco","POSITION":"L","STATE":"CA"},"type":"Feature"},{"geometry":{"coordinates":[-121.92,37.37],"type":"Point"},"properties":{"NAME":"San Jose","POSITION":"R","STATE":"CA"},"type":"Feature"},{"geometry":{"coordinates":[-104.72,38.82],"type":"Point"},"properties":{"NAME":"Colorado Springs","POSITION":"B","STATE":"CO"},"type":"Feature"},{"geometry":{"coordinates":[-104.984,39.7375],"type":"Point"},"properties":{"NAME":"Denver","POSITION":"L","STATE":"CO"},"type":"Feature"},{"geometry":{"coordinates":[-105.078,40.5592],"type":"Point"},"properties":{"NAME":"Fort Collins","POSITION":"T","STATE":"CO"},"type":"Feature"},{"geometry":{"coordinates":[-108.551,39.0638705],"type":"Point"},"properties":{"NAME":"Grand Junction","POSITION":"T","STATE":"CO"},"type":"Feature"},{"geometry":{"coordinates":[-73.2,41.2],"type":"Point"},"properties":{"NAME":"Bridgeport","POSITION":"T","STATE":"CT"},"type":"Feature"},{"geometry":{"coordinates":[-72.684,41.765],"type":"Point"},"properties":{"NAME":"Hartford","POSITION":"R","STATE":"CT"},"type":"Feature"},{"geometry":{"coordinates":[-72.9,41.3],"type":"Point"},"properties":{"NAME":"New Haven","POSITION":"R","STATE":"CT"},"type":"Feature"},{"geometry":{"coordinates":[-73.539,41.0528],"type":"Point"},"properties":{"NAME":"Stamford","POSITION":"R","STATE":"CT"},"type":"Feature"},{"geometry":{"coordinates":[-77.035,38.890159],"type":"Point"},"properties":{"NAME":"Washington","POSITION":"R","STATE":"DC"},"type":"Feature"},{"geometry":{"coordinates":[-75.428,38.9126],"type":"Point"},"properties":{"NAME":"Milford","POSITION":"R","STATE":"DE"},"type":"Feature"},{"geometry":{"coordinates":[-75.547,39.7458],"type":"Point"},"properties":{"NAME":"Wilmington","POSITION":"R","STATE":"DE"},"type":"Feature"},{"geometry":{"coordinates":[-81.6557,30.3322],"type":"Point"},"properties":{"NAME":"Jacksonville","POSITION":"R","STATE":"FL"},"type":"Feature"},{"geometry":{"coordinates":[-80.1918,25.7617],"type":"Point"},"properties":{"NAME":"Miami","POSITION":"B","STATE":"FL"},"type":"Feature"},{"geometry":{"coordinates":[-81.3792,28.5383],"type":"Point"},"properties":{"NAME":"Orlando","POSITION":"R","STATE":"FL"},"type":"Feature"},{"geometry":{"coordinates":[-84.2807,30.4383],"type":"Point"},"properties":{"NAME":"Tallahassee","POSITION":"B","STATE":"FL"},"type":"Feature"},{"geometry":{"coordinates":[-82.4572,27.9506],"type":"Point"},"properties":{"NAME":"Tampa","POSITION":"R","STATE":"FL"},"type":"Feature"},{"geometry":{"coordinates":[-84.388,33.749],"type":"Point"},"properties":{"NAME":"Atlanta","POSITION":"B","STATE":"GA"},"type":"Feature"},{"geometry":{"coordinates":[-82.0105,33.4735],"type":"Point"},"properties":{"NAME":"Augusta","POSITION":"R","STATE":"GA"},"type":"Feature"},{"geometry":{"coordinates":[-84.9877,32.461],"type":"Point"},"properties":{"NAME":"Columbus","POSITION":"R","STATE":"GA"},"type":"Feature"},{"geometry":{"coordinates":[-83.6324,32.8407],"type":"Point"},"properties":{"NAME":"Macon","POSITION":"R","STATE":"GA"},"type":"Feature"},{"geometry":{"coordinates":[-81.0912,32.0809],"type":"Point"},"properties":{"NAME":"Savannah","POSITION":"B","STATE":"GA"},"type":"Feature"},{"geometry":{"coordinates":[-157.8583,21.3069],"type":"Point"},"properties":{"NAME":"Honolulu","POSITION":"R","STATE":"HI"},"type":"Feature"},{"geometry":{"coordinates":[-91.666,41.977879],"type":"Point"},"properties":{"NAME":"Cedar Rapids","POSITION":"L","STATE":"IA"},"type":"Feature"},{"geometry":{"coordinates":[-90.578,41.533643],"type":"Point"},"properties":{"NAME":"Davenport","POSITION":"T","STATE":"IA"},"type":"Feature"},{"geometry":{"coordinates":[-93.617,41.576],"type":"Point"},"properties":{"NAME":"Des Moines","POSITION":"B","STATE":"IA"},"type":"Feature"},{"geometry":{"coordinates":[-96.4,42.4949942],"type":"Point"},"properties":{"NAME":"Sioux City","POSITION":"R","STATE":"IA"},"type":"Feature"},{"geometry":{"coordinates":[-116.2023,43.615],"type":"Point"},"properties":{"NAME":"Boise","POSITION":"B","STATE":"ID"},"type":"Feature"},{"geometry":{"coordinates":[-112.0408,43.4927],"type":"Point"},"properties":{"NAME":"Idaho Falls","POSITION":"T","STATE":"ID"},"type":"Feature"},{"geometry":{"coordinates":[-112.4506,42.8621],"type":"Point"},"properties":{"NAME":"Pocatello","POSITION":"B","STATE":"ID"},"type":"Feature"},{"geometry":{"coordinates":[-87.6298,41.8781],"type":"Point"},"properties":{"NAME":"Chicago","POSITION":"R","STATE":"IL"},"type":"Feature"},{"geometry":{"coordinates":[-88.08,41.53],"type":"Point"},"properties":{"NAME":"Joliet","POSITION":"L","STATE":"IL"},"type":"Feature"},{"geometry":{"coordinates":[-89.589,40.6936],"type":"Point"},"properties":{"NAME":"Peoria","POSITION":"R","STATE":"IL"},"type":"Feature"},{"geometry":{"coordinates":[-89.094,42.271],"type":"Point"},"properties":{"NAME":"Rockford","POSITION":"L","STATE":"IL"},"type":"Feature"},{"geometry":{"coordinates":[-89.6501,39.7817],"type":"Point"},"properties":{"NAME":"Springfield","POSITION":"R","STATE":"IL"},"type":"Feature"},{"geometry":{"coordinates":[-87.5711,37.9716],"type":"Point"},"properties":{"NAME":"Evansville","POSITION":"T","STATE":"IN"},"type":"Feature"},{"geometry":{"coordinates":[-85.1394,41.0793],"type":"Point"},"properties":{"NAME":"Fort Wayne","POSITION":"B","STATE":"IN"},"type":"Feature"},{"geometry":{"coordinates":[-86.1581,39.7684],"type":"Point"},"properties":{"NAME":"Indianapolis","POSITION":"B","STATE":"IN"},"type":"Feature"},{"geometry":{"coordinates":[-86.252,41.6764],"type":"Point"},"properties":{"NAME":"South Bend","POSITION":"B","STATE":"IN"},"type":"Feature"},{"geometry":{"coordinates":[-95.2353,38.9717],"type":"Point"},"properties":{"NAME":"Lawrence","POSITION":"B","STATE":"KS"},"type":"Feature"},{"geometry":{"coordinates":[-95.6752,39.0473],"type":"Point"},"properties":{"NAME":"Topeka","POSITION":"L","STATE":"KS"},"type":"Feature"},{"geometry":{"coordinates":[-97.3148,37.6979],"type":"Point"},"properties":{"NAME":"Wichita","POSITION":"T","STATE":"KS"},"type":"Feature"},{"geometry":{"coordinates":[-86.4808,36.9685],"type":"Point"},"properties":{"NAME":"Bowling Green","POSITION":"R","STATE":"KY"},"type":"Feature"},{"geometry":{"coordinates":[-84.8733,38.2009],"type":"Point"},"properties":{"NAME":"Frankfort","POSITION":"T","STATE":"KY"},"type":"Feature"},{"geometry":{"coordinates":[-84.5037,38.0406],"type":"Point"},"properties":{"NAME":"Lexington","POSITION":"B","STATE":"KY"},"type":"Feature"},{"geometry":{"coordinates":[-85.7584,38.2527],"type":"Point"},"properties":{"NAME":"Louisville","POSITION":"L","STATE":"KY"},"type":"Feature"},{"geometry":{"coordinates":[-86.7816,36.1627],"type":"Point"},"properties":{"NAME":"Nashville","POSITION":"T","STATE":"KY"},"type":"Feature"},{"geometry":{"coordinates":[-91.1473,30.4711],"type":"Point"},"properties":{"NAME":"Baton Rouge","POSITION":"T","STATE":"LA"},"type":"Feature"},{"geometry":{"coordinates":[-92.0198,30.2241],"type":"Point"},"properties":{"NAME":"Lafayette","POSITION":"B","STATE":"LA"},"type":"Feature"},{"geometry":{"coordinates":[-90.0715,29.9511],"type":"Point"},"properties":{"NAME":"New Orleans","POSITION":"B","STATE":"LA"},"type":"Feature"},{"geometry":{"coordinates":[-93.7502,32.5252],"type":"Point"},"properties":{"NAME":"Shreveport","POSITION":"R","STATE":"LA"},"type":"Feature"},{"geometry":{"coordinates":[-71.0589,42.3601],"type":"Point"},"properties":{"NAME":"Boston","POSITION":"R","STATE":"MA"},"type":"Feature"},{"geometry":{"coordinates":[-71.0184,42.0834],"type":"Point"},"properties":{"NAME":"Brockton","POSITION":"R","STATE":"MA"},"type":"Feature"},{"geometry":{"coordinates":[-71.3162,42.6334],"type":"Point"},"properties":{"NAME":"Lowell","POSITION":"R","STATE":"MA"},"type":"Feature"},{"geometry":{"coordinates":[-72.5898,42.1015],"type":"Point"},"properties":{"NAME":"Springfield","POSITION":"T","STATE":"MA"},"type":"Feature"},{"geometry":{"coordinates":[-71.8023,42.2626],"type":"Point"},"properties":{"NAME":"Worcester","POSITION":"L","STATE":"MA"},"type":"Feature"},{"geometry":{"coordinates":[-76.46922,38.9784],"type":"Point"},"properties":{"NAME":"Annapolis","POSITION":"R","STATE":"MD"},"type":"Feature"},{"geometry":{"coordinates":[-76.6093,39.2992],"type":"Point"},"properties":{"NAME":"Baltimore","POSITION":"T","STATE":"MD"},"type":"Feature"},{"geometry":{"coordinates":[-75.52,39.16],"type":"Point"},"properties":{"NAME":"Dover","POSITION":"R","STATE":"MD"},"type":"Feature"},{"geometry":{"coordinates":[-77.1528,39.084],"type":"Point"},"properties":{"NAME":"Rockville","POSITION":"L","STATE":"MD"},"type":"Feature"},{"geometry":{"coordinates":[-69.7795,44.3106],"type":"Point"},"properties":{"NAME":"Augusta","POSITION":"T","STATE":"ME"},"type":"Feature"},{"geometry":{"coordinates":[-68.7712,44.8016],"type":"Point"},"properties":{"NAME":"Bangor","POSITION":"T","STATE":"ME"},"type":"Feature"},{"geometry":{"coordinates":[-70.2568,43.6591],"type":"Point"},"properties":{"NAME":"Portland","POSITION":"T","STATE":"ME"},"type":"Feature"},{"geometry":{"coordinates":[-83.743,42.2808],"type":"Point"},"properties":{"NAME":"Ann Arbor","POSITION":"B","STATE":"MI"},"type":"Feature"},{"geometry":{"coordinates":[-83.0458,42.3314],"type":"Point"},"properties":{"NAME":"Detroit","POSITION":"R","STATE":"MI"},"type":"Feature"},{"geometry":{"coordinates":[-85.6681,42.9634],"type":"Point"},"properties":{"NAME":"Grand Rapids","POSITION":"T","STATE":"MI"},"type":"Feature"},{"geometry":{"coordinates":[-84.5555,42.7325],"type":"Point"},"properties":{"NAME":"Lansing","POSITION":"B","STATE":"MI"},"type":"Feature"},{"geometry":{"coordinates":[-83.95,43.42],"type":"Point"},"properties":{"NAME":"Saginaw","POSITION":"T","STATE":"MI"},"type":"Feature"},{"geometry":{"coordinates":[-92.1005,46.7867],"type":"Point"},"properties":{"NAME":"Duluth","POSITION":"L","STATE":"MN"},"type":"Feature"},{"geometry":{"coordinates":[-93.265,44.9778],"type":"Point"},"properties":{"NAME":"Minneapolis","POSITION":"L","STATE":"MN"},"type":"Feature"},{"geometry":{"coordinates":[-92.4802,44.0121],"type":"Point"},"properties":{"NAME":"Rochester","POSITION":"R","STATE":"MN"},"type":"Feature"},{"geometry":{"coordinates":[-93.09,44.9537],"type":"Point"},"properties":{"NAME":"St. Paul","POSITION":"R","STATE":"MN"},"type":"Feature"},{"geometry":{"coordinates":[-92.3341,38.9517],"type":"Point"},"properties":{"NAME":"Columbia","POSITION":"T","STATE":"MO"},"type":"Feature"},{"geometry":{"coordinates":[-92.1735,38.5767],"type":"Point"},"properties":{"NAME":"Jefferson City","POSITION":"B","STATE":"MO"},"type":"Feature"},{"geometry":{"coordinates":[-94.5786,39.0997],"type":"Point"},"properties":{"NAME":"Kansas City","POSITION":"T","STATE":"MO"},"type":"Feature"},{"geometry":{"coordinates":[-93.2923,37.209],"type":"Point"},"properties":{"NAME":"Springfield","POSITION":"R","STATE":"MO"},"type":"Feature"},{"geometry":{"coordinates":[-90.1994,38.627],"type":"Point"},"properties":{"NAME":"St. Louis","POSITION":"R","STATE":"MO"},"type":"Feature"},{"geometry":{"coordinates":[-88.8853,30.396],"type":"Point"},"properties":{"NAME":"Biloxi","POSITION":"T","STATE":"MS"},"type":"Feature"},{"geometry":{"coordinates":[-90.1848,32.2988],"type":"Point"},"properties":{"NAME":"Jackson","POSITION":"B","STATE":"MS"},"type":"Feature"},{"geometry":{"coordinates":[88.7034,34.2576],"type":"Point"},"properties":{"NAME":"Tupelo","POSITION":"R","STATE":"MS"},"type":"Feature"},{"geometry":{"coordinates":[-108.5007,45.7833],"type":"Point"},"properties":{"NAME":"Billings","POSITION":"R","STATE":"MT"},"type":"Feature"},{"geometry":{"coordinates":[-111.0429,46.677],"type":"Point"},"properties":{"NAME":"Bozeman","POSITION":"R","STATE":"MT"},"type":"Feature"},{"geometry":{"coordinates":[-111.3008,47.5053],"type":"Point"},"properties":{"NAME":"Great Falls","POSITION":"R","STATE":"MT"},"type":"Feature"},{"geometry":{"coordinates":[-112.0391,46.5891],"type":"Point"},"properties":{"NAME":"Helena","POSITION":"B","STATE":"MT"},"type":"Feature"},{"geometry":{"coordinates":[-113.994,46.8721],"type":"Point"},"properties":{"NAME":"Missoula","POSITION":"R","STATE":"MT"},"type":"Feature"},{"geometry":{"coordinates":[-82.5515,35.5951],"type":"Point"},"properties":{"NAME":"Asheville","POSITION":"T","STATE":"NC"},"type":"Feature"},{"geometry":{"coordinates":[-80.8431,35.2271],"type":"Point"},"properties":{"NAME":"Charlotte","POSITION":"T","STATE":"NC"},"type":"Feature"},{"geometry":{"coordinates":[-78.8784,35.0527],"type":"Point"},"properties":{"NAME":"Fayetteville","POSITION":"B","STATE":"NC"},"type":"Feature"},{"geometry":{"coordinates":[-79.792,36.0726],"type":"Point"},"properties":{"NAME":"Greensboro","POSITION":"T","STATE":"NC"},"type":"Feature"},{"geometry":{"coordinates":[-76.2858,36.8507],"type":"Point"},"properties":{"NAME":"Norfolk","POSITION":"R","STATE":"NC"},"type":"Feature"},{"geometry":{"coordinates":[-78.6382,35.7796],"type":"Point"},"properties":{"NAME":"Raleigh","POSITION":"R","STATE":"NC"},"type":"Feature"},{"geometry":{"coordinates":[-100.7837,46.8083],"type":"Point"},"properties":{"NAME":"Bismarck","POSITION":"B","STATE":"ND"},"type":"Feature"},{"geometry":{"coordinates":[-96.7898,46.8772],"type":"Point"},"properties":{"NAME":"Fargo","POSITION":"T","STATE":"ND"},"type":"Feature"},{"geometry":{"coordinates":[-97.0329,47.9253],"type":"Point"},"properties":{"NAME":"Grand Forks","POSITION":"L","STATE":"ND"},"type":"Feature"},{"geometry":{"coordinates":[-101.2923,48.233],"type":"Point"},"properties":{"NAME":"Minot","POSITION":"L","STATE":"ND"},"type":"Feature"},{"geometry":{"coordinates":[-98.342,40.9264],"type":"Point"},"properties":{"NAME":"Grand Island","POSITION":"T","STATE":"NE"},"type":"Feature"},{"geometry":{"coordinates":[-98.9245,40.6941],"type":"Point"},"properties":{"NAME":"Kearney","POSITION":"B","STATE":"NE"},"type":"Feature"},{"geometry":{"coordinates":[-96.7026,40.8136],"type":"Point"},"properties":{"NAME":"Lincoln","POSITION":"B","STATE":"NE"},"type":"Feature"},{"geometry":{"coordinates":[-95.9345,41.2565],"type":"Point"},"properties":{"NAME":"Omaha","POSITION":"L","STATE":"NE"},"type":"Feature"},{"geometry":{"coordinates":[-71.5376,43.2081],"type":"Point"},"properties":{"NAME":"Concord","POSITION":"T","STATE":"NH"},"type":"Feature"},{"geometry":{"coordinates":[-70.8737,43.1979],"type":"Point"},"properties":{"NAME":"Dover","POSITION":"R","STATE":"NH"},"type":"Feature"},{"geometry":{"coordinates":[-71.4548,42.9956],"type":"Point"},"properties":{"NAME":"Manchester","POSITION":"L","STATE":"NH"},"type":"Feature"},{"geometry":{"coordinates":[-71.4676,42.7654],"type":"Point"},"properties":{"NAME":"Nashua","POSITION":"R","STATE":"NH"},"type":"Feature"},{"geometry":{"coordinates":[-75.1196,39.9259],"type":"Point"},"properties":{"NAME":"Camden","POSITION":"R","STATE":"NJ"},"type":"Feature"},{"geometry":{"coordinates":[-74.86,40.51],"type":"Point"},"properties":{"NAME":"Flemington","POSITION":"B","STATE":"NJ"},"type":"Feature"},{"geometry":{"coordinates":[-74.1724,40.7357],"type":"Point"},"properties":{"NAME":"Newark","POSITION":"L","STATE":"NJ"},"type":"Feature"},{"geometry":{"coordinates":[-74.7597,40.2206],"type":"Point"},"properties":{"NAME":"Trenton","POSITION":"R","STATE":"NJ"},"type":"Feature"},{"geometry":{"coordinates":[-106.6504,35.0844],"type":"Point"},"properties":{"NAME":"Albuquerque","POSITION":"B","STATE":"NM"},"type":"Feature"},{"geometry":{"coordinates":[-108.2187,36.7281],"type":"Point"},"properties":{"NAME":"Farmington","POSITION":"R","STATE":"NM"},"type":"Feature"},{"geometry":{"coordinates":[-106.7637,32.3199],"type":"Point"},"properties":{"NAME":"Las Cruces","POSITION":"R","STATE":"NM"},"type":"Feature"},{"geometry":{"coordinates":[-104.523,33.3943],"type":"Point"},"properties":{"NAME":"Roswell","POSITION":"R","STATE":"NM"},"type":"Feature"},{"geometry":{"coordinates":[-105.9378,35.687],"type":"Point"},"properties":{"NAME":"Santa Fe","POSITION":"R","STATE":"NM"},"type":"Feature"},{"geometry":{"coordinates":[-119.7674,39.1638],"type":"Point"},"properties":{"NAME":"Carson City","POSITION":"B","STATE":"NV"},"type":"Feature"},{"geometry":{"coordinates":[-115.1398,36.1699],"type":"Point"},"properties":{"NAME":"Las Vegas","POSITION":"T","STATE":"NV"},"type":"Feature"},{"geometry":{"coordinates":[-119.8149,39.5308],"type":"Point"},"properties":{"NAME":"Reno","POSITION":"T","STATE":"NV"},"type":"Feature"},{"geometry":{"coordinates":[-73.7562,42.6526],"type":"Point"},"properties":{"NAME":"Albany","POSITION":"R","STATE":"NY"},"type":"Feature"},{"geometry":{"coordinates":[-75.92,42.099],"type":"Point"},"properties":{"NAME":"Binghamton","POSITION":"L","STATE":"NY"},"type":"Feature"},{"geometry":{"coordinates":[-78.8784,42.8864],"type":"Point"},"properties":{"NAME":"Buffalo","POSITION":"R","STATE":"NY"},"type":"Feature"},{"geometry":{"coordinates":[-74.006,40.7128],"type":"Point"},"properties":{"NAME":"New York","POSITION":"B","STATE":"NY"},"type":"Feature"},{"geometry":{"coordinates":[-77.6088,43.1566],"type":"Point"},"properties":{"NAME":"Rochester","POSITION":"T","STATE":"NY"},"type":"Feature"},{"geometry":{"coordinates":[-76.1474,43.0481],"type":"Point"},"properties":{"NAME":"Syracuse","POSITION":"T","STATE":"NY"},"type":"Feature"},{"geometry":{"coordinates":[-84.512,39.1031],"type":"Point"},"properties":{"NAME":"Cincinnati","POSITION":"T","STATE":"OH"},"type":"Feature"},{"geometry":{"coordinates":[-81.6944,41.4993],"type":"Point"},"properties":{"NAME":"Cleveland","POSITION":"T","STATE":"OH"},"type":"Feature"},{"geometry":{"coordinates":[-82.9988,39.9612],"type":"Point"},"properties":{"NAME":"Columbus","POSITION":"T","STATE":"OH"},"type":"Feature"},{"geometry":{"coordinates":[-83.5379,41.6528],"type":"Point"},"properties":{"NAME":"Toledo","POSITION":"T","STATE":"OH"},"type":"Feature"},{"geometry":{"coordinates":[-80.649299,41.096258],"type":"Point"},"properties":{"NAME":"Youngstown","POSITION":"L","STATE":"OH"},"type":"Feature"},{"geometry":{"coordinates":[-98.3959,34.6036],"type":"Point"},"properties":{"NAME":"Lawton","POSITION":"R","STATE":"OK"},"type":"Feature"},{"geometry":{"coordinates":[-97.5164,35.4676],"type":"Point"},"properties":{"NAME":"Oklahoma City","POSITION":"L","STATE":"OK"},"type":"Feature"},{"geometry":{"coordinates":[-95.9928,36.154],"type":"Point"},"properties":{"NAME":"Tulsa","POSITION":"T","STATE":"OK"},"type":"Feature"},{"geometry":{"coordinates":[-121.3153,44.0582],"type":"Point"},"properties":{"NAME":"Bend","POSITION":"R","STATE":"OR"},"type":"Feature"},{"geometry":{"coordinates":[-123.0868,44.0521],"type":"Point"},"properties":{"NAME":"Eugene","POSITION":"B","STATE":"OR"},"type":"Feature"},{"geometry":{"coordinates":[-122.8756,42.3265],"type":"Point"},"properties":{"NAME":"Medford","POSITION":"R","STATE":"OR"},"type":"Feature"},{"geometry":{"coordinates":[-122.675,45.5051],"type":"Point"},"properties":{"NAME":"Portland","POSITION":"R","STATE":"OR"},"type":"Feature"},{"geometry":{"coordinates":[-123.0351,44.9429],"type":"Point"},"properties":{"NAME":"Salem","POSITION":"B","STATE":"OR"},"type":"Feature"},{"geometry":{"coordinates":[-75.4714,40.6023],"type":"Point"},"properties":{"NAME":"Allentown","POSITION":"T","STATE":"PA"},"type":"Feature"},{"geometry":{"coordinates":[-80.0851,42.1292],"type":"Point"},"properties":{"NAME":"Erie","POSITION":"R","STATE":"PA"},"type":"Feature"},{"geometry":{"coordinates":[-76.8867,40.2732],"type":"Point"},"properties":{"NAME":"Harrisburg","POSITION":"L","STATE":"PA"},"type":"Feature"},{"geometry":{"coordinates":[-75.1652,39.9526],"type":"Point"},"properties":{"NAME":"Philadelphia","POSITION":"L","STATE":"PA"},"type":"Feature"},{"geometry":{"coordinates":[-79.9959,40.4406],"type":"Point"},"properties":{"NAME":"Pittsburgh","POSITION":"T","STATE":"PA"},"type":"Feature"},{"geometry":{"coordinates":[-75.6624,41.409],"type":"Point"},"properties":{"NAME":"Scranton","POSITION":"B","STATE":"PA"},"type":"Feature"},{"geometry":{"coordinates":[-71.4128,41.824],"type":"Point"},"properties":{"NAME":"Providence","POSITION":"R","STATE":"RI"},"type":"Feature"},{"geometry":{"coordinates":[-79.9311,32.7765],"type":"Point"},"properties":{"NAME":"Charleston","POSITION":"B","STATE":"SC"},"type":"Feature"},{"geometry":{"coordinates":[-81.0348,34.0007],"type":"Point"},"properties":{"NAME":"Columbia","POSITION":"B","STATE":"SC"},"type":"Feature"},{"geometry":{"coordinates":[-82.394,34.8526],"type":"Point"},"properties":{"NAME":"Greenville","POSITION":"B","STATE":"SC"},"type":"Feature"},{"geometry":{"coordinates":[-81.0251,34.9249],"type":"Point"},"properties":{"NAME":"Rock Hill","POSITION":"B","STATE":"SC"},"type":"Feature"},{"geometry":{"coordinates":[-98.4865,45.4647],"type":"Point"},"properties":{"NAME":"Aberdeen","POSITION":"L","STATE":"SD"},"type":"Feature"},{"geometry":{"coordinates":[-100.3538,44.3668],"type":"Point"},"properties":{"NAME":"Pierre","POSITION":"T","STATE":"SD"},"type":"Feature"},{"geometry":{"coordinates":[-103.231,44.0805],"type":"Point"},"properties":{"NAME":"Rapid City","POSITION":"B","STATE":"SD"},"type":"Feature"},{"geometry":{"coordinates":[-96.7283,43.5473],"type":"Point"},"properties":{"NAME":"Sioux Falls","POSITION":"L","STATE":"SD"},"type":"Feature"},{"geometry":{"coordinates":[-97.1151,44.8994],"type":"Point"},"properties":{"NAME":"Watertown","POSITION":"L","STATE":"SD"},"type":"Feature"},{"geometry":{"coordinates":[-85.3097,35.0456],"type":"Point"},"properties":{"NAME":"Chattanooga","POSITION":"T","STATE":"TN"},"type":"Feature"},{"geometry":{"coordinates":[-83.9207,35.9606],"type":"Point"},"properties":{"NAME":"Knoxville","POSITION":"R","STATE":"TN"},"type":"Feature"},{"geometry":{"coordinates":[-90.049,35.1495],"type":"Point"},"properties":{"NAME":"Memphis","POSITION":"R","STATE":"TN"},"type":"Feature"},{"geometry":{"coordinates":[-101.831,35.222],"type":"Point"},"properties":{"NAME":"Amarillo","POSITION":"T","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-97.7431,30.2672],"type":"Point"},"properties":{"NAME":"Austin","POSITION":"T","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-97.5,25.9],"type":"Point"},"properties":{"NAME":"Brownsville","POSITION":"T","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-97.3964,27.8006],"type":"Point"},"properties":{"NAME":"Corpus Christi","POSITION":"R","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-96.797,32.7767],"type":"Point"},"properties":{"NAME":"Dallas","POSITION":"R","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-106.485,31.7619],"type":"Point"},"properties":{"NAME":"El Paso","POSITION":"B","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-95.3698,29.7604],"type":"Point"},"properties":{"NAME":"Houston","POSITION":"R","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-99.5076,27.5036],"type":"Point"},"properties":{"NAME":"Laredo","POSITION":"B","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-101.85525,33.577809],"type":"Point"},"properties":{"NAME":"Lubbock","POSITION":"T","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-102.08,31.99],"type":"Point"},"properties":{"NAME":"Midland","POSITION":"R","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-98.4936,29.4241],"type":"Point"},"properties":{"NAME":"San Antonio","POSITION":"L","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-97.147,31.55],"type":"Point"},"properties":{"NAME":"Waco","POSITION":"R","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-111.6585,40.2338],"type":"Point"},"properties":{"NAME":"Provo","POSITION":"B","STATE":"UT"},"type":"Feature"},{"geometry":{"coordinates":[-111.891,40.7608],"type":"Point"},"properties":{"NAME":"Salt Lake City","POSITION":"L","STATE":"UT"},"type":"Feature"},{"geometry":{"coordinates":[-82.189,36.595],"type":"Point"},"properties":{"NAME":"Bristol","POSITION":"T","STATE":"VA"},"type":"Feature"},{"geometry":{"coordinates":[-77.436,37.5407],"type":"Point"},"properties":{"NAME":"Richmond","POSITION":"T","STATE":"VA"},"type":"Feature"},{"geometry":{"coordinates":[-79.9414,37.271],"type":"Point"},"properties":{"NAME":"Roanoke","POSITION":"B","STATE":"VA"},"type":"Feature"},{"geometry":{"coordinates":[-75.978,36.8529],"type":"Point"},"properties":{"NAME":"Virginia Beach","POSITION":"B","STATE":"VA"},"type":"Feature"},{"geometry":{"coordinates":[-73.2121,44.4759],"type":"Point"},"properties":{"NAME":"Burlington","POSITION":"T","STATE":"VT"},"type":"Feature"},{"geometry":{"coordinates":[-72.5754,44.2601],"type":"Point"},"properties":{"NAME":"Montpelier","POSITION":"B","STATE":"VT"},"type":"Feature"},{"geometry":{"coordinates":[-72.9726,43.6106],"type":"Point"},"properties":{"NAME":"Rutland","POSITION":"R","STATE":"VT"},"type":"Feature"},{"geometry":{"coordinates":[-122.9007,47.0379],"type":"Point"},"properties":{"NAME":"Olympia","POSITION":"B","STATE":"WA"},"type":"Feature"},{"geometry":{"coordinates":[-122.3321,47.6062],"type":"Point"},"properties":{"NAME":"Seattle","POSITION":"R","STATE":"WA"},"type":"Feature"},{"geometry":{"coordinates":[-117.426,47.6588],"type":"Point"},"properties":{"NAME":"Spokane","POSITION":"L","STATE":"WA"},"type":"Feature"},{"geometry":{"coordinates":[-120.31,47.42],"type":"Point"},"properties":{"NAME":"Wenatchee","POSITION":"R","STATE":"WA"},"type":"Feature"},{"geometry":{"coordinates":[-91.4985,44.8113],"type":"Point"},"properties":{"NAME":"Eau Claire","POSITION":"T","STATE":"WI"},"type":"Feature"},{"geometry":{"coordinates":[-88.0133,44.5133],"type":"Point"},"properties":{"NAME":"Green Bay","POSITION":"L","STATE":"WI"},"type":"Feature"},{"geometry":{"coordinates":[-89.4012,43.0731],"type":"Point"},"properties":{"NAME":"Madison","POSITION":"B","STATE":"WI"},"type":"Feature"},{"geometry":{"coordinates":[-87.9065,43.0389],"type":"Point"},"properties":{"NAME":"Milwaukee","POSITION":"T","STATE":"WI"},"type":"Feature"},{"geometry":{"coordinates":[81.633,38.35],"type":"Point"},"properties":{"NAME":"Charleston","POSITION":"R","STATE":"WV"},"type":"Feature"},{"geometry":{"coordinates":[-94.4611,43.6522],"type":"Point"},"properties":{"NAME":"Fairmont","POSITION":"T","STATE":"WV"},"type":"Feature"},{"geometry":{"coordinates":[-73.4257,40.8682],"type":"Point"},"properties":{"NAME":"Huntington","POSITION":"R","STATE":"WV"},"type":"Feature"},{"geometry":{"coordinates":[-79.9559,39.6295],"type":"Point"},"properties":{"NAME":"Morgantown","POSITION":"R","STATE":"WV"},"type":"Feature"},{"geometry":{"coordinates":[-81.5615,39.2667],"type":"Point"},"properties":{"NAME":"Parkersburg","POSITION":"R","STATE":"WV"},"type":"Feature"},{"geometry":{"coordinates":[-106.3252,42.8501],"type":"Point"},"properties":{"NAME":"Casper","POSITION":"R","STATE":"WY"},"type":"Feature"},{"geometry":{"coordinates":[-104.8202,41.14],"type":"Point"},"properties":{"NAME":"Cheyenne","POSITION":"T","STATE":"WY"},"type":"Feature"},{"geometry":{"coordinates":[-110.7624,43.2799],"type":"Point"},"properties":{"NAME":"Jackson","POSITION":"R","STATE":"WY"},"type":"Feature"},{"geometry":{"coordinates":[-109.2029,41.5875],"type":"Point"},"properties":{"NAME":"Rock Springs","POSITION":"R","STATE":"WY"},"type":"Feature"}]}'),C=3,L={CA:2,NV:2.75,TX:2},s={INTERACTIVE:"interactive",GEO:"geo",LABELS:"labels",POLY_LABELS:"polyLabels",SIZE_OF_LEAD:"sizeOfLead",REMAINING_VOTE:"remainingVotes"},S=[s.GEO,s.INTERACTIVE,s.LABELS,s.POLY_LABELS],m=[s.GEO,s.INTERACTIVE,s.CIRCLE],N={RIGHT:"R",BOTTOM:"B",LEFT:"L",TOP:"T",CENTER:"C"},x={id:"cities",featureId:({properties:{NAME:j,STATE:r}})=>`${j} ${r}`,type:s.LABELS,source:l,filter(j,r){const k=L[j.properties.STATE]||C;return r>=k},label(j){return j.properties.NAME},position(j){return j.properties.POSITION}}},"./components/helpers/analytics.js":(re,b,a)=>{a.r(b),a.d(b,{MAP_TYPE:()=>N,MapAnalyticsContextProvider:()=>j,roundHoverDuration:()=>r,useEmbedAnalytics:()=>Te,useMapAnalytics:()=>k});var l=a("./node_modules/next/dist/compiled/react/index.js"),C=a("./node_modules/@nbcnews/analytics-framework/dist/analytics-framework.min.js"),L=a.n(C),s=a("./components/providers/EmbedContext.js"),S=l.createElement;const{stub:m}=L();m("register","elections_hover_map",{allowDuplicate:!0});const N={REGULAR:"regular",SIZE_OF_LEAD:"size of lead",REMAINING_VOTE:"remaining vote"},x=(0,l.createContext)(null);function j({children:w,mapType:f=N.REGULAR,raceName:R=""}){const W=(0,l.useMemo)(()=>({mapType:f,raceName:R}),[f,R]);return S(x.Provider,{value:W},w)}j.displayName="MapAnalyticsContextProvider";function r(w){return w<10?5:Math.round(w/10)*10}function k(){const w=(0,l.useContext)(x),{0:f,1:R}=(0,l.useState)(null),{0:W,1:H}=(0,l.useState)(0),q=(0,l.useRef)(new Set);return(0,l.useEffect)(()=>{if(!w||!W)return;const{raceName:G,mapType:K}=w,Z=r(W/1e3);Z<5||q.current.has(Z)||(q.current.add(Z),m("track","elections_hover_map",{duration:Z,mapType:K,raceName:G}))},[W,w]),(0,l.useEffect)(()=>{if(!f||!w)return;let G=0;const K=()=>{G=Date.now()},Z=()=>{if(!G)return;const de=Date.now()-G;H(se=>se+de)};return f.addEventListener("mouseenter",K),f.addEventListener("mouseleave",Z),()=>{f.removeEventListener("mouseenter",K),f.removeEventListener("mouseleave",Z)}},[f,w]),{setReference:(0,l.useCallback)(G=>{R(G)},[])}}const v=["nbcnews.com","telemundo.com"];function Te(){const{isPartner:w}=(0,l.useContext)(s.default);(0,l.useEffect)(()=>{const f=R=>{const W=w?"cid":"icid",q=R.target?.closest(`[data-${W}]`)?.getAttribute(`data-${W}`);if(!q)return;const ne=`BI_UI_${W}`,G=v.find(Z=>window.location.hostname.includes(Z))??v[0],K=new Date;K.setMinutes(K.getMinutes()+30),document.cookie=`${ne}=${q}; expires=${K.toUTCString()}; path=/; domain=${G}`};return window.addEventListener("click",f),()=>{window.removeEventListener("click",f)}},[w])}},"./components/hooks/useIsSafari.js":(re,b,a)=>{a.r(b),a.d(b,{default:()=>L});var l=a("./node_modules/next/dist/compiled/react/index.js"),C=a("./helpers/MobileDetection.js");function L(){const{0:s,1:S}=(0,l.useState)(!1);return(0,l.useEffect)(()=>{S(C.default.iOS()||C.default.Safari())},[]),s}},"./helpers/MobileDetection.js":(re,b,a)=>{a.r(b),a.d(b,{default:()=>C});const l={hasUserAgent(){return typeof navigator<"u"?navigator.userAgent||" ":!1},Android(){return this.hasUserAgent()&&navigator.userAgent.match(/Android/i)},BlackBerry(){return this.hasUserAgent()&&navigator.userAgent.match(/BlackBerry/i)},iOS(){return this.hasUserAgent()&&(navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},Safari(){return this.hasUserAgent()&&navigator.userAgent.match(/^((?!chrome|android).)*safari/i)},Opera(){return this.hasUserAgent()&&navigator.userAgent.match(/Opera Mini/i)},Windows(){return this.hasUserAgent()&&navigator.userAgent.match(/IEMobile/i)},any(){return l.Android()||l.BlackBerry()||l.iOS()||l.Opera()||l.Windows()}},C=l}}]);
